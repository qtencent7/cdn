/*!
 * zbcx_cx
 * version: 4.1.3-230511
 * (c)2015-2023 武汉智博创享科技股份有限公司
 * http://www.whzbcx.com/
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("axios"),require("xlsx"),require("qs"),require("crypto-js")):"function"==typeof define&&define.amd?define(["exports","axios","xlsx","qs","crypto-js"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).cx={},t.axios,t.XLSX,t._0x25b9ca,t._0x41e60a)}(this,(function(exports,_0x18c44e,_0x51f4f8,_0x25b9ca,_0x41e60a){"use strict";function _interopDefaultLegacy(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function _interopNamespace(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(s){if("default"!==s){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(e,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}})),e.default=t,Object.freeze(e)}var _0x18c44e__default=_interopDefaultLegacy(_0x18c44e),_0x51f4f8__namespace=_interopNamespace(_0x51f4f8),_0x25b9ca__default=_interopDefaultLegacy(_0x25b9ca),_0x41e60a__namespace=_interopNamespace(_0x41e60a);function _0x5bcf(){const t=["W7mekmoOW7W5WRFdTSkbW5a","W5dcUCkuW70OaSkIW6BdLcTYia","W7pdMmkRpgBdPmo0g0hcLmo9W4RdPq","oCo+WPbLW5NdQmkgWRJcGmoiWQldVCo6","gSo2b8okcrddOW","CmkDWRObWRS9E8olWRtcJIC","W5uHWQZdMmopmW","fmo+W6fIWQqdmfqA","W4zadeldGmo/W5CgW5BcK8okySkH","WQRdTSooW73dK8kSChVdI8oTzMWc","W5yUas1xW5HvWRngECkNva","BrDKfvrGvqlcLNxdIG","WQSOlSkrW5SRgmkCzCk/WRq2","wmkKrCkewupdOmoMW5KhxeW","W7xcUCkpWR04WO8Xhq","vSk8W5lcISkAWPjMWRVdUwC","WOpdGK7cSgZdHSoQ"];return(_0x5bcf=function(){return t})()}const _0x2ae7be=_0x1c58;function _0x1c58(t,e){const s=_0x5bcf();return _0x1c58=function(e,r){let o=s[e-=228];if(void 0===_0x1c58.yyqlkc){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x1c58.CMVSWy=e,t=arguments,_0x1c58.yyqlkc=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x1c58.HfWoXF&&(_0x1c58.HfWoXF=!0),o=_0x1c58.CMVSWy(o,r),t[i]=o),o},_0x1c58(t,e)}let cxCurTime,cxStTime;!function(t,e){const s=_0x1c58,r=t();for(;;)try{if(471723===-parseInt(s(243,"Rk*m"))/1+parseInt(s(244,"Wqkh"))/2*(parseInt(s(228,"K1ns"))/3)+parseInt(s(234,"1rb("))/4+parseInt(s(242,"1B@N"))/5*(parseInt(s(238,"v#Im"))/6)+parseInt(s(239,"XjJz"))/7+parseInt(s(240,"]234"))/8+-parseInt(s(232,"3rJZ"))/9*(parseInt(s(229,"&1Di"))/10))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x5bcf);class Global{}Global.attFactory=null,Global.codeFactory=null,Global.syscfg=null,Global.user=null,Global.entity=null,Global.field=null,Global[_0x2ae7be(237,"D]tc")]=null,Global.func=null,Global.layer=null,Global[_0x2ae7be(235,"Wqkh")]=null,Global.access=null,Global.prosAssi=null,Global[_0x2ae7be(230,"zgnr")]=null,Global.indexDb=null,Global[_0x2ae7be(236,"sP%X")]=null,Global.setCurTime=function(t){t&&!cxCurTime&&(cxCurTime=t,cxStTime=new Date)},Global[_0x2ae7be(231,"zsDi")]=function(){if(cxCurTime){const t=new Date-cxStTime;return new Date(cxCurTime.getTime()+(t>0?t:0))}return new Date};var _0x5ab14a=_0x42a3;function _0x59c9(){var t=["mmkLlCkHWORcGCo5WOVdIXnX","W64bdCoT","W4FdNSkCnL3dH8oMWQKbqdhcJq8","W6GXWOdcV111e0GJimorW6tdTG","DcutW4ZcHSkIW4hdHrPHow0","smkeW6SEkrlcJhu","sx/dS8k9mCokW4q","zSoSWRFdI24Ukq","sxVdQCk2kmofW4/cKmkagqSVvIy","W4VdTaH0W7ddMdD2","mSkPp8kLWOdcL8oUWPVdIXLQqSo9","WRNdSHPTW4RdSGW","W7ddHCk3WOVdT0b+W5NcVZJcSM8H","W5RcO2L/x8kgWRf6WPK","WQzsW5RdNgXSW5VcVa","CL3dG8ojW4NcHmkY","mSkYWOFdTMLswJldQCk5","k8o8WQ/dVxukC8kSD8opWRlcPq","W5JcO3zQx8kwWRD0","jSoYW7LtW4dcM1VdKs5MW4tcVCo1teW","WQpdOdhdPCofyG1szfSjWRxdNW","WPRcNCoWycdcUa","o8o0WR7dSN4lD8kPFq","WOuSzmonFSkqW6uuW4W","EmkTWRZcQZXvWRpcTNKkW60","WRtcOCocW5PcWRafW4ddSG3cV8kE","WPqxkwLTiZe","xSo0WPJdUKi4yq","WR7cHgaaWPVcU1edWR4+W7lcNmoGrW","W5HMd8kIymkFcSkpW6anW4aX","w8kbWOlcIwtdJCosf8oM","WO1iW7FdLYKaENGbiW","i8k8xmoBWQvNWRC","imkjW4D2WRqBWRCt","WRtcOCocW5PnWRagW4ZdRHtcVmkC","WRBcJeTwWRFcNXhcOW","iCoKW6ToW5lcH0hdGZ1ZW48","W6K6oxTWgXeZWQu","oH/dSIddRmkfAdPCWQWZ","W4CJWQVcPX4hWQxcUSoVA8kDCW","sSkQvIK","cSk2W5WIW4BcP37dMYdcJq","WRaVwmorwaVcIq","WQ0BE8owcCoUiSkR","smkdW6WikXJcMNnpWPiaWOO8","DuRdK8ojW4ZcHSk5ceFcGx1P","svJcPSofWPbGW6xdLvZcTmogWOG","W5FcK1lcKmk9dwTcvvq","ECkPWRRcVs9CWQhcTh8l"];return(_0x59c9=function(){return t})()}!function(t,e){for(var s=_0x42a3,r=t();;)try{if(946005===parseInt(s(310,"ERsV"))/1*(-parseInt(s(322,"aWv@"))/2)+-parseInt(s(335,"b6bM"))/3+-parseInt(s(312,"x8&1"))/4+-parseInt(s(352,"&O@H"))/5+-parseInt(s(343,"Na3["))/6*(-parseInt(s(311,"Na3["))/7)+parseInt(s(334,"uL&U"))/8+-parseInt(s(309,"&(@]"))/9*(-parseInt(s(344,"I5$s"))/10))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x59c9);class Consts{}function _0x42a3(t,e){var s=_0x59c9();return _0x42a3=function(e,r){var o=s[e-=304];if(void 0===_0x42a3.bcaiva){var a=function(t){for(var e,s,r="",o="",a=0,n=0;s=t.charAt(n++);~s&&(e=a%4?64*e+s:s,a++%4)?r+=String.fromCharCode(255&e>>(-2*a&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(var i=0,c=r.length;i<c;i++)o+="%"+("00"+r.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(o)},n=function(t,e){var s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(var c=0;c<t.length;c++)n=(n+o[r=(r+1)%256])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(c)^o[(o[r]+o[n])%256]);return i};_0x42a3.qBiYAA=n,t=arguments,_0x42a3.bcaiva=!0}var i=s[0],c=e+i,l=t[c];return l?o=l:(void 0===_0x42a3.tIfIMX&&(_0x42a3.tIfIMX=!0),o=_0x42a3.qBiYAA(o,r),t[c]=o),o},_0x42a3(t,e)}Consts.DB_ORACLE=1,Consts.DB_MYSQL=2,Consts.DB_POSTGRESQL=3,Consts[_0x5ab14a(341,"Na3[")]=4,Consts.DISP_TEXTBOX=1,Consts[_0x5ab14a(320,"&(@]")]=2,Consts.DISP_DATE=3,Consts.DISP_RTEXT=4,Consts.DISP_TIMESTAMP=5,Consts[_0x5ab14a(342,"ICgX")]=6,Consts.DISP_VALBUTTON=7,Consts.DISP_SELDEPPOS=8,Consts[_0x5ab14a(349,"ERsV")]=9,Consts.DISP_HLTEXT=10,Consts.DISP_AUTOCODE=11,Consts[_0x5ab14a(345,"OnSF")]=12,Consts.DISP_DATEYEAR=13,Consts.DISP_MULTISEL=21,Consts.DISP_RADIO=22,Consts.DISP_SWITCH=23,Consts.ENTITY_TABLE=1,Consts.ENTITY_PNT=2,Consts.ENTITY_LIN=3,Consts.ENTITY_REG=4,Consts.ENTITY_NOTE=5,Consts[_0x5ab14a(332,"ICgX")]=12,Consts.FEATURE_LIN=13,Consts[_0x5ab14a(319,"9Y#R")]=14,Consts.UI_NONE=0,Consts.UI_DIALOG=1,Consts[_0x5ab14a(324,"DDP7")]=2,Consts.UI_ROUTE=3,Consts.UI_COM=4,Consts.MAPS_SYMBOL=1,Consts[_0x5ab14a(307,"pdWq")]=2,Consts.MAPS_ICON=3,Consts.MAPS_MODEL=4,Consts[_0x5ab14a(350,"OnSF")]=1,Consts[_0x5ab14a(326,"x8&1")]=2,Consts.FILE_VIDEO=3,Consts.FILE_AUDIO=4,Consts.DELFILE_NO=0,Consts.DELFILE_SUCCESS=1,Consts[_0x5ab14a(329,"B&xS")]=2,Consts.OPENFILE_OPEN=1,Consts.OPENFILE_SAVE=2,Consts.DT_NONE=0,Consts[_0x5ab14a(304,"gsN&")]=1,Consts.DT_REAL=2,Consts.DT_STRING=3,Consts.DT_DATE=4,Consts.DT_DATETIME=5,Consts[_0x5ab14a(339,"8S[H")]=6,Consts.RULE_INITNEW=1,Consts.RULE_INITOLD=2,Consts.RULE_INIT=3,Consts.RULE_CHANGE=4,Consts.RULE_FINISH=8,Consts.RES_FILE=1,Consts.RES_URL=2,Consts[_0x5ab14a(316,"LsdL")]=3,Consts.PROC_START=1,Consts.PROC_HANDLE=2,Consts.PROC_PROGRESS=3,Consts.PROC_TRACE=4,Consts[_0x5ab14a(337,"dd56")]=5,Consts.ATT_VIEW=6,Consts.ATT_ADD=7,Consts.SYSTAB=99,Consts[_0x5ab14a(348,"TC1J")]=1,Consts.TAB_ENTITY=4,Consts[_0x5ab14a(338,"B&9i")]=5,Consts.TAB_FLDVALUE=6,Consts.TAB_PLUGIN=8,Consts.TAB_FUNC=10,Consts[_0x5ab14a(306,"[)VI")]=12,Consts.TAB_USER=13,Consts.TAB_SYSUSER=14,Consts[_0x5ab14a(321,"99O1")]=15,Consts.TAB_USERROLE=16,Consts.TAB_USERDEP=17,Consts.TAB_SYSROLEOBJ=18,Consts[_0x5ab14a(314,"b6bM")]=19,Consts.TAB_DOCDIR=20,Consts.TAB_DOCDIRTMPL=21,Consts.TAB_RESREL=31,Consts.TAB_MAPLAYER=32,Consts.TAB_MAPSERVICE=33,Consts.TAB_VIEWPORT=34,Consts.TAB_REGION=35,Consts.TAB_LAYER=36,Consts.TAB_MAPARA=37,Consts[_0x5ab14a(317,"4#zU")]=38,Consts.TAB_OPERLOG=39,Consts.TAB_SYSGROUP=40,Consts.TAB_USERGROUP=41,Consts.TAB_DOCRECYB=44,Consts.TAB_MEDIA=45,Consts.TAB_USERSQL=47,Consts[_0x5ab14a(308,"4#zU")]=48,Consts.TAB_ZYTREE=49,Consts.TAB_AUTHETT=53,Consts.TAB_CMDTOOL=54,Consts.TAB_RESDIR=55,Consts.TAB_USERHABIT=56,Consts[_0x5ab14a(305,"ERsV")]=57,Consts.TAB_PROCGRP=60,Consts.TAB_PROCS=61,Consts.TAB_DELEGATE=62,Consts[_0x5ab14a(328,")luK")]=63,Consts.TAB_PROCCOMP=65,Consts.ORGAN=12,Consts.USER=13,Consts.SYSUSER=14,Consts[_0x5ab14a(325,"R@7i")]=15,Consts.USERROLE=16,Consts.USERDEP=17,Consts.ROLEOBJ=18,Consts[_0x5ab14a(318,"WVTk")]=19,Consts[_0x5ab14a(313,"DZL1")]=41,Consts.MEDIA=45,Consts.ALIGN_LEFT=-1,Consts.ALIGN_CENTER=0,Consts.ALIGN_RIGHT=1,Consts.ALIGN_TOP=-1,Consts.ALIGN_MIDDLE=0,Consts.ALIGN_BOTTOM=1,Consts.RUN_VUE=1,Consts.SCENE_2D=1,Consts[_0x5ab14a(346,"aWv@")]=2,Consts.SCENE_23D=3,Consts.THISMONTH=1,Consts.LASTMONTH=2,Consts.NEXTMONTH=3,Consts.LEVEL_NORMAL=1,Consts[_0x5ab14a(330,"&O@H")]=2,Consts[_0x5ab14a(331,"pdWq")]=3,Consts.LEVEL_DANGER=4,Consts.LEVEL_EMPHASIZE=5,Consts.ASSIGN_FUNC=1,Consts.ASSIGN_BTN=2,Consts[_0x5ab14a(327,"dd56")]=3,Consts.ASSIGN_LAYER=4,Consts[_0x5ab14a(351,"9Y#R")]=5,Consts.ASSIGN_AUTHETT=7,Consts.ASSIGN_AUTHEXP=8,Consts.DCN_NODE=1,Consts.DCN_LEAF=2,Consts.DCS_LABEL=1,Consts.DCS_FILESYS=2,Consts.DCS_MEMOBJ=3,Consts.DCS_TABLE=4,Consts.SVR_ADD=1,Consts.SVR_DEL=2,Consts[_0x5ab14a(347,")luK")]=3,Consts.SVR_QRY=4,Consts.SVR_STAT=5,Consts.SVR_PROC=6,Consts.SVR_QRYID=7,Consts.SVR_QRYID0=8,Consts.TEXT_SEPARATOR=":@:",Consts[_0x5ab14a(336,"phfy")]=_0x5ab14a(323,"CW@A"),Consts[_0x5ab14a(340,"B&9i")]="■",Consts.PAGE_SIZE=15,Consts.PAGE_SIZES=[15,50,100],Consts[_0x5ab14a(333,"(6^r")]=0,Consts.PX="px",Consts.MILLISECOND_DAY=864e5;var _0x254af8=_0x6671;!function(t,e){for(var s=_0x6671,r=t();;)try{if(255028===-parseInt(s(379,"$og]"))/1+parseInt(s(380,"d%IS"))/2+-parseInt(s(390,"sW5a"))/3+-parseInt(s(389,"l7S9"))/4*(parseInt(s(388,"qErq"))/5)+-parseInt(s(378,"9U0)"))/6*(-parseInt(s(386,"wWdC"))/7)+-parseInt(s(376,"V]z!"))/8*(parseInt(s(385,"ep9Y"))/9)+-parseInt(s(382,"kxbz"))/10*(-parseInt(s(375,"GpQZ"))/11))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x86ab);class RegEx{}function _0x6671(t,e){var s=_0x86ab();return _0x6671=function(e,r){var o=s[e-=375];if(void 0===_0x6671.XgDnCQ){var a=function(t){for(var e,s,r="",o="",a=0,n=0;s=t.charAt(n++);~s&&(e=a%4?64*e+s:s,a++%4)?r+=String.fromCharCode(255&e>>(-2*a&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(var i=0,c=r.length;i<c;i++)o+="%"+("00"+r.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(o)},n=function(t,e){var s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(var c=0;c<t.length;c++)n=(n+o[r=(r+1)%256])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(c)^o[(o[r]+o[n])%256]);return i};_0x6671.WwnsNS=n,t=arguments,_0x6671.XgDnCQ=!0}var i=s[0],c=e+i,l=t[c];return l?o=l:(void 0===_0x6671.DpHNes&&(_0x6671.DpHNes=!0),o=_0x6671.WwnsNS(o,r),t[c]=o),o},_0x6671(t,e)}function _0x86ab(){var t=["WQddJH1PW6VdUcinW6FdN8kqW5e","tCkraMlcVCoJWONcId8","W7nMx8ktW7emdI8","itypWPRcG04JEW","W4CyW7ZcKSoMfdTkW4JdOmkWWPa","W4RcK8oUW5dcRGJcTMq","WQxcSCoyo8oBhI7dNSkOvCoqW78","DxlcGCokaefCWRtcPuJdTmkZ","W4Cpr8oVsmkfbcm","pmkpWQOIoLFcLSkBW68vbSkU","pvaKlCkeW7VdMCkfD8khD8ke","W5FdNfifW4rJW6q0W7ZcTCkBWRm","feiVkIWzWRldUSovW7bqEa","BSoejCk+W5bVcSoAWRBdISkUW5C","W7ldVstdLq","W5y9W6RcR8kShcJcPtVdVeJcIty"];return(_0x86ab=function(){return t})()}RegEx.numberAndUnit=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,RegEx.isNumber=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,RegEx.refId=/#\{([a-zA-Z0-9\-_]+)\}/i,RegEx.refVar=/\{([a-zA-Z0-9\-_]+)\}/gi,RegEx[_0x254af8(384,"#yA%")]=/^([1-9]\d{3})-(\d+)-(\d+)\s+(\d+):(\d+):(\d+)(?=\.\d+)*|$/,RegEx[_0x254af8(381,"SzmS")]=/^([0-1][0-9]|2[0-3]):([0-5][0-9])(:([0-5][0-9]))?$/,RegEx.shortName=/\/([a-zA-Z0-9\-_]+)\./;const _0x295262=_0x3af4;function _0x4714(){const t=["WOm/dmoPWRn2ublcHZNdRq","EmkTWPxdHmoWwa","WP87xMRcTYBcJdPZW4C","W5bzamoRzhhcKCkOWQmiWPq","pCorkI0","cSkOF0P4eG","qmkdWRtdMSouFNFcJai","W5Kfe8kaWQlcVG","CSoFEgVdMSko","WO95fCopWO9ksSoeWQdcSNf5","mJJdR8oYW7VdHW3dTq","ECkJWOldPSoS","WOn+fConWO9aCCoLWRdcJx9Q","cmkOW61hCNBcP8oMWQCUoq","WQxdTmodWODOWR7cJmkapSkDbZvK","FSo/W4VdG3/dV8oy","WQ5sW7tcH3JcO2CXW6tdGtNdPM4","WR/dRWWfW5xcHq","m8k0WODYW75ctW","pYOtW5ZcTmkjW6C+Ca","qmoeW7bRWQdcRCkgzG","jmk1WOe","oYxdVSosW7VcMG","EW8wsmojvCkVgYvEwSoN","WPTOp8odW5BdPwxdNq","WP1ccb7cJG3cGq","W6zkFCkpW4DGDW","WPxdIvSMmSk4nqtcNIdcVG5K","WRHSaSkGWORcT8kMWQe","W7ufWQhdSdtdOW","t8ojW5uVWQ3cJ8oVkq07qhSH"];return(_0x4714=function(){return t})()}function _0x3af4(t,e){const s=_0x4714();return _0x3af4=function(e,r){let o=s[e-=495];if(void 0===_0x3af4.ZqKUUk){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x3af4.Bgzvhk=e,t=arguments,_0x3af4.ZqKUUk=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x3af4.howxml&&(_0x3af4.howxml=!0),o=_0x3af4.Bgzvhk(o,r),t[i]=o),o},_0x3af4(t,e)}!function(t,e){const s=_0x3af4,r=t();for(;;)try{if(685017===-parseInt(s(512,"&6*k"))/1*(-parseInt(s(499,"J2P*"))/2)+parseInt(s(514,"OUb3"))/3+-parseInt(s(496,"J2P*"))/4*(parseInt(s(515,"%od1"))/5)+parseInt(s(517,"yPgz"))/6+parseInt(s(520,"&6*k"))/7*(-parseInt(s(521,"IGoz"))/8)+-parseInt(s(501,"Hn]6"))/9+parseInt(s(503,"zi5B"))/10)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x4714);class I18n{static loc(t,e,...s){const r=vm[_0x3af4(522,"mfdu")](t,s);return e&&t===r?e:r}static locBase(t,e,...s){const r=vm.$locBase(t,s);return e&&t===r?e:r}static locProc(t,e,...s){const r=vm[_0x3af4(511,"@2I4")](t,s);return e&&t===r?e:r}static[_0x295262(523,"ELMJ")](t,e){const s=_0x295262;let r,o,a;if(a=t.loc,a){if(r=a[s(498,"aI)4")](RegEx.refVar),r)for(o of r)a=a.replace(o,e[o[s(495,"4%gA")](1,o.length-2)]);const t=a;if(a=vm.$t(a),a!==t)return a}if(a=t.defval,a){if(r=a.match(RegEx.refVar),r)for(o of r)a=a.replace(o,e[o.substr(1,o.length-2)]);return a}return console.log(s(509,"#huQ")+t),""}static locAtt(t,e,s){const r=_0x295262;let o=this.getDefLoc(e);if(Global.entity){const s=Global.entity.byMajMin(t,e);o=s?s.loc:o}return o?this.locCfg(o,s):(console[r(508,"[ZLk")]("error locAtt: "+t+","+e),"")}static locSysdef(t){return this.locAtt(Consts.SYSTAB,Consts.TAB_SYSDEF,t)}static locEntity(t){const e=_0x295262;return this[e(516,"zi5B")](Consts[e(525,"%od1")],Consts.TAB_ENTITY,t)}static locFld(t){const e=_0x295262;return this.locAtt(Consts.SYSTAB,Consts[e(513,"udi]")],t)}static locFldvalue(t){return this.locAtt(Consts.SYSTAB,Consts.TAB_FLDVALUE,t)}static locPlugin(t){return this[_0x295262(519,"aI)4")](Consts.SYSTAB,Consts.TAB_PLUGIN,t)}static locFunc(t){return this[_0x295262(504,"Wma*")](Consts.SYSTAB,Consts.TAB_FUNC,t)}static[_0x295262(497,"#huQ")](t){const e=_0x295262;return this.locAtt(Consts.SYSTAB,Consts[e(506,"lp]H")],t)}static locProcgrp(t){const e=_0x295262;return this.locAtt(Consts.SYSTAB,Consts[e(500,"VloX")],t)}static locProcs(t){return this.locAtt(Consts.SYSTAB,Consts.TAB_PROCS,t)}static getDefLoc(t){const e=_0x295262;switch(t){case Consts.TAB_SYSDEF:return{defval:"{namec}"};case Consts.TAB_ENTITY:return{defval:e(505,"[ZLk")};case Consts.TAB_FLD:return{defval:"{namec}"};case Consts.TAB_FLDVALUE:return{defval:"{dispc}"};case Consts.TAB_PLUGIN:case Consts.TAB_FUNC:case Consts.TAB_REGION:case Consts.TAB_CMDTOOL:return{defval:"{namec}"};case Consts.TAB_PROCGRP:return{defval:e(502,"pEFb")};case Consts[e(524,"aI)4")]:case Consts.TAB_ORGAN:return{defval:"{namec}"}}return null}}function _0x313a(){const t=["WPXidmkIamoUAmomWPW","ff7dNmolW6zNwa","W5hcNNq8WRNcHCoKA8oNqW","WRJdRCoLqmkm","WRnjW5hdNZznma","W68NW5XSiqFdVM4a","W7CZodWkCSo5rSoJW41Ok0i","pMPrW6XiWRCNWQq","WPWKW6tdPSojcSkgW6rj","W6pcTCkIgSoruCo8W5PnWOrpW4hcSG","oSkcb8k7W54","WQxcR25cj8ojWRf1WPBdGCoJW7O","WRHmoNGiW5ldTSokW4lcK8omW4y1","W69eDhj9umoueG","WR4BW4dcS8oJ","W49xyCkIWO/dRSkrAmkPhfxdLIa","WOtcS0RdJ8o+W4zrW6LuW6ZdGKj8","W6hcUCkPf8k1bCkzW6LlWOG","W5nyx8kXWRuWW4xdGCoDEq","sGxcU8oNBWpdJa","W4xcP2qSW6VdTIlcI8kVWOxdUdZcNa","WQTCxtuPA8oxkmkkjq"];return(_0x313a=function(){return t})()}const _0x521f16=_0x5ccb;!function(t,e){const s=_0x5ccb,r=t();for(;;)try{if(281436===-parseInt(s(468,"PkX%"))/1*(parseInt(s(473,"as^6"))/2)+parseInt(s(480,"k2Sz"))/3*(-parseInt(s(471,"1XnY"))/4)+parseInt(s(476,"QQny"))/5*(parseInt(s(478,"n%Fg"))/6)+parseInt(s(477,"#tnP"))/7*(parseInt(s(467,"6qPg"))/8)+-parseInt(s(485,"RY@e"))/9*(-parseInt(s(465,"v^rI"))/10)+parseInt(s(466,"fx5W"))/11+-parseInt(s(481,"6qPg"))/12)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x313a);class Url{static getRequestUrl(t,...e){let s,r,o=t+"?",a=0;for(s of e)if(s)for(r in s)o+=(a>0?"&":"")+r+"="+s[r],a++;return o}static[_0x521f16(483,"PpM^")](t){const e=_0x521f16;let s={baseUrl:"",params:{}},r=t.split("?");if(s.baseUrl=r[0],r[1]){r[1][e(482,"*aY&")]("&")[e(469,"gUvm")]((t=>{let r=t[e(464,"*nF!")]("=");s.params[r[0]]=r[1]}))}return s}static querySearch(t,e){const s=_0x521f16;let r=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),o=t[s(475,"6qPg")](r);return o?o[2]:""}static open(t){window.open(t)}static download(t){let e=document.createElement("a");e.href=t,e.click()}}function _0x5ccb(t,e){const s=_0x313a();return _0x5ccb=function(e,r){let o=s[e-=464];if(void 0===_0x5ccb.CmqxQe){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x5ccb.WhwTyA=e,t=arguments,_0x5ccb.CmqxQe=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x5ccb.YcUFiC&&(_0x5ccb.YcUFiC=!0),o=_0x5ccb.WhwTyA(o,r),t[i]=o),o},_0x5ccb(t,e)}function _0x4536(){var t=["W44UWOWfx23dL8oCWQ3dPW","pwirCxy3WRSpWRFdUSoXWQFcRq","WORdKSo/nG","rMtdMCk4er0pW5NcHw1/lGu","cCkDWRO8WOldRbiaW4y","BKagtJj/ra","mJnwmSk6W5pdPr4Cnq","dCkPrmo/mSk2WQjyA8k5WQW","xSoOWQmGgaC8W5tdOmocWOhcL8kR","WPGNW5mEW5a","mJOxBCkdW4RdOJS","rwBdL8k8febUW43cI1r5","WQNdMexcRmoWW6lcNN4HW5ddHq","W7C9dmorWPbzWOZdS8oNWPpcMZFcNsO","W4GRW7O8BSkajSoyW7i","nSkZWQJdHCkoq8kvW6pcNaBdIXVdTG","pG4RW6/dSv7dKKVdVWq","r8kpWOVcSXTQc8obW6OJW4y","amkTW75I","WOBcNN7cSsPhWRC"];return(_0x4536=function(){return t})()}!function(t,e){for(var s=_0x5b13,r=t();;)try{if(820833===-parseInt(s(381,"*hpe"))/1*(-parseInt(s(389,"Thr1"))/2)+parseInt(s(390,"m^h8"))/3*(parseInt(s(380,"$Tc3"))/4)+-parseInt(s(384,"NHa8"))/5*(-parseInt(s(386,"bhAg"))/6)+-parseInt(s(397,"iwfA"))/7*(parseInt(s(379,"r8&F"))/8)+parseInt(s(398,"9Zt("))/9+parseInt(s(395,"A*BU"))/10*(parseInt(s(388,"Eyv("))/11)+parseInt(s(382,"ebnJ"))/12*(-parseInt(s(385,"oSs4"))/13))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x4536);class SqlColEx{constructor(t){var e=_0x5b13;this.col=null,this.oper=null,this.value=null,this.conc=null,t&&(t instanceof SqlColEx?(this.col=t.col,this[e(383,"^bIK")]=t[e(387,"vtTA")],this.value=t.value,this.conc=t.conc):(this.col=t[0],this.oper=t[1],this[e(394,"olZw")]=t[2],this.conc=t[3]||"and"))}}function _0x5b13(t,e){var s=_0x4536();return _0x5b13=function(e,r){var o=s[e-=379];if(void 0===_0x5b13.vxWjRh){var a=function(t){for(var e,s,r="",o="",a=0,n=0;s=t.charAt(n++);~s&&(e=a%4?64*e+s:s,a++%4)?r+=String.fromCharCode(255&e>>(-2*a&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(var i=0,c=r.length;i<c;i++)o+="%"+("00"+r.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(o)},n=function(t,e){var s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(var c=0;c<t.length;c++)n=(n+o[r=(r+1)%256])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(c)^o[(o[r]+o[n])%256]);return i};_0x5b13.ODrCRU=n,t=arguments,_0x5b13.vxWjRh=!0}var i=s[0],c=e+i,l=t[c];return l?o=l:(void 0===_0x5b13.SrmVNY&&(_0x5b13.SrmVNY=!0),o=_0x5b13.ODrCRU(o,r),t[c]=o),o},_0x5b13(t,e)}const _0x56f7f1=_0x1bc3;function _0x1bc3(t,e){const s=_0x18c5();return _0x1bc3=function(e,r){let o=s[e-=141];if(void 0===_0x1bc3.LREwhs){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x1bc3.OqFizc=e,t=arguments,_0x1bc3.LREwhs=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x1bc3.gARfOl&&(_0x1bc3.gARfOl=!0),o=_0x1bc3.OqFizc(o,r),t[i]=o),o},_0x1bc3(t,e)}function _0x18c5(){const t=["kCoflCoooSkUh8krq8ovt8kp","ymo8WP3dTG","dSk2WO0","tZJcQujOW7jQu8klnCorfw8","WPxdGMxcKG84j8k5pWpdGuWy","WOZdTCozWPu0mgddVSo8ft1vDW","WQ4YWOFdIf1BWQa","W50YzG","ab3dJ8kfW4/dJGpdJCoMW6WHWRPV","WQTCW7hcMWyVW5W2qCk+kSoJtW","W7pcOmotmSovWQKXjMXNWOHAW4W","WOtdKSk0","WRNcImkIWQSUwr7cHmktWOpdLG","iSk5hW","W7VdPtqpgfv7W6BcPCkVaLJdMq","WOdcGSkVW7H/WQVcLqFdG8kPiaRcOG"];return(_0x18c5=function(){return t})()}!function(t,e){const s=_0x1bc3,r=t();for(;;)try{if(594726===parseInt(s(141,"m0VA"))/1+parseInt(s(153,"G1MD"))/2+parseInt(s(150,"JhrM"))/3+parseInt(s(149,"c%7c"))/4+-parseInt(s(151,"G1]I"))/5*(-parseInt(s(147,"JhrM"))/6)+-parseInt(s(145,"aZTq"))/7+-parseInt(s(144,"Xqrl"))/8)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x18c5);class SqlEx{constructor(){this.exp=[],this.orderby=""}isExpEmpty(){return 0===this.exp.length}from(t,e){const s=_0x1bc3;this.exp=[],this.orderby=e;for(let e=0,r=t.length;e<r;e++){let r=new SqlColEx(t[e]);r[s(148,"bwB$")]&&this.exp.push(r)}}[_0x56f7f1(152,"1jvQ")](t){const e=_0x56f7f1;let s;if(t instanceof SqlEx){for(s of t[e(143,"3bzI")])s.col&&this[e(154,"3MUh")].push(s);t.orderby&&(this.orderby=t.orderby)}else t instanceof SqlColEx&&t.col?this.exp.push(t):t&&(s=new SqlColEx(t),s.col&&this.exp[e(142,"ls9#")](s))}}const _0x54e733=_0x2ddf;function _0x2ddf(t,e){const s=_0x5c12();return _0x2ddf=function(e,r){let o=s[e-=191];if(void 0===_0x2ddf.wlwwne){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x2ddf.lOzCSp=e,t=arguments,_0x2ddf.wlwwne=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x2ddf.HfgfBA&&(_0x2ddf.HfgfBA=!0),o=_0x2ddf.lOzCSp(o,r),t[i]=o),o},_0x2ddf(t,e)}function _0x5c12(){const t=["BZXrWPqMACo7dM8Ho0C","t8oZWPLEWOG5WORcL8kh","lSoHW5RcSNXuz8om","WQdcL8oRW4S","CColWPmpWRmLh8omWPddIdVdMa","WOyAWQFdNmkbygOfjCkmWPRcJr4","ESk8WPJdHYOpfmo4WP4rlu7cUa","W5WMlwS","qmkZWOW","wSo3WOn8WPu","uSore8odqSkojCo3","WQiRpKRcHwqM","j8ooWQlcNaPxw8oNW7GQW6nzW7u","l8kUCqfiW7NcV8ontYFdNCopWP0","WQVdNsVcRSkdvrxdQMlcUXtdU8k9","mSoMfG","a8kfzSoEC8kQdq","kapdNCoggX/cRW","WPFcL1iTshy","bSkaoKGcWQ7dRKWlm8kMW74","nx5Hda","WP0nitVdRCoAAfq","DKhdR0q","Fa/dNCoh","gSkVW5OQW4GoWQxcTCk1WQO0","Emk3WP/dHcSoeSoXWQqQh1BcNq","WRi5dKBdKb5I"];return(_0x5c12=function(){return t})()}!function(t,e){const s=_0x2ddf,r=t();for(;;)try{if(622113===-parseInt(s(198,"GDMk"))/1*(-parseInt(s(200,"UZ3N"))/2)+-parseInt(s(206,"Xkwo"))/3+-parseInt(s(193,"b)Lz"))/4+parseInt(s(192,"@B5$"))/5*(parseInt(s(213,"tJEA"))/6)+parseInt(s(212,"@C^X"))/7+parseInt(s(195,"7faO"))/8+parseInt(s(205,"V^GV"))/9*(parseInt(s(191,"exrO"))/10))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x5c12);class SqlExp{static getDefExp(){return new SqlEx}static[_0x54e733(203,"Tbuj")](t,e){const s=new SqlEx;return s.from(t,e),s}static getColEx(t,e,s,r,o){const a=_0x54e733;return null!=s&&""!==s?(e||(e="="),(e=e.toLocaleLowerCase())===a(211,"It]J")&&(s="%"+s+"%"),new SqlColEx([(o?o+".":"")+t.colname,e,s,r])):null}static getFldExp(t,e,s){const r=_0x54e733;if(e.mode===r(217,"V^GV"))e.value1&&t.add(this.getColEx(e,">=",e.value1,"AND",s)),e.value2&&t.add(this[r(210,"Xkwo")](e,"<=",e.value2,"AND",s));else if("value"===e[r(204,"GDMk")]){let o="=";if(e.value&&!e.isnum){switch(void 0!==e.type?e[r(215,"$O@P")]:e[r(202,"(rA]")]){case Consts.DISP_DATE:case Consts.DISP_TIMESTAMP:break;default:o="like"}}t.add(this.getColEx(e,o,e.value,r(196,"^)vW"),s))}}static getFldExpMore(t,e,s){this.getFldExp(t,e,s)}static merge(t,...e){for(let s of e)s&&t.add(s);return t}static queryPara(t,e,s,r){const o=_0x54e733,a={_major:e,_minor:s};t.orderby&&(a.orderby=t[o(207,"^ViN")]);const n=[];for(let e of t.exp)n.push([e.col,e.oper,e.value,e.conc]);return a.args=n,void 0!==r&&r>0&&(a.init=0,a[o(199,"YkF*")]=1,a.pagesize=r),a}static argsText(t){const e=_0x54e733;let s,r,o,a="";for(o of t){switch(o[1].toUpperCase()){case"=":s=1;break;case"!=":s=2;break;case">":s=3;break;case">=":s=4;break;case"<":s=5;break;case"<=":s=6;break;case"LIKE":s=7;break;case"IS NULL":s=8;break;case"IS NOT NULL":s=9;break;case"IN":s=10;break;default:s=0}switch(r=(void 0===o[3]||null===o[3]?"":o[3]).toUpperCase(),r){case"AND":r=1;break;case"OR":r=2;break;default:r=0}a+=(a?";":"")+o[0]+":@:"+s+e(216,"mKWe")+(void 0===o[2]||null===o[2]||""===o[2]?"null":o[2])+":@:"+r}return a}static[_0x54e733(209,"V^GV")](){const t=_0x54e733;return this.from([["id",">",0,"and"]],t(197,"exrO"))}static getExpGlid(t){return this[_0x54e733(201,"NI3R")]([["id0","=",t,"and"]],"id DESC")}static getExpCompleted(){return this.from([["completed","=",1,"and"]],"id DESC")}static getExpUncompleted(){return this.from([["completed","=",0,"and"]],"id DESC")}static getExpEffect(){return this.from([["effect","!=",0,"and"]],"id DESC")}static getExpInuse(){return this.from([["inuse","=",1,"and"]],"id DESC")}}const _0x51ad82=_0x1f78;function _0x1f78(t,e){const s=_0x3ad5();return _0x1f78=function(e,r){let o=s[e-=237];if(void 0===_0x1f78.oNMUvL){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x1f78.mHsIFy=e,t=arguments,_0x1f78.oNMUvL=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x1f78.EUSXhW&&(_0x1f78.EUSXhW=!0),o=_0x1f78.mHsIFy(o,r),t[i]=o),o},_0x1f78(t,e)}function _0x3ad5(){const t=["lX/dUG/dQxW","mSoNW5vbemkmWQVdJvK","W7Xkq8kboCoujW","WRjzWRWvWOrMW7NdNa","rCkWkCoQ","W6RcVmk2WRPdj21PiCkHlv4","kmk1dvNdUWFdJuRdKCk9W6LIla","kXVdSbO","WO/dMNZdKSk4WRa8","w8k4CJu","oCo5W4iBF8o6z8kxAhPSW7dcOW","mCoLW5GNsmoiW4RdL0/dVCkXnYW","g8oLiMNcSmohWQ5WaZZcIGbt","WOhcVSoVWOlcRmkMaSkAgctcQeVcHG","wCk6W5fqW49SW7C","c0fGz8o+W7achW","WOhdGaZdU2rRbG","yCkJWPznbCkIo8kcEgC","nKFdHwddKY1sfW","W5XtWPldUqi1cZddUG","WRHCWQWcWOrSW7ldNa","duq1nSkvWP1DpSkkWQWaWRhdGa","W59rWP/cN1PXAIRdRmoBW4ZdVsW","mZLIg8orCmkRldZcQSklWO7cRa","W5JdVSoqWQNdIJ/cJCojW63cHSogWQe","FCo2wbG","xrrZzq","W4xcG8oHBKasE04"];return(_0x3ad5=function(){return t})()}!function(t,e){const s=_0x1f78,r=t();for(;;)try{if(703561===-parseInt(s(254,"%hi("))/1+parseInt(s(257,"AtT["))/2*(parseInt(s(262,"KgQL"))/3)+parseInt(s(244,"n@F]"))/4*(parseInt(s(263,"eF5D"))/5)+parseInt(s(255,"sv&$"))/6+-parseInt(s(245,"9%PW"))/7*(-parseInt(s(240,"8#W*"))/8)+-parseInt(s(241,"]Yzh"))/9*(parseInt(s(260,"75hd"))/10)+-parseInt(s(259,"IMYG"))/11*(parseInt(s(252,"]Yzh"))/12))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x3ad5);let auth="";class Http{static init(){const t=_0x1f78;_0x18c44e__default.default[t(239,"5TP8")].withCredentials=!0}static _error(t){console.log(t)}static _isStatus(t){return 100!==t.code}static setAuth(t){auth=t}static getAuth(){return auth}static urlGet(t,e,s){return s||(s={}),auth&&(s._auth=auth),Url.getRequestUrl(t+(e?"/"+e:""),s)}static get(t,e={},s){return new Promise(((r,o)=>{const a=_0x1f78,n=Url.getUrlParams(t),i={};Object.assign(i,n[a(249,"o@zX")],e),i[a(253,"46J]")]&&(i.args=SqlExp[a(248,"*qG6")](i.args)),auth&&(i._auth=auth),_0x18c44e__default.default.get(Url.getRequestUrl(n.baseUrl,i),s).then((t=>{this._isStatus(t.data)&&r(t.data)})).catch((t=>{this._error(t),o(t)}))}))}static post(t,e,s){const r=_0x1f78,o=base.extend({},e),a=base.extend({headers:{"Content-Type":"application/json"}},s);return o[r(246,"sv&$")]&&(o.args=SqlExp.argsText(o.args)),_0x18c44e__default.default.post(t+(auth?r(251,"60Vu")+auth:""),o,a).then((t=>t.data)).catch((t=>{this._error(t)}))}static loadText(t){return new Promise(((e,s)=>{const r=_0x1f78;_0x18c44e__default.default({url:t,data:{},config:{responseType:r(256,"o@zX")}})[r(258,"Upi%")]((t=>{this._isStatus(t.data)&&e(t.data)})).catch((t=>{s(t)}))})).catch((t=>t))}static[_0x51ad82(238,"IMYG")](t){return new Promise(((e,s)=>{_0x18c44e__default.default({url:t,data:{},config:{responseType:"arraybuffer"}}).then((t=>{const s=_0x1f78;this._isStatus(t.data)&&e(t[s(247,"IPia")])})).catch((t=>{s(t)}))})).catch((t=>{}))}}function _0x7088(t,e){const s=_0x5305();return _0x7088=function(e,r){let o=s[e-=154];if(void 0===_0x7088.jFjeEa){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x7088.lYUxYq=e,t=arguments,_0x7088.jFjeEa=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x7088.XvHAbY&&(_0x7088.XvHAbY=!0),o=_0x7088.lYUxYq(o,r),t[i]=o),o},_0x7088(t,e)}_0x18c44e__default.default.defaults.withCredentials=!0,Http.axios=_0x18c44e__default.default;const _0x2f69d0=_0x7088;!function(t,e){const s=_0x7088,r=t();for(;;)try{if(427417===-parseInt(s(158,"blbn"))/1+parseInt(s(157,"W(JC"))/2*(-parseInt(s(163,"!ptP"))/3)+-parseInt(s(165,"yeHO"))/4*(parseInt(s(155,"A(9u"))/5)+parseInt(s(173,"eIXg"))/6+parseInt(s(162,"97k0"))/7+-parseInt(s(156,"XHSu"))/8*(-parseInt(s(176,"yeHO"))/9)+parseInt(s(164,"iYed"))/10*(parseInt(s(171,"%X[^"))/11))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x5305);class Router{static addToRouter(t=[],e=""){e=e===_0x7088(170,"wKML")?"":e,t.forEach((t=>vm.$router.addRoute(e,t)))}static[_0x2f69d0(166,"IdPl")](t=[],e,s){const r=_0x2f69d0,o=s?this.makeRouteRecordRecursive(t,s):t.map((t=>this.makeRouteRecord(t)));this[r(168,"(Y3C")](o,e)}static removeRoutes(t=[]){t.forEach((t=>vm.$router.removeRoute(t)))}static hasRoute(t){return vm.$router.hasRoute(t)}static addRoutesByPlug(t=[],e=[]){const s=[];t.forEach((t=>{const r=_0x7088;if([Consts.UI_TABPAGE,Consts[r(167,"IdPl")]].includes(Number(t.uitype))){let r=Object.assign({modDef:{url:t.url},title:t.namec},t);const o=e.find((e=>e.name===t.name));o&&Object.keys(o.params).length>0&&(r.params=o.params),s.push(r)}}));const r=this.makeRouteRecordRecursive(s,"root");this.addToRouter(r)}static makeRouteRecordRecursive(t=[],e){let s=[];return t.forEach((r=>{if(r.container===e){let e=this.makeRouteRecord(r);e.children=this.makeRouteRecordRecursive(t,r.name),s.push(e)}})),s}static[_0x2f69d0(159,"oFFw")](t){let e={path:"/"+t.name,name:t.name,meta:{_def:this.makeDefNormalized(t)},component:()=>this.makeComponent(t.modDef)};return t.defchild&&(e.redirect="/"+t.defchild),e}static makeDefNormalized(t){const e=_0x2f69d0;return{name:t.name,title:t.title,url:t[e(175,"Fgba")].url,src:t,uitype:Consts.UI_ROUTE}}static makeComponent(t){const e=_0x2f69d0,s=(t={},e)=>{const s=_0x7088;t[s(172,"ct%@")]=t.methods||{},t.methods[s(160,"aWLH")]=t=>({url:this.makeComponentUrl(e)})};return base[e(161,"9)2D")](t[e(154,"pCdR")])?(s(t.com,t.url),Promise.resolve(t.com)):base.loadModule(t.url).then(((r={})=>{const o=e;let a={};return r.mods&&r.mods.default&&(a=r.mods.default),s(a,t[o(169,"KHF%")]),a}))}static makeComponentUrl(t=""){return t.split("src/").pop()}}function _0x5305(){const t=["e8kJFSo7qCk1v8k4EKdcOSkeW7e","WP/cUmkJW4/cQmkvW4i","ua0DW6K4WPiRDmkCxmo9W78E","vmo5z8osW5/dVNlcSZxdIq4O","W47dQmk7iu1V","W5CDWP0FuCo/WOLZWPldOgDMda","W5TlW6q","WOiBW57cVCoRWQtcQCoBi8ke","xbbYrthdHCo+","pCkOeZldRCknW7RdO8kMy8k9WQi","WQldKYOszrzWxSkjWRH8W7m","WQquaSkNW4P4aeXXWOzKxSounSkc","l3dcNxtcLIbYjmoUfCox","W7ldKv1/W7G","tujegmkyo8oXW5XLW5BcRetdRq","l8kAWPS0yIXnnW","WRqdW5bBW4vIsf0","W5muWPGBh8kUW7LvWRFdKG","W6XKnCkwFmoaWRSvWQe","W5HjdSkwxmoGWPS1","WQZcMGZcNaPGWO7dK8kgbYO","zmopyW","DXTFWPW"];return(_0x5305=function(){return t})()}const _0x4518c6=_0x44ff;function _0x308c(){const t=["W5O2WQfR","rd3cNsFdGCkJzYq","rZldQW","vCkgW7vwqrbvpSkyACoHaq","lr3cQXz4zW","qKbAWQldL8oUW6i","WQ7dHKddPqHXWPWPW6GV","eSo1pG99CrHBWQy","DGOqmw3dGfP9WRi","ACorbCkfqW","mCoSW4n6W7bSWQ3dIM4jEW","wSkeW7eHafzSgCkQ","W7hdRmojkXS","cColW5HfyspcLLG","gmkGiqZcKG","WQXOuSkIkmkA","l0BdICkkgwVdUthcIG","Bb/cN8knnq","WQNdK2FcVKRcGHdcTq","WQGuFx0rW6dcVKTy","WRlcTmkoDeC3lSomW5BdLwFcRsxdLW","hbymW6dcH8kVWQVcNSoLWR3dQCkkW7VcHW","WR1PW5NdVComWP8","W67dQSosjb1VCW","W7ZcVmoMW6q","nqdcOW","EWevbZddOu96","sunAWRddH8o2W68","w8o+CuhcJrWfWRRdIvC","xSo8kG7cSJOpWQm","WQi5cYlcPmodxmolWPzFpq","w8o3ts5w","WRNcSxpcK35lWR3cJSkUeuy","D8kdoa","W77dOZpdItnVWR7cGSktlq","W4u2WRb2cq","WRzWW68KWPddOtdcNNtdKSkE"];return(_0x308c=function(){return t})()}function _0x44ff(t,e){const s=_0x308c();return _0x44ff=function(e,r){let o=s[e-=480];if(void 0===_0x44ff.xABINK){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x44ff.FdyEbq=e,t=arguments,_0x44ff.xABINK=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x44ff.LGVhgr&&(_0x44ff.LGVhgr=!0),o=_0x44ff.FdyEbq(o,r),t[i]=o),o},_0x44ff(t,e)}!function(t,e){const s=_0x44ff,r=t();for(;;)try{if(721624===parseInt(s(494,"BIRW"))/1+-parseInt(s(511,"mZCn"))/2*(-parseInt(s(486,"1M&U"))/3)+parseInt(s(498,"MTUP"))/4*(-parseInt(s(487,"1M&U"))/5)+-parseInt(s(506,"MTUP"))/6*(parseInt(s(490,"!h1v"))/7)+parseInt(s(516,"#mIH"))/8+parseInt(s(488,"F7EL"))/9*(-parseInt(s(501,"abrN"))/10)+parseInt(s(515,"eZ0B"))/11)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x308c);class RunVue{static[_0x4518c6(513,"v7Pz")](t,e){const s=_0x4518c6,r=base.deepCopy({width:.5,height:.5},Global.syscfg.dialogUiCfg,t.uicfg),o=this.calDlgWhPos(r);let a={name:t.name,title:I18n.locPlugin(t),icon:t.icon,closable:!!base.defVal(r.closable,!0),minable:!r.modal&&!!base.defVal(r[s(481,"eZ0B")],!1),maxable:!!base.defVal(r.maxable,!1),movable:!!base[s(480,"]PFu")](r.movable,!0),resizeable:!!base.defVal(r[s(492,"!h1v")],!0),width:o.width,height:o.height,pos:o.pos};return a=Object[s(510,"r]^p")]({},r,a),new Promise((async(r,o)=>{const n=s,i=await base.loadModule(t.url)||{},c=i.mods?i.mods.default:null;e=run.makeRunParams(e);const l={name:t[n(482,"!ZrP")],modDef:{url:t.url,com:c},comParams:e,uiParams:a,_def:t};try{const e=run.getRunInstance(t.container).getWrapDialogs();e&&e.add(l),r()}catch(t){o(t)}}))}static calDlgWhPos(t){const e=_0x4518c6,s=document.body.clientWidth,r=document.body.clientHeight,o=base.isStr(t.width)?Number.parseInt(t.width):Math.min(Math[e(507,"eZ0B")](t[e(512,"mZCn")]*(t[e(509,"1M&U")]>1?1:s)),s),a=base.isStr(t.height)?Number[e(496,"RA4U")](t.height):Math.min(Math.round(t.height*(t.height>1?1:r)),r),n={};if(t.hasOwnProperty("offsetx")&&t.hasOwnProperty("offsety")){const i=(t,s,r)=>{const o=e;return Math.abs(r)>=1?r:Math.abs(r)>0?Math.round(t*r):Math[o(489,"8jtr")]((t-s)/2)},c=i(s,o,t.offsetx),l=i(r,a,t[e(500,"#mIH")]);c>0?n.left=c+"px":n.right=Math.abs(c)+"px",l>0?n.top=l+"px":n.bottom=Math.abs(l)+"px"}else{t.pos=t.pos||{top:.5,left:.5};const i=(t,s,r)=>{const o=e;return base.isStr(r)?r:base.isNum(r)?(r>=1?r:Math[o(493,"CVT5")]((t-s)*r))+"px":void 0};n.top=i(r,a,t.pos[e(491,"T7!g")]),n.left=i(s,o,t.pos.left),n.top||(n.bottom=i(r,a,t.pos.bottom)),n.left||(n.right=i(s,o,t[e(497,"SxP@")].right))}return{width:o+"px",height:a+"px",pos:n}}static[_0x4518c6(484,"U7HO")](t,e){const s=_0x4518c6;return t.uicfg=t.uicfg||{},t.uicfg.closable=!!base.defVal(t[s(504,"Xonw")].closable,!0),!Router.hasRoute(t.name)&&(t[s(499,"$]R&")]={url:t.url},t.title=I18n[s(514,"@O8g")](t),Router[s(503,"U7HO")]([t],t.container)),e=run.makeRunParams(e),this.loadRoute(t.name,e,t.uicfg.newWin)}static loadRoute(t,e={},s=!1){const r=_0x4518c6;if(e=run.makeRunParams(e),s)return new Promise(((s,r)=>{const o=_0x44ff;window.open(Http.urlGet(""+window.location.origin+window[o(508,"qGj4")].pathname+"#/"+t,null,e)),s()}));{let s=!0;for(let t in e)if(base.isArr(e[t])||base.isObj(e[t])||base.isFunc(e[t])){s=!1;break}return s?vm.$router.push({name:t,params:e}):(run.getRunInstance(t)[r(502,"PQVb")](e),vm.$router.push({name:t}))}}static loadCom(t,e={},s=!1){return new Promise((async(s,r)=>{const o=_0x44ff,a=await base.loadModule(t[o(483,"$]R&")])||{},n=a.mods?a[o(495,"CVT5")][o(485,"#mIH")]:null,i=run.makeRunParams(e),c={name:t.name,modDef:{url:t.url,com:n},comParams:i,uiParams:{title:I18n.locPlugin(t),...t.uicfg||{}},_def:t};try{const e=run.getRunInstance(t.container).getWrapDynaComs();e&&e.add(c),s()}catch(t){r(t)}}))}}function _0x2223(t,e){const s=_0x525a();return _0x2223=function(e,r){let o=s[e-=213];if(void 0===_0x2223.HiQeiH){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x2223.swRhHr=e,t=arguments,_0x2223.HiQeiH=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x2223.ntocFI&&(_0x2223.ntocFI=!0),o=_0x2223.swRhHr(o,r),t[i]=o),o},_0x2223(t,e)}const _0xda2803=_0x2223;function _0x525a(){const t=["WRvDWPvteSoYW641DSoya8oVW5FcOalcNW","z8k+WQhcOCkbbIPI","WPZcQmoEfeBcICoo","oSoyuCoLWO3dLCkw","W67cUW0ApmoIkCkvAwG0","j8osWOFcMSoge1NcRG","E8o7W5m6WQi","ptJcOSo5WPO5DmozWOxcSa","tSovmG7cRMTYW7/dGs1/","W4FcQwVdOJDEdSoNW6fG","WPddK8kEWOGgWQDjw0zNWOWJW6a","WPpdK8kzWOScWQbjxKfdWQGZW6u","W6BdMSkGWQidWOhdQCoctSo+W6WNjG","iNnCASo8W5hcKcldNMzFix3cUCk5lCoU","WR/dM8oHFCklWPPgWRrKabDBWOTPqa","W6biqgD8jHSCaSkGe8oMWOZdPWq","W7JdNYddUmkuWO7cTLXaW6aH","xSoRuSkgWQXAW7BcPSorW63cNq","WPRdRbxcTa","WP84oezEjruXhG","CmkSgL3cHKG","mf7cJNGXW6PJWOBcRSoJWQJcJmkD","cYuqFLOWeCoPWQxcHwu","z8k+WQhcQmkphdS","kSoPy8oPW7SsW4tdKw8","WQFcKKj4WO0OWRldQ8k/WRH0W6tdPW","W4tcLZuqamoDamkpq0CczItcQxC","WPBcRmoEm08","jNLfvmo4W4lcHW","W5pcS8kIF2VcSNu","W6O6nZnxutndWRi","Fv/cG8o7W7y","W4BdV8oHvCkOWQvx","EdVdOhZcKNS","d2zzBfldS8oYE8oJBCoJ","W6i5WOxdPq3dMXDpW58vW40d","mqtcKsjFW4inrq"];return(_0x525a=function(){return t})()}!function(t,e){const s=_0x2223,r=t();for(;;)try{if(275033===parseInt(s(229,"OFO%"))/1*(-parseInt(s(213,"aAmw"))/2)+parseInt(s(232,"284L"))/3*(parseInt(s(215,"Dhdf"))/4)+-parseInt(s(230,"!K$o"))/5+parseInt(s(239,"$UIK"))/6*(parseInt(s(217,"qtzj"))/7)+-parseInt(s(237,"r[l4"))/8*(-parseInt(s(227,"#$OF"))/9)+parseInt(s(231,"!K$o"))/10+-parseInt(s(241,"Gc@m"))/11)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x525a);class CxDate{static[_0xda2803(226,"JLn3")](t){const e=_0xda2803;let s,r=t.indexOf(" ");if(r=r>0?r:t.length,s=(t=t.substring(0,r))[e(214,"*Scg")](/([\d]+)-([\d]+)-([\d]+)/i),s||(s=t.match(/([\d]+)年([\d]+)月([\d]+)日/i)),s||(s=t[e(247,"c3bC")](/([\d]+)\/([\d]+)\/([\d]+)/i)),s&&4===s.length){let t;return t=s[1].length<4?new Date(parseInt(s[3]),parseInt(s[1])-1,parseInt(s[2])):new Date(parseInt(s[1]),parseInt(s[2])-1,parseInt(s[3])),t}}static addDays(t,e){const s=_0xda2803,r=new Date;return r.setTime(t.getTime()+e*Consts[s(234,"Dhdf")]),r}static copy(t){const e=new Date;return e.setTime(t.getTime()),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}static diffDays(t,e,s=!0){const r=Math.floor((new Date(e)-new Date(t))/Consts.MILLISECOND_DAY);return s?Math.abs(r):r}static[_0xda2803(223,"unLQ")](t,e){return(t-e)/Consts.MILLISECOND_DAY}static getDaysByMonth(...t){const e=_0xda2803;let s=null,r=null;return 1===t.length&&t[0]instanceof Date?(s=t[0].getFullYear(),r=t[0].getMonth()+1):2===t[e(216,"DSx]")]&&(s=t[0],r=t[1]),2===r?this.isLeapYear(s)?29:28:{1:31,3:31,4:30,5:31,6:30,7:31,8:31,9:30,10:31,11:30,12:31}[r]}static getDatesCurWeek(){const t=new Date,e=t.getFullYear(),s=t.getMonth(),r=t.getDate();let o=t.getDay();0===o&&(o=7);const a=new Date(e,s,r,0,0,0),n=new Date(e,s,r,23,59,59),i=a.getTime()-(o-1)*Consts.MILLISECOND_DAY,c=n.getTime()+(6-(o-1))*Consts.MILLISECOND_DAY;return{monday:new Date(i),sunday:new Date(c)}}static getDatesPreWeek(){const t=_0xda2803,e=new Date,s=e.getFullYear(),r=e.getMonth(),o=e.getDate();let a=(e[t(240,"mSJK")]()||7)+7;const n=new Date(s,r,o,0,0,0),i=new Date(s,r,o,23,59,59),c=n.getTime()-(a-1)*Consts.MILLISECOND_DAY,l=i.getTime()+(6-(a-1))*Consts.MILLISECOND_DAY;return{monday:new Date(c),sunday:new Date(l)}}static getDatesCurMonth(){const t=new Date,e=t.getFullYear(),s=t.getMonth();return{first:new Date(e,s,1,0,0,0),last:new Date(e,s+1,0,23,59,59)}}static[_0xda2803(220,"k%uc")](){const t=new Date;let e=t.getFullYear(),s=t.getMonth();s--,s<0&&(s=11,e-=1);return{first:new Date(e,s,1,0,0,0),last:new Date(e,s+1,0,23,59,59)}}static[_0xda2803(228,"yajt")](){const t=_0xda2803,e=new Date,s=e.getFullYear(),r=e[t(221,"MTch")](),o=e.getDate(),a=new Date(s,r,o,0,0,0),n=new Date(s,r,o,23,59,59);return a.setTime(a.getTime()-7*Consts[t(235,"$UIK")]),{start:a,end:n}}static[_0xda2803(218,"Az$h")](){const t=new Date,e=t.getFullYear(),s=t.getMonth(),r=t.getDate(),o=new Date(e,s,r,0,0,0),a=new Date(e,s,r,23,59,59);return o.setTime(o.getTime()-30*Consts.MILLISECOND_DAY),{start:o,end:a}}static[_0xda2803(233,"FkSr")](){const t=_0xda2803,e=new Date,s=e.getFullYear(),r=e.getMonth(),o=e.getDate(),a=new Date(s,r,o,0,0,0),n=new Date(s,r,o,23,59,59);return a.setTime(a.getTime()-90*Consts[t(246,"4&AU")]),{start:a,end:n}}static getExpire(t,e,s){const r=_0xda2803;let o=t[r(224,"4&AU")]()+e,a=t[r(225,"gEbq")]()+1+s,n=t.getDate(),i=!1;for(;a>13;)o++,a-=12;for(;a<1;)o--,a+=12;2===a&&29===n&&(i=this.isLeapYear(o),i&&(n=28));const c=new Date(o+"-"+a+"-"+n);return i?c:this.addDays(c,-1)}static getRange(t){const e=_0xda2803,s=new Date;let r,o,a,n;switch(t){case Consts.THISMONTH:case Consts.LASTMONTH:case Consts[e(244,"mcTg")]:switch(r=s.getFullYear(),t){case Consts.THISMONTH:o=s.getMonth()+1;break;case Consts.LASTMONTH:o=s[e(219,"CQ)R")](),0===o&&(r--,o=12);break;case Consts.NEXTMONTH:o=s.getMonth()+2,13===o&&(r++,o=1)}a=r+"-"+(o>=10?o:"0"+o)+"-01",n=r+"-"+(o>=10?o:"0"+o)+"-"+undefined}return[a,n]}static isDate(t){if(t){let e;if(e=t.split("-"),3===e.length)return!0;if(e=t.split("/"),3===e.length)return!0}return!1}static[_0xda2803(238,"OFO%")](t,e,s){return t>=e&&t<=s}static isLeapYear(t){return(t=parseInt(t))%4==0&&(t%100!=0||t%400==0)}static equals(t,e){const s=_0xda2803;return t.getYear()===e.getYear()&&t.getMonth()===e[s(219,"CQ)R")]()&&t.getDate()===e.getDate()}static[_0xda2803(248,"FkSr")](t,e){const s=_0xda2803,r=t.getYear(),o=e.getYear();if(r>o)return 1;if(r<o)return-1;{const r=t.getMonth(),o=e.getMonth();if(r>o)return 1;if(r<o)return-1;{const r=t[s(222,"c3bC")](),o=e[s(243,"MTch")]();return r>o?1:r<o?-1:0}}}static today(){const t=Global.getCurTime();return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}}function _0x11d2(t,e){const s=_0x1d62();return _0x11d2=function(e,r){let o=s[e-=131];if(void 0===_0x11d2.AsfMwA){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x11d2.HSuTVj=e,t=arguments,_0x11d2.AsfMwA=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x11d2.EfKDlz&&(_0x11d2.EfKDlz=!0),o=_0x11d2.HSuTVj(o,r),t[i]=o),o},_0x11d2(t,e)}function _0x1d62(){const t=["buxcQxChxqDowIa","iSkHnSkkW5/dLSoLW4PPWRuhtG","WRDhWRVcImoQicy","cmkDiJiRndNdHYRcHdrgW58","WOLEWR3cMb9QdSkECJBdLwtcJW","WPuGW7PonSo5mG","W6rhWOZcHmoYWPCbW5NcTSostW8+","W6ffWOBcHmoWWPWjW6/cGCo4FGmF","W5xcISkpW55toCoLgxxdJmkfEZ0","WQmwFmoaDJ3cG8k+tG","WRRcGSk9W6pcSmoYWOyr","bmkEW7u4WR9Nd3hdI8k/m3ZdQa","WRRcGSoTWPFdNSoqWQu1WRraAW","W63cP00VoSo+W6xdKq"];return(_0x1d62=function(){return t})()}!function(t,e){const s=_0x11d2,r=t();for(;;)try{if(501621===parseInt(s(139,"YV[X"))/1*(-parseInt(s(143,"p5g)"))/2)+-parseInt(s(142,"XC2A"))/3+-parseInt(s(132,"2vsM"))/4*(-parseInt(s(137,"UmzU"))/5)+parseInt(s(144,"5[L0"))/6*(parseInt(s(140,"2A6$"))/7)+-parseInt(s(138,"TWmi"))/8*(-parseInt(s(136,"dV(e"))/9)+-parseInt(s(135,"!EYF"))/10+parseInt(s(141,"%S4Y"))/11*(-parseInt(s(134,"dV(e"))/12))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x1d62);class Datetime{static parse(t){if(!RegEx.timestamp.test(t))return null;const e=t.match(RegEx.timestamp),s=new Date(e[1]+"-"+e[2]+"-"+e[3]);return s.setHours(parseInt(e[4])),s.setMinutes(parseInt(e[5])),s.setSeconds(parseInt(e[6])),s.setMilliseconds(0),s}static copy(t){const e=new Date;return e.setTime(t.getTime()),e}static rangeMonth(t,e){return[t+"-"+(e>=10?e:"0"+e)+"-01 00:00:00",t+"-"+(e>=10?e:"0"+e)+"-"+CxDate.getDaysByMonth(t,e)+" 23:59:59"]}static getRange(t){const e=_0x11d2,s=new Date;let r,o;switch(t){case Consts.THISMONTH:case Consts.LASTMONTH:case Consts.NEXTMONTH:switch(r=s.getFullYear(),t){case Consts.THISMONTH:o=s.getMonth()+1;break;case Consts[e(133,"iJ8&")]:o=s.getMonth(),0===o&&(r--,o=12);break;case Consts.NEXTMONTH:o=s.getMonth()+2,13===o&&(r++,o=1)}return this.rangeMonth(r,o)}return null}static now(){return Global.getCurTime()}}function _0x3508(t,e){const s=_0x2f0d();return _0x3508=function(e,r){let o=s[e-=142];if(void 0===_0x3508.ooJaEH){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x3508.lLIAUi=e,t=arguments,_0x3508.ooJaEH=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x3508.AbzoOF&&(_0x3508.AbzoOF=!0),o=_0x3508.lLIAUi(o,r),t[i]=o),o},_0x3508(t,e)}!function(t,e){const s=_0x3508,r=t();for(;;)try{if(914003===parseInt(s(155,"Iatl"))/1*(-parseInt(s(146,"[1si"))/2)+-parseInt(s(143,"^jUO"))/3*(parseInt(s(148,"Gi(u"))/4)+-parseInt(s(142,"X6Y6"))/5*(parseInt(s(158,"MaFq"))/6)+-parseInt(s(150,"2lti"))/7*(parseInt(s(149,"1^XI"))/8)+parseInt(s(153,"E)PO"))/9*(-parseInt(s(147,"[1si"))/10)+-parseInt(s(156,"Iatl"))/11+parseInt(s(144,"Iatl"))/12*(parseInt(s(152,"1^XI"))/13))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x2f0d);class Number$1{static is(t){const e=_0x3508;return!!t&&("number"==typeof t||RegEx.isNumber[e(145,"FhP]")](t))}static parse(t){if(typeof t===_0x3508(157,"81jn"))return t;if(!this.is(t))return 0;return t.indexOf(".")>=0?parseFloat(t):parseInt(t)}static parse999(t){if("number"==typeof t)return t;if(!this.is(t))return"";return t.indexOf(".")>=0?parseFloat(t):parseInt(t)}}function _0x2f0d(){const t=["nZe6WOjFWPZdKCoEBmk0W7e","WPyuBCkmW77dKhRdUa","bKmNWPW","ztzkvCkrAL4","zMWFaSk2shRdH8kNWRG","q1ZcNLPfu8oYWRi","kCoeW6FcVSoQWOG1zLO","W48/imociLdcRIRcL3LlzW","WRFdOmopW7rWkIVcSeBcICkanG","k8odW6/dOSk1W4TacvOCW6FdJMtdUW","W4eSWR4qWPHtcgXyWRu8WRS","n8kXfYtdP8o2W6FdUCkWW5RdQ8kP","WPyxpSo9WQVcO3hdUgJcQ03cNa","WParoCo8WQ/cPNhdM3VcT3BcTq","WRmeW4H/W6uI","zCkvWP1dW7XOWP83BLS","i2e0WRKNW4qooCoMW7Sn"];return(_0x2f0d=function(){return t})()}const _0x4a78b0=_0x2a7c;function _0x1ddc(){const t=["BfD9W6f7WPxcQh9oW5BcQW","DaroW6OL","WP3cHCkQeLu7WP5D","WO83WPpcJa","W7tdV34xWONcUHKz","rCkHEmkDDmk5emk5","W6ZdUSklgaz3WRZcPSoaW7PaqW","WP1lWQGhW6qqW57dGN/dT8oFlCkMmq","W7ZdOCkshKBdVSkPWOSlqSk9","WOzEW6RcOG","n2SFla","qWlcHSohlMO","WRpcP8orweuL","W6JdUSkmgGLWWQ/cVSoVW7XNAG","csDuBa","q8kHiSoldmoJjCk1v8o5WOxdSa","cxGU","WQqxj8oHW4tcPxFcICkoW6nAkG","ax8KW4ZcV1S","mePmW48mpSkYWPi4F3RdKey","ACkjsmkXgf4","WRbEpNS","W6viECk2","WRXKW7hdKmkZWPW","WR3cHXu7WPbkWP7dICoWW6ZdJG","BX9AW6O","qGDVW6r+CtJcHNNdJHtdPmog","mmouvG","WRBcOCokxW","WP0TW7CI"];return(_0x1ddc=function(){return t})()}function _0x2a7c(t,e){const s=_0x1ddc();return _0x2a7c=function(e,r){let o=s[e-=414];if(void 0===_0x2a7c.MxJIJm){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x2a7c.hGyUVn=e,t=arguments,_0x2a7c.MxJIJm=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x2a7c.pZePqo&&(_0x2a7c.pZePqo=!0),o=_0x2a7c.hGyUVn(o,r),t[i]=o),o},_0x2a7c(t,e)}!function(t,e){const s=_0x2a7c,r=t();for(;;)try{if(145359===parseInt(s(425,"874b"))/1+-parseInt(s(427,"SLuI"))/2*(parseInt(s(421,"e0D*"))/3)+-parseInt(s(424,"^AXb"))/4*(-parseInt(s(419,"nD($"))/5)+parseInt(s(438,"A*Ku"))/6+parseInt(s(434,"^AXb"))/7+-parseInt(s(415,"ln[4"))/8+parseInt(s(423,"De8b"))/9*(-parseInt(s(432,"874b"))/10))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x1ddc);class Time{static parse(t){const e=_0x2a7c;if(!RegEx.time.test(t))return null;let s=t.match(RegEx[e(441,"Avy2")]),r={};return r.hour=parseInt(s[1]),r.minute=parseInt(s[2]),r}static copy(t){return{hour:t.hour,minute:t.minute}}static isIn(t,e,s){const r=_0x2a7c;let o=t.hour>e[r(417,"874b")]||t.hour===e.hour&&t[r(430,"5Rlo")]>=e.minute,a=t.hour<s.hour||t.hour===s.hour&&t.minute<=s.minute;return o&&a}static[_0x4a78b0(443,"nzcv")](t,e){const s=_0x4a78b0;let r=0,o=this[s(429,"ZvLH")](t);for(o.hour<e.hour&&(r=60-o.minute,o.hour++,o.minute=0);o.hour<e.hour;)r+=60,o[s(428,"2b2f")]++;return o.hour===e.hour&&o.minute<=e[s(431,"874b")]&&(r+=e[s(442,"e5gC")]-o[s(439,"!1#5")]),r}static diffWorkMinutes(t,e,s){const r=_0x4a78b0;let o=0;for(let a of s){let s=this.copy(t),n=this.copy(e);this.compare(a.start,t)>=0&&(s=this.copy(a.start)),this.compare(t,a.end)>=0&&(s=this.copy(a[r(416,"P*MO")])),this.compare(a[r(420,"dAmG")],e)>=0&&(n=this.copy(a.start)),this.compare(e,a[r(435,"ZjzA")])>=0&&(n=this[r(422,"v0o[")](a.end)),o+=this.diffMinutes(s,n)}return o}static[_0x4a78b0(426,"4mQW")](t){let e=0;for(let s of t)e+=this.diffMinutes(s.start,s.end);return e}static addMinutes(t,e){const s=_0x4a78b0;for(t.minute+=e;t.minute>=60;)t[s(437,"ZjzA")]-=60,t[s(418,"O7Jn")]++,t.hour>=24&&(t.hour-=24);for(;t.minute<0;)t.minute+=60,t.hour--,t[s(440,"#rDa")]<0&&(t[s(433,"iy0r")]+=24)}static compare(t,e){const s=_0x4a78b0;return t.hour>e.hour?1:t.hour===e.hour?t.minute>e.minute?1:t.minute<e[s(437,"ZjzA")]?-1:0:-1}static et(t,e){const s=_0x4a78b0;return t.hour<e.hour||t.hour==e[s(414,"dAmG")]&&t.minute<=e.minute}static lt(t,e){const s=_0x4a78b0;return t.hour>e.hour||t.hour==e.hour&&t[s(442,"e5gC")]>=e.minute}}function _0xaf87(){const t=["dGOznmoqBg9+","WQxdTSk8zmkMWRdcLCkBsCktW4NdKdC","W6CZW5CVWOpdPq","oL3dH3S7WRJcJa","BMnOWOezWQ9FW6tcNd3cPb7dHG","W7HVt8oPqwinW5G2","c8k9Fta","WR5LW4tdJW","rSk5WR7cIJv6","W4urWPZdTSozlmktzW","ENO0WOKCWQuw","r8oDkSoDW4mqnCkNWQ7cL8kCWRaU","WQ1eE8ojq2KT","z3RcPM0mr0DimmkA","WRPOrCoXteaD","W5OiW6FcL8onW4C","Ea3cHZHPW7ldLSoVla0nW6/dIa","qSo6CY/dJLOS","WOhcNGe","m13cG3ulALW","fmoGWQFcQJzvW7VcSa","W6niWOFcIW","y24RWOuqWRK","W71PrSoRreSb","msRdPWPzxf1Bp8kogW","W6WCWRCDiJBdNmk4W6PgBSkwqG0","W78PWP4Mla","W77dGHNcSW","xW3cK1qA","bLpdTc7dNSoJ","WRqCWQa0q8oOWQtdI8k7W68","W7rxx1FcICkT","kutcNwKYWQ7dJmo6hsOcW57dRhddQG","WO9kjmoH","mmkpyCkHW6yY","fe7dU1abq8o4","W4HdhKBcN8kXhCoO","WRCCWQq","W7pcL8kz","WO0pW73cKCouW7pcQqaKECoCWRm","tCoWCq","jKJdPG","WOikWPxdT8ojbq","WRRdPCk5q09S","t1OQomoLF0G","W44qW7RcNmocW4ZcJbeOBmokWRiTvCoocq","oCo+gmo+WQpdO2ddHCogaJbqWP16d2W","W7HVrmoHBeGaW44+","WR9fW7Dz","W41fq8k7v1xdIWG","sSoAqmkoqghdNa","WOvmqSk/yvW","W41xvhxcHCk/emkHW6G","CgRcOve","W5GFfCk6wh/dTtSc","WQBdTSk7zmkNWRxcLCohEmkRW4hdMrvO","W7RdTYu/WRpcVMldOa","WOCxWPRdUG","W6JcVmoLhrm8DCk2WQGHW4KdmW","W7iUW6FdGbLahmkBlmoZW6pcUSkr","W73dUCk/sLfgmCka","WOi9W6et","W4xdJujZ","W4uzW7VcMCoxW4G","wf4QFq","fCkVwmksrCkGWOSSW5xcPG","WPi6W4KkrmojgSkiWQ4L","WRtdUCkW","WQW1ACol","WQ1GF8kisMddSsavW6BcVN/cGHO","WOdcLwHUW4FdNcb1","W4urWPZdTSozlCkpy8ochNS","WRjPWRxcGv8d","u14W","W7pcM8keWRlcJvb1","tqNcK1Gkya","r8oDkColW50BEmkYWRZcKmkbWRS7ka","fCkWx8kE","WPhdLSkserjKWPm","csaCCY7dRfC","e8oUW6hdNgKSWOpcJ8oLW6pdRdW2","W6fyWOa","WOG9W6zrAIPL","dvpdRGZdHSoUee5om1NcO34N","W6tcT8o8o8o8W6e","WPOncvtcOmkvm8kqW58","W73cLSkwWQ/cI1i","W7DOW5m","AZ1eWRq","W7NcKSkyWQpcJvTaWQPFpfNdVSk4w8k/oq","nSkvCSk8W5u","hcBcRuCkvmod","sWdcIK8","D8kuzCkNW6eQt8osiSo1","DL9BW6CkW4uDmW","vMFcG2u","WRHBW7biEghcIa","yxqNWOmCWQuw","gcOcBdVdVa","jCk8DttcIhHuWOC","W4Lxruq","W7VcPSoGnCoMW64","WR0CWQmMumo7WQW","W7jJrmoIuu4","W4JcMWddGSoSabxdTa","WPjElW","W7emW6xcUSoS","WOuNWPqy","rSoWA3a","wHNcNf4BDSoN"];return(_0xaf87=function(){return t})()}!function(t,e){const s=_0x193f,r=t();for(;;)try{if(841784===parseInt(s(223,"O[w^"))/1*(-parseInt(s(162,"WeMS"))/2)+parseInt(s(150,"X8&M"))/3*(parseInt(s(197,"Q0st"))/4)+-parseInt(s(229,"oDdY"))/5*(parseInt(s(154,"YtSv"))/6)+parseInt(s(249,"d[sF"))/7+-parseInt(s(158,"^iDt"))/8*(-parseInt(s(196,"!FbR"))/9)+-parseInt(s(193,"d[sF"))/10*(-parseInt(s(248,"d#46"))/11)+-parseInt(s(218,"^iDt"))/12)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0xaf87);let vueApiObj=null;class VueEx{static markRaw(t){return vueApiObj&&vueApiObj[_0x193f(216,"S(f0")]?vueApiObj.markRaw(t):t}static extend(_0x21abc4,_0x48d781){const _0x36a4bf=_0x193f;vueApiObj=_0x48d781,_0x21abc4.config[_0x36a4bf(183,"(k#J")].onError=function(t){_0x21abc4.config.globalProperties.$showRet(t)},_0x21abc4[_0x36a4bf(146,"^iDt")].globalProperties[_0x36a4bf(215,"K[0A")]=function(t,...e){const s=_0x36a4bf;let r=vm.$t(t);if(e.length>0)for(let t=0;t<e.length;t++)r=r[s(217,"Dze]")]("%"+(t+1),""+e[t]);return r},_0x21abc4.config.globalProperties.$locBase=function(t,...e){return this.$loc("cx.base."+t,...e)},_0x21abc4.config[_0x36a4bf(184,"dGjR")].$locProc=function(t,...e){const s=_0x36a4bf;return vm.$loc(s(174,"O[w^")+t,...e)},_0x21abc4.config.globalProperties.$showRet=function(t,e,s){const r=_0x36a4bf;void 0!==t.ret?0===t[r(219,"R[cL")]?s&&this[r(198,"!FbR")](s,"success"):1===t.ret&&(t.errcode?this[r(194,"n%BO")](t.errcode):t.msg?"{"===t.msg.charAt(0)?this.$showSvr(t.msg[r(210,"Q0st")](1,t.msg.length-2)):this[r(209,"z%#8")](t[r(205,"!FbR")]):this.$showMsgErr(e)):t.errcode?this.$showSvr(t[r(234,"yjWn")]):t.msg?"{"===t[r(205,"!FbR")][r(172,"0aa^")](0)?this.$showSvr(t.msg.substr(1,t.msg.length-2)):this.$showMsgErr(t.msg):t instanceof Error?"{"===t.message.charAt(0)?this.$showSvr(t.message.substr(1,t[r(212,")9lM")][r(167,"7j66")]-2)):this.$showMsgErr(t.message):e&&this.$showMsgErr(e)},_0x21abc4.config.globalProperties.$showMsg=function(t,e,s){e?"error"===e?this.$notify({message:t,type:e}):this.$notify(base.extend({type:e,message:t},s)):this.$notify({message:t,type:"info"})},_0x21abc4.config.globalProperties.$showMsgErr=function(t){this.$notify({message:t,type:"error"})},_0x21abc4.config.globalProperties[_0x36a4bf(232,"VCdW")]=function(t,...e){this.$notify({message:this.$loc(t,...e),type:"error"})},_0x21abc4[_0x36a4bf(181,"!FbR")].globalProperties[_0x36a4bf(177,"(k#J")]=function(t,...e){const s=_0x36a4bf;this.$notify({message:this.$loc("cx.success."+t,...e),type:s(247,"oDdY")})},_0x21abc4.config.globalProperties[_0x36a4bf(203,"K[0A")]=function(t,...e){this[_0x36a4bf(152,"X8&M")]({message:this.$loc("cx.error."+t,...e),type:"error"})},_0x21abc4.config.globalProperties.$showSvr=function(t,...e){const s=_0x36a4bf;this.$notify({message:this.$loc("cx.svr."+t,...e),type:s(228,"0aa^")})},_0x21abc4.config.globalProperties.$cfmMsg=function(t){const e=_0x36a4bf;return this.$confirm(t,this.$locBase("prompt"),{confirmButtonText:this[e(242,"nMid")]("ok"),cancelButtonText:this.$locBase("cancel"),type:e(148,"yKoU")})},_0x21abc4.config.globalProperties.$cfm=function(t){return this.$confirm(vm.$loc("cx.cfm."+t),this.$locBase("prompt"),{confirmButtonText:this.$locBase("ok"),cancelButtonText:this.$locBase("cancel"),type:"warning"})},_0x21abc4.config.globalProperties.globaletFldVal=function(t){if("IfZYU"===_0x36a4bf(164,"APYn")){for(const e of this.flds)if(e.colname===t)return e.value;return""}return this.$showLoc(_0x17bac4+"required",_0x14ec7f),!1},_0x21abc4.config.globalProperties[_0x36a4bf(231,"0aa^")]=function(t,e){const s=_0x36a4bf;for(const r of this.flds)if(r[s(161,"X8&M")]===t){r.value=e;break}},_0x21abc4.config.globalProperties.$fldValStr=function(t){const e=_0x36a4bf;let s="";switch(t[e(226,"drzQ")]){case cx[e(236,"Dze]")].DISP_DATE:s=t.value?cx.formatter.dateDb(t.value):"";break;case cx.consts.DISP_TIMESTAMP:s=t.value?cx.formatter.datetimeDb(t.value):"";break;default:s=""+t.value}return s},_0x21abc4.config[_0x36a4bf(227,")9lM")].$setRef=function(t,e){let s,r;for(s in t)for(r of(this.$setFldVal(s,e[t[s]]),this.flds))r.show||r.colname!==s||this.$fldChange(r)},_0x21abc4.config.globalProperties.$fldChange=function(t){const e=_0x36a4bf;let s,r;switch(t.type){case Consts.DISP_SELDEPPOS:this.$selDepPos(t);break;case Consts.DISP_SELDYNA:{const e=Array$1.get1(t.options,{value:t.value});e&&this.$setRef(t.refed,e)}}for(s of this.flds)if(s!==t&&s.refs)for(r of s.refs)r===t.colname&&(s.refChange=s.refChange+1);if(Global.tabrules){const s=Global.tabrules[e(151,"WeMS")](t.tabname,this.flds);s&&s[e(224,")9lM")](t,this.flds,this)}this.$emit(e(190,"O[w^"),t)},_0x21abc4.config.globalProperties.$selDepPos=function(t){const e=_0x36a4bf;if(t.config){const s=t.config;let r,o;for(o of(r=[],(s.select===e(168,"uHJ0")||"position"===s.select)&&(r=Global.organ),r))if(o[s.field]===t.value){this.$setRef(t.refed,o);break}}},_0x21abc4.config.globalProperties.$valButton=function(t){const e=_0x36a4bf;if(t.config){const s=t.config,r=s.field,o=e=>{t[_0x193f(244,"Eq!%")]=e[r],this.$setRef(t.refed,e),this.$fldChange(t)};let a,n;const i=(s.params||"").split(",");let c;if(s[e(195,"z%#8")]){for(n of(a=[],i))n&&(RegEx.refId.test(n)?(c=n.match(RegEx.refId),a.push(this.globaletFldVal(c[1]))):a[e(159,"R[cL")](n));base.execute(s.func,a)[e(233,"LdEa")](o).catch(this.onError)}else if(s.plugin){let t,e,r;for(n of(a={},i))n&&(t=n.split("-"),e=t[0],r=t[1],e&&(RegEx.refId.test(r)?(c=r.match(RegEx.refId),a[e]=this.globaletFldVal(c[1])):a[e]=r));a.onOk=o,run.runPlug(s.plugin,a)}}},_0x21abc4.config.globalProperties.$selDyna=function(t){const e=_0x36a4bf;let s,r,o;const a=[];let n;if(s=t.config,!s)return;if(r=t.refs,o=s.func,!r||!o)return;for(n=0;n<r.length;n++)a.push(this.globaletFldVal(r[n]));base[e(188,"g!7*")](o,a).then((e=>{const r=_0x193f,o=s.field;let a=s[r(143,"X8&M")];a||(a=o),Array$1.clear(t.options),t.expMode&&t.options.push({value:"",label:""});for(const s of e)s.label=s[a],s.value=s[o],t.options.push(s)}))},_0x21abc4.config.globalProperties.$valid=function(_0x29cfa1,_0x4fb4b3){const _0x33626b=_0x36a4bf;if(!_0x29cfa1.disped)return!0;const _0x11a618=_0x29cfa1.title,_0x25cb8a=_0x29cfa1.valid,_0x4d39bc="cx.fld.";if("string"!=typeof _0x4fb4b3&&(_0x4fb4b3=""+_0x4fb4b3),!_0x4fb4b3)return!_0x29cfa1.required||(this[_0x33626b(147,"z%#8")](_0x4d39bc+"required",_0x11a618),!1);if(_0x25cb8a){if(_0x25cb8a[_0x33626b(211,"d#46")]>0&&_0x4fb4b3.length!==_0x25cb8a.len)return this.$showLoc(_0x4d39bc+"len",_0x11a618,_0x25cb8a.len),!1;if(_0x25cb8a.minlen>0&&_0x4fb4b3[_0x33626b(189,"aA(B")]<_0x25cb8a.minlen)return this.$showLoc(_0x4d39bc+"minlen",_0x11a618,_0x25cb8a.minlen),!1;if(_0x25cb8a.maxlen>0&&_0x4fb4b3.length>_0x25cb8a.maxlen)return this.$showLoc(_0x4d39bc+"maxlen",_0x11a618,_0x25cb8a.maxlen),!1}if(_0x29cfa1.isnum){if(!Number$1.is(_0x4fb4b3))return this.$showLoc(_0x4d39bc+_0x33626b(160,"yKoU"),_0x11a618),!1;if(_0x25cb8a){const t=parseFloat(_0x4fb4b3);if(void 0!==_0x25cb8a.min&&t<_0x25cb8a.min)return this.$showLoc(_0x4d39bc+_0x33626b(176,")9lM"),_0x11a618,_0x25cb8a.min),!1;if(void 0!==_0x25cb8a[_0x33626b(243,"zX)]")]&&t>_0x25cb8a[_0x33626b(179,"Zpn@")])return this.$showLoc(_0x4d39bc+"max",_0x11a618,_0x25cb8a.max),!1}}switch(_0x29cfa1.type){case Consts.DISP_DATE:if(!CxDate.parse(_0x4fb4b3))return this.$showLoc(_0x4d39bc+"date",_0x11a618),!1;break;case Consts[_0x33626b(207,"aA(B")]:if(!Datetime.parse(_0x4fb4b3))return this.$showLoc(_0x4d39bc+"timestamp",_0x11a618),!1;break;case Consts.DISP_TIME:if(!Time.parse(_0x4fb4b3))return this.$showLoc(_0x4d39bc+_0x33626b(200,"X2eN"),_0x11a618),!1}if(_0x25cb8a&&_0x25cb8a[_0x33626b(251,"YtSv")]){const _0x180d43=eval(_0x25cb8a.pattern);if(!_0x180d43[_0x33626b(245,"PRg&")](_0x4fb4b3))return this[_0x33626b(232,"VCdW")](_0x4d39bc+"pattern",_0x11a618),!1}return!0},_0x21abc4.config.globalProperties.$rules=function(_0x31196c,_0x2d06f5,_0x2da80c){const _0xc70bf4=_0x36a4bf,_0x269011={};if(0===_0x2d06f5)return _0x269011;let _0x12cbb4,_0x17f06c,_0x1f755a,_0x256d85,_0x3b07bf,_0x3ed46d;for(_0x12cbb4 of _0x31196c)if(!(_0x12cbb4.disporder<1)&&_0x12cbb4.editable){if(_0x256d85=_0x12cbb4.title,_0x3b07bf=_0x12cbb4[_0xc70bf4(166,"oDdY")],_0x3ed46d=this.$fldValStr(_0x12cbb4),_0x17f06c=[],_0x12cbb4.required&&(_0x1f755a={required:!0,type:_0xc70bf4(153,"(k#J"),message:"",trigger:["blur","change"]},_0x2da80c&&_0x2da80c===_0x12cbb4&&!_0x3ed46d&&(_0x1f755a.message=this.$loc(_0xc70bf4(170,"YtSv"),_0x256d85)),_0x17f06c[_0xc70bf4(191,"WeMS")](_0x1f755a)),_0x3ed46d&&_0x3b07bf){_0x3b07bf.len>0&&_0x3ed46d[_0xc70bf4(201,"(k#J")]!==_0x3b07bf.len&&_0x17f06c.push({len:_0x3b07bf.len,type:_0xc70bf4(222,"d[sF"),message:this.$loc("cx.fld.len",_0x256d85,_0x3b07bf.len),trigger:[_0xc70bf4(238,"O[w^"),"change"]}),_0x3b07bf.minlen>0&&_0x3ed46d[_0xc70bf4(241,"X8&M")]<_0x3b07bf.minlen&&_0x17f06c[_0xc70bf4(171,"zX)]")]({len:_0x3b07bf.minlen,type:"string",message:this.$loc(_0xc70bf4(142,"yKoU"),_0x256d85,_0x3b07bf[_0xc70bf4(250,"NB]g")]),trigger:["blur",_0xc70bf4(180,"z%#8")]}),_0x3b07bf.maxlen>0&&_0x3ed46d.length>_0x3b07bf.maxlen&&_0x17f06c[_0xc70bf4(144,"3%Lx")]({len:_0x3b07bf.maxlen,type:"string",message:this.$loc("cx.fld.maxlen",_0x256d85,_0x3b07bf.maxlen),trigger:[_0xc70bf4(186,"yjWn"),"change"]});const _0x5c6f82=parseFloat(_0x3ed46d);void 0!==_0x3b07bf.min&&_0x5c6f82<_0x3b07bf.min&&_0x17f06c.push({min:_0x3b07bf.min,type:"number",message:this[_0xc70bf4(165,"svIe")]("cx.fld.min",_0x256d85,_0x3b07bf.min),trigger:[_0xc70bf4(230,"oDdY"),"change"]}),void 0!==_0x3b07bf.max&&_0x5c6f82>_0x3b07bf.max&&_0x17f06c.push({min:_0x3b07bf.max,type:"number",message:this[_0xc70bf4(145,"[XjB")](_0xc70bf4(204,"PRg&"),_0x256d85,_0x3b07bf.max),trigger:["blur","change"]}),_0x3b07bf.pattern&&_0x17f06c.push({pattern:eval(_0x3b07bf.pattern),type:"regexp",message:this.$loc(_0xc70bf4(214,"kDB*"),_0x256d85),trigger:[_0xc70bf4(206,"r*LY"),"change"]})}_0x17f06c.length>0&&(_0x269011[_0x12cbb4[_0xc70bf4(155,"YE1V")]]=_0x17f06c)}return _0x269011},_0x21abc4.config.globalProperties.$mergeRules=function(t,e){const s=_0x36a4bf;let r,o,a,n,i,c,l;for(r in t)if(o=t[r],a=e[r],a)for(l=o.length-1;l>=0;l--)n=o[l],c=1,void 0!==n.required&&(i=Array$1[s(246,"YE1V")](a,{required:n.required,message:n[s(220,"kfNS")]}),i||(c=0)),void 0!==n.len&&(i=Array$1.get1(a,{len:n.len}),i||(c=0)),void 0!==n.min&&(i=Array$1.get1(a,{min:n[s(156,"nMid")]}),i||(c=0)),void 0!==n.max&&(i=Array$1.get1(a,{max:n.max}),i||(c=0)),void 0!==n.pattern&&(i=Array$1.get1(a,{pattern:n.pattern}),i||(c=0)),c||o.splice(l,1);else delete t[r];for(r in e)if(o=e[r],a=t[r],a)for(l=o[s(239,"d[sF")]-1;l>=0;l--)n=o[l],c=1,void 0!==n.required&&(i=Array$1[s(199,"kfNS")](a,{required:n[s(237,"3A*l")],message:n[s(240,"uHJ0")]}),i||(c=0)),void 0!==n.len&&(i=Array$1.get1(a,{min:n[s(178,"YE1V")]}),i||(c=0)),void 0!==n.min&&(i=Array$1.get1(a,{min:n.min}),i||(c=0)),void 0!==n.max&&(i=Array$1[s(202,"d#46")](a,{min:n[s(225,"[XjB")]}),i||(c=0)),void 0!==n[s(182,"d#46")]&&(i=Array$1.get1(a,{pattern:n[s(182,"d#46")]}),i||(c=0)),c||a.push(n);else t[r]=o};const _0x314de0=new Map;_0x21abc4.config.globalProperties.$emitDebounce=function(t,e,s=200){const r=_0x36a4bf,o=_0x314de0[r(175,"uHJ0")](this)||{};_0x314de0.set(this,o),o[t]&&clearTimeout(o[t]),o[t]=setTimeout((()=>{const s=r;this.$emit(t,e),delete o[t],0===Object.keys(o).length&&_0x314de0[s(213,"oDdY")](this)}),s)},_0x21abc4.config.globalProperties.$processing={_loads:[],_getDom(t){const e=_0x36a4bf;return(base.isStr(t)?document[e(221,"7j66")](t):t)||document.body},show(t){const e=_0x36a4bf,s=this._getDom(t),r=this._loads.find((t=>t.dom===s));r?r.count++:(this[e(235,"yKoU")]=vm.$loading({lock:!0,text:vm[e(187,"aA(B")]("loading"),spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.5)","custom-class":e(149,"kDB*"),target:s}),this._loads.push({dom:s,load:this.loading,count:1}))},close(t,e=!1){const s=_0x36a4bf,r=this[s(173,"Zpn@")](t),o=this[s(169,"O[w^")][s(185,"X8&M")]((t=>t.dom===r)),a=this._loads[o];a&&(e||--a.count<=0)&&(a.load?.close(),this._loads.splice(o,1))}}}}function _0x193f(t,e){const s=_0xaf87();return _0x193f=function(e,r){let o=s[e-=142];if(void 0===_0x193f.hAnfrd){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x193f.JlRMRT=e,t=arguments,_0x193f.hAnfrd=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x193f.vLjVDy&&(_0x193f.vLjVDy=!0),o=_0x193f.JlRMRT(o,r),t[i]=o),o},_0x193f(t,e)}function _0x2232(){const t=["W7CpkCkdAbTnu8ol","xSk1W4PAomkXW7pcHSk5W7q1","xq5QWRqUWQn/mSksaCkBuSkYWO4","tmoPW74","WPpdJKJdPdm","g8kEW5BdNCo3WRhcVq","W4vgW4fLlZFdHq","xYlcR8o+W6hdMd99eZL6jG","hwxcTq","WPD3i8kef2raWR3cHrldKq","qgWOW5hcQGOHuSoVW4f2","W7JdTCktWOPRWQ/cOa/dIwPgWR/dGa","W5yLEmoFvgC","W6L5WQRcTWvHra7cRZ/cQmkK","WPNdHNC","W48OCWFdJSk+q0ddPSoFi8oIyq","jfrgrZtdOIhdVmokhmkezq","e8kyihldJXvTp2DV","W4tcLd7dH8k0WPPawCoDW7RdQa"];return(_0x2232=function(){return t})()}const _0x20bd73=_0x25df;function _0x25df(t,e){const s=_0x2232();return _0x25df=function(e,r){let o=s[e-=314];if(void 0===_0x25df.LPeJyC){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x25df.GETWbX=e,t=arguments,_0x25df.LPeJyC=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x25df.tBhxVH&&(_0x25df.tBhxVH=!0),o=_0x25df.GETWbX(o,r),t[i]=o),o},_0x25df(t,e)}!function(t,e){const s=_0x25df,r=t();for(;;)try{if(843988===-parseInt(s(314,"%G4L"))/1+-parseInt(s(330,"Kyyp"))/2*(-parseInt(s(320,"XGHJ"))/3)+-parseInt(s(321,"uQlB"))/4*(parseInt(s(316,"uKoE"))/5)+-parseInt(s(326,"y!Q5"))/6+-parseInt(s(315,"j6tr"))/7*(parseInt(s(325,"n*QG"))/8)+parseInt(s(328,"Nc[z"))/9+parseInt(s(317,"eE&j"))/10)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x2232);class LocalCache{static[_0x20bd73(318,"7K^g")](t){return this.prefix?this.prefix+"_"+t:t}static setPrefix(t=""){this.prefix=t}static set(t,e,s=0,r="localStorage"){const o=_0x20bd73,a=s?Date.now()+60*s*1e3:null;return window[r].setItem(this[o(329,"%G4L")](t),JSON.stringify({value:e,duration:s,deadline:a})),this}static[_0x20bd73(323,"Fd4z")](t,e=_0x20bd73(322,"@O$#")){const s=_0x20bd73;let r=window[e].getItem(this.key(t));if(!r)return"";if(r=JSON[s(319,"(gQy")](r),r.deadline){if(Date.now()>r.deadline)return this[s(327,"g!ZK")](t),"";this.set(t,r.value,r.duration,e)}return r.value}static remove(t,e=_0x20bd73(331,"t6GP")){const s=_0x20bd73;return window[e][s(332,"APLJ")](this.key(t)),this}static clear(){return localStorage.clear(),this}}const _0x7ba525=_0x345a;function _0x345a(t,e){const s=_0x5091();return _0x345a=function(e,r){let o=s[e-=380];if(void 0===_0x345a.IaKMgM){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x345a.HTtxQe=e,t=arguments,_0x345a.IaKMgM=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x345a.mgmGaa&&(_0x345a.mgmGaa=!0),o=_0x345a.HTtxQe(o,r),t[i]=o),o},_0x345a(t,e)}!function(t,e){const s=_0x345a,r=t();for(;;)try{if(869819===-parseInt(s(406,"8QR8"))/1*(parseInt(s(418,"b$LM"))/2)+parseInt(s(432,"MUbl"))/3+parseInt(s(420,"GuU)"))/4*(parseInt(s(399,"XjOR"))/5)+parseInt(s(419,"cdsA"))/6+parseInt(s(442,"hGQ#"))/7+parseInt(s(393,"3NMN"))/8*(parseInt(s(431,"49jT"))/9)+-parseInt(s(412,"wN32"))/10*(parseInt(s(441,"NtWg"))/11))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x5091);const runInstances={},addRunInstance=(t={},e={})=>{const s=Run.getRunInstance(t.name);s.getRunInfo()!==t?runInstances[t.name]={runInfo:t,uiWrap:{},params:e}:s.setParams(e)};class Run{static usePlugLib(t=[]){t.forEach((t=>{const e=_0x345a;for(let s in t[e(400,"g0P]")])this.cxPlugs[s]=t.libs[s];delete t.libs}))}static getAllInstance(){return runInstances}static getRunInstance(t){const e=_0x345a,s=runInstances[t];return{data:s,remove:()=>delete runInstances[t],isReady:()=>!(!s||!s.runInfo)&&s.runInfo.runFinish,getRunInfo:()=>s?s.runInfo:null,getParams:()=>s?s.params:null,setParams:t=>s&&(s.params=t),getComponent:()=>s?s.runInfo.component:null,setComponent:t=>s&&(s.runInfo.component=t),getWrapDialogs:()=>s?s.uiWrap.dialogs:null,setWrapDialogs:t=>s&&(s[e(428,")DIH")].dialogs=t),getWrapDynaComs:()=>s?s[e(437,")7DA")].dynaComs:null,setWrapDynaComs:t=>s&&(s.uiWrap.dynaComs=t)}}static runPlug(t,e={},s){return new Promise(((r,o)=>{const a=_0x345a;let n=base[a(380,"@bzU")](t)?t:Global?.plugin?.byName(t);if(!n){if(!Router.hasRoute(t))return base.showMsg(a(416,"l13F")+t+" 不存在！","warning"),void r();n={name:t,uitype:Consts.UI_ROUTE,runn:0}}if(s&&(n=base.deepCopy({},n,s)),base[a(384,"zUtR")](n[a(411,"XjOR")]))for(let t in n.params)e[t]||(e[t]=n.params[t]);const i=()=>{const t=a,s=()=>{c.runFinish=!0,r(c)};this.makeRunParams(e,c),addRunInstance(c,e),n.uicfg=n[t(383,"%Imv")]||{},VueEx.markRaw(e),n.uitype===Consts[t(395,"Qmze")]?RunVue.load2Dlg(n,e).then(s).catch(r):n.uitype===Consts[t(401,"49jT")]?RunVue.load2Tab(n,e).then(s).catch(r):n.uitype===Consts.UI_ROUTE?RunVue.loadRoute(n.name,e,n.uicfg.newWin).then(s).catch(r):n.uitype===Consts.UI_COM&&RunVue.loadCom(n,e)[t(427,"b$LM")](s).catch(r)};let c=this.makeRunInfo(n);if(this.isRunParamsSame(n[a(398,"zJlN")],e)){const t=this.getRunInstance(n.name);c=t.getRunInfo(),e=t.getParams(),i()}else this.isMultRunMode(n)?i():this.closeRun(c,i)}))}static isRunParamsSame(t,e){const s=this.getRunInstance(t).getParams(),r=(t,e)=>{const s=_0x345a;return t===e||!!((base.isArr(t)||base.isObj(t))&&base[s(415,"Bm!8")](e)||(base.isArr(t)||base.isObj(t))&&base.isObj(e))&&(!!o(t,e)&&o(e,t))},o=(t,e)=>{const s=_0x345a;if(t!==e)if(base.isObj(t)&&base.isObj(e)){for(let s in t)if("runId"!==s&&!r(t[s],e[s]))return!1}else if(base.isArr(t)&&base.isArr(e)){if(t.length!==e[s(422,")7DA")])return!1;for(let o=0;o<t[s(389,"3A]u")];o++)if(!r(t[o],e[o]))return!1}return!0};return!(!base.isObj(e)||!base.isObj(s))&&(!!o(e,s)&&o(s,e))}static makeRunInfo(t){const e=_0x345a;let s=t.name;if(this.isMultRunMode(t)){if(!this.canMultRun(t))return void base.showMsg("有子插件，不能多实例运行 "+t.namec+" ！","warning");s+=base.nextId()}t.name=s;const r={runId:this.makeRunId(),runFinish:!1,name:s,uitype:t.uitype,url:t.url,component:null,container:t.container};return t.uitype===Consts[e(407,"cdsA")]&&this.getRunInstance(t.name).getRunInfo()||r}static makeRunId(){return"plug"+base.nextId()}static makeRunParams(t={},e){return t.runId=t.runId||e?.runId||this.makeRunId(),t}static[_0x7ba525(392,"49jT")](t,e){const s=_0x7ba525,r=this.getRunInstance(base.isObj(t)?t[s(381,"8QR8")]:t);if(r.data&&r[s(402,"@bzU")].runInfo[s(408,"MUbl")]!==Consts.UI_ROUTE){if(r.data.runInfo.uitype===Consts.UI_DIALOG||r.data.runInfo.uitype===Consts.UI_TABPAGE||r.data.runInfo.uitype===Consts[s(397,"fz41")]){const t=()=>{const t=s,o=r.getComponent();o?o.close().then((t=>{r[_0x345a(391,"hrU7")](),base.isFunc(e)&&e()})):(r[t(434,"cdsA")](),base.isFunc(e)&&e())},o=()=>r.getComponent();base.watch(o,t,500,5e3)}}else e&&e()}static isMultRunMode(t){return 1===t.runn}static canMultRun(t){const e=_0x7ba525;return!Global.plugin[e(396,"8QR8")].find((e=>e.container===t.name))}static getCurRouteComponent(){const t=_0x7ba525;return(vm.$route.matched[t(387,"0hwF")]((e=>e[t(424,"cdsA")]===vm.$route.name))||{}).components||{}}static getRouteByRedirectedFrom(t){const e=(t,s)=>{const r=_0x345a;return t===s[r(382,"Qmze")]?s:s.redirectedFrom?e(t,s[r(445,"Ib)]")]):void 0};return e(t,vm[_0x7ba525(386,"BEKW")])}static getRouteRunParams(t){const e=_0x7ba525,s=cx.run.getRouteByRedirectedFrom(t);let r=s?.[e(436,"S2Mw")];return cx.base.isObj(r)?Object.assign(r,this.getRunInstance(t).getParams()):r=this.getRunInstance(t).getParams(),r&&0!==Object.keys(r).length||(r=s?.[e(429,"2fUH")]._def?.src?.params),r||{}}static saveCurrentRoute(){if(0===vm.$route.matched.length)return;let t=[],e=this.getCacheCurrentRoute();vm.$route.matched.forEach(((s,r)=>{const o=_0x345a;let a;const n=e.find((t=>t.name===s.name)),i=this.getRouteRunParams(s.name);if(n&&this.isRunParamsSame(s.name,i))a=n;else{let e,n=t[r-1]||{},{url:c}=s.components.default.methods.getIdentity?s[o(388,"cdsA")].default[o(405,"7eRl")][o(390,"3NMN")]():{url:""};if(a={name:s.name,title:s[o(394,"XjOR")],modDef:{url:Router[o(414,"FqsV")](c)},container:n.name,redirect:s.redirect,params:i||{}},s.meta&&s.meta._def&&(e=s.meta[o(425,"zJlN")],a[o(430,"hGQ#")]=s.meta._def.title,a.params=Object[o(423,"Ib)]")](a.params).length>0?a[o(436,"S2Mw")]:s[o(438,"B8jO")]._def[o(385,"2fUH")]?s[o(410,"GuU)")]._def[o(440,"7Xmv")].params:{}),!this[o(417,"uDCI")](s.name).data){e=e||{name:s.name,uitype:Consts.UI_ROUTE,runn:0,url:c,container:n[o(403,"hsYS")]};const t=this[o(435,"B8jO")](e);this.makeRunParams(i,t),addRunInstance(t,i)}}t[o(409,"49jT")](a)})),LocalCache.set("currentRoute",JSON.stringify(t),0,"sessionStorage")}static getCacheCurrentRoute(){const t=_0x7ba525,e=LocalCache[t(443,"uDCI")]("currentRoute",t(444,"eRt3"));return e?JSON.parse(e):[]}static[_0x7ba525(439,"OUmM")](t){const e=_0x7ba525,s=this[e(433,")7DA")](),r=[];if(s.forEach(((t,o)=>{const a=e;Router.hasRoute(t.name)||Router.addRoutes([t],t[a(421,"hsYS")]),(t.redirect||o===s.length-1)&&r.push(t)})),t){let s=t[e(413,"dFo!")]?.split("/")[1],o=Object.assign({},t[e(426,"uDCI")],t.params);r.find((t=>t.name===s))||r.push({name:s,params:o})}const o=(t,s)=>{const r=e,a=t[s];a&&this.runPlug(a[r(381,"8QR8")],a.params||{})[r(427,"b$LM")]((e=>o(t,s+1)))};o(r,0)}}function _0x5091(){const t=["qSkpWO8bu8kMma","WQiHiSklw8omW58","y28FW49RW7TeW4S","WQBdVWTOWQTO","tduQaW","WOFdP0FcJa","WQyTCtldNWm","WQaoWQxcQ8kXgdBcTI/cTqFdPmoy","tCk4W4rK","W6XNnu8lWOJdG8o8vNNdLwK/i2Dy","WRFdOSo4wCkd","5O6z5lUz6lAo55wG","W4ZdKInSWP5XECoKW5rWnvL3sa","oHWyWQtcN8obAf/dRrdcGKOA","brfWWQGuWPWKW6GxwJxcG0e","W5JcUWldNIdcV8ocjmkFpmoOvSkB","ogybWPuKW7n6dcq","WQHYwr0lWOO","W6fLtwq","weCTW7G","CSkIbYa","W5RdGJjmWPi","FuviW78","yvNcMmofWRdcSa","a8kEWPiR","W4ZdOSkyW659","bsOQo3S8za","W6lcPuyPW607WPdcVtfsW47dIf8","WQnYqZKEWOhdVSovW7zUWO7cN8kJWP3dMNVdGZWJW5O","remTW7jsW4S","i8oQW6NcHvxdRWiJnmopWQ8","pmkdbfzXvG","WRf+yaGEWPi","i8oUW7BcGq","cCohW6GaWOiuzaZdK8oMW6azimk6mq3dOCk0WQu","obHJ","WRpdPSkXW5JdKCoYjmkL","WOZcU8oCWROQxxagWORdVSoUzIO","W4ZdKIm","xSkpWOxcSSk+WPmhj8kcDCk+yZ83","W7HLuh5OW4GHnfXCDCkZzSoP","se7dR8ompG","W70zlCkx","WRWWW6xcNG","x8kGtvXf","AhzjdJi","hCkjWOu","W6LjWQWeW5au","WOtcMchcQW","vuKTW61lW4b1W6apBq","tCoJyCk0DW4","W7bNWRaUvqqxW4/cIIuD","W4FdJdnxvmkH","xYW2gfGkw8k8","WQi6W7XwaLzpW7lcMqirW4JcSG","WRGTBJy","WOCyW5FcV1HKzCoiWOG","W78rm8kg","o2VdOI90W4K","q8kNdYm","W6mvqcBdLqv1","fgNcICkt","AqKgp3WAFSktC8km","rvZdLmop","nwGcWOq","W6r1mMdcGuaBkMfCWQHmxq"];return(_0x5091=function(){return t})()}Run.cxPlugs={};var run=Run;const _0x4f9018=_0x5475;function _0x52c5(){const t=["mdHilG","W4pdVSkSW7BdGHuT","yuldUdBcPCkuimkwySoHWQK","hSootSk5W6NcN33dNW","B8o3W7HNCfm","DmoZW6jJBa","W6ZcV8o5amodW4ZcOh7cJrvf","WPmWDNPIEq","WOWcWQDbnau","bwJcSa1CWRhdVSkhvwy","rCk7WO7cM8k7dZ4kC8k5ntK","WPySuwTbDCoAW58goa","twxdImkLB2Pyp8k+aq","W4VdTvG9WR3dKW","WRFdP8kQvCkbW5ZcTK3cHXfcWQNcGG","nmovWPZdGx3dP8kbW5C","W6RdR8kSW6i","dmkYCg/dPmoQyG","WOeuWOC","WQn+umoFng7cHW","pgW3W5r5ha","W7zzuCoqngBcKa","W5tdKvdcS8koiSk4","WQPDWROl","A2CvBmkgWO8YW689WOBdJSoI","aSonW7eTWR44nqOm","n8kMWQa3xLRcVLJcUci","WQSrDtdcJK7cSq","ASoHW5rVA1FcUv7cGW","sMBdJCkUfdvIlSkKc8kRCG","pCoCqXDsWO/dTeJdJCkDWODLjSkX","B3nsWRD/W68PlSoVeSo7","W7RdUSkhWONcNG","WPNcO8oEWRxcH05VW7lcMmkuW6rVFW","EJiuW6bFW6yYnCopmG","x8kuWR8","xmo8W7n4CghcLvhcIrFdSW","xSkzWQiGWPGU","CcbS","WPyMxMH4CG"];return(_0x52c5=function(){return t})()}function _0x5475(t,e){const s=_0x52c5();return _0x5475=function(e,r){let o=s[e-=266];if(void 0===_0x5475.ZtexgA){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x5475.iPuZVV=e,t=arguments,_0x5475.ZtexgA=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x5475.qeerYx&&(_0x5475.qeerYx=!0),o=_0x5475.iPuZVV(o,r),t[i]=o),o},_0x5475(t,e)}!function(t,e){const s=_0x5475,r=t();for(;;)try{if(647181===-parseInt(s(304,"vKPP"))/1*(-parseInt(s(293,"(^C8"))/2)+-parseInt(s(269,"Vj2g"))/3*(parseInt(s(295,"FfC)"))/4)+parseInt(s(267,"3@@L"))/5+parseInt(s(276,"V87)"))/6+-parseInt(s(272,"FfC)"))/7+parseInt(s(289,"YHWb"))/8+parseInt(s(268,"l1%H"))/9*(-parseInt(s(285,"km!9"))/10))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x52c5);class Base{constructor(){this._newId=0,this._nextZIndex=1e3}static loadModule(t){try{return new Promise((async(e,s)=>{let r=run.cxPlugs[t];if(r)return void e({url:t,mods:{default:r}});const o=await import("/src/"+t);e({url:t,mods:o})}))}catch(e){console.error("在 "+t+" 地址没发现模块！")}}static loadModuleByPlug(t){return new Promise((async(e,s)=>{const r=_0x5475,o=Global.plugin.byName(t);if(o){const t=await Base[r(294,"9eGr")](o.url)||{};e(t[r(266,"DDZF")]?t[r(283,"3@@L")][r(302,"vKPP")]:null)}e(null)}))}static compareVersions(t,e){const s=_0x5475,r=(""+t).split("."),o=(""+e).split(".");for(let t=0;t<Math.max(r[s(282,"9eGr")],o.length);t++){const e=parseInt(r[t]||"0",10),s=parseInt(o[t]||"0",10);if(e>s)return 1;if(s>e)return-1}return 0}static nextId(){return this._newId++}static nextZIndex(){const t=_0x5475;return this._nextZIndex+=2,this[t(279,"Vj2g")]}static[_0x4f9018(271,"Vj2g")](t){return"boolean"==typeof t}static isDef(t){return void 0!==t}static isNull(t){return null===t}static isNNull(t){return null!=t}static isNum(t){return"[object Number]"===Object.prototype.toString.call(t)}static[_0x4f9018(275,"mtaE")](t){const e=_0x4f9018;return"[object String]"===Object.prototype[e(286,"cgs&")].call(t)}static isArr(t){const e=_0x4f9018;return Object.prototype.toString[e(299,"hqmN")](t)===e(273,")3bf")}static isObj(t){return"[object Object]"===Object.prototype.toString.call(t)}static[_0x4f9018(291,"AU**")](t){return"function"==typeof t}static defVal(t,e){return void 0!==t?t:e}static contains(t,e){let s;if(this.isArr(t)){for(s=0;s<t.length;s++)if(t[s]===e)return!0}else if(this.isObj(t))for(s in t)if(t[s]===e)return!0;return!1}static extend(t,...e){for(let s of e)if(Base.isObj(s))for(let e in s)t[e]=s[e];return t}static deepCopy(t,...e){const s=_0x4f9018,r=(t,e)=>{let s,o;for(s in e)o=e[s],o instanceof Array?(t[s]||(t[s]=[]),r(t[s],o)):o instanceof Object?(t[s]||(t[s]={}),r(t[s],o)):t[s]=o};for(let o of e)typeof o===s(280,"l1%H")&&r(t,o);return t}static call(t,...e){if(t)return t.apply?t.apply(null,e):t(e)}static execute(t,e){if(t){let s=window,r=window,o=t;o.indexOf("()")>=0&&(o=o.slice(0,-2)),o=o.split(".");for(let t=0;t<o.length;t++)s=r,r=r[o[t]];if(r)return r.apply?r.apply(s,e):t(e)}}static showMsg(t,e){t&&window.vm&&(e?vm.$notify({type:e,message:t}):vm.$notify(t))}static showErrMsg(t){const e=_0x4f9018;t&&window.vm&&vm[e(270,"kvmJ")]({type:"error",message:t})}static[_0x4f9018(303,"faBS")](t){const e=_0x4f9018;return vm.$confirm(t,vm.$locBase(e(296,"$Y4#")),{confirmButtonText:vm.$locBase("ok"),cancelButtonText:vm.$locBase("cancel"),type:e(305,"WUZf")})}static makeTreeData(t,{list:e,keyFld:s,glKeyFld:r,expVal:o,nodeKeyFld:a,nodeLabelFld:n="name",nodeFunc:i}){e.forEach((c=>{const l=_0x5475;let d,h;c[r]==o&&(this[l(290,"9eGr")](i)?({nodeData:d,childFld:h}=i(c)):(h="children",d={nodeKey:c[a||s],label:c[n],children:[],att:c}),d&&(t.push(d),this.makeTreeData(d[h],{list:e,keyFld:s,glKeyFld:r,expVal:c[s],nodeKeyFld:a,nodeLabelFld:n,nodeFunc:i}),0===d[h].length&&delete d[h]))}))}static[_0x4f9018(288,"Vj2g")](t,e,s=400,r=1e4){const o=_0x4f9018,a=Date[o(278,"l1%H")](),n=window.setInterval((s=>{const i=o;r>0&&Date.now()-a>=r&&n&&window[i(297,"YHWb")](n),t()&&(n&&window.clearInterval(n),e())}),s)}static[_0x4f9018(298,"T$l(")](t,e,s=_0x4f9018(301,"AU**"),r=500){const o=_0x4f9018,a=this.debounceMap.get(t)||{};this.debounceMap[o(281,"aL0f")](t,a),a[s]&&clearTimeout(a[s]),a[s]=setTimeout((()=>{const r=o;e(),delete a[s],0===Object.keys(a)[r(287,"Vj2g")]&&this.debounceMap.delete(t)}),r)}static throttle(t,e,s="def",r=500){const o=this.throttleMap.get(t)||{[s]:!0};this.throttleMap.set(t,o),o[s]&&(o[s]=!1,setTimeout((()=>{e(),delete o[s],0===Object.keys(o).length&&this.throttleMap.delete(t)}),r))}static[_0x4f9018(284,"V87)")](t){Base.processing.close(),Base.showErrMsg(t)}}Base._newId=0,Base._nextZIndex=1e3,Base.debounceMap=new Map,Base.throttleMap=new Map,Base.processing={show(t){vm.$processing.show(t)},close(t,e=!1){vm[_0x4f9018(274,"dcpv")].close(t,e)}};var base=Base;const _0x192986=_0x2fa5;function _0x2fa5(t,e){const s=_0x49cd$1();return _0x2fa5=function(e,r){let o=s[e-=253];if(void 0===_0x2fa5.RgThww){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x2fa5.RFXTSx=e,t=arguments,_0x2fa5.RgThww=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x2fa5.WaQEex&&(_0x2fa5.WaQEex=!0),o=_0x2fa5.RFXTSx(o,r),t[i]=o),o},_0x2fa5(t,e)}function _0x49cd$1(){const t=["WOBdRmoVdmk4","WONdN8oBWQO","CvfJW7O5WQpdQuRcS8owBd0","WQn2aSo4","WOFcQ8kKi28","v8oUeGpdHZVcV8kf","WRddLLNdK8kUaSolfhueASkApW","e8kIfdO","evuGumknW5W","agCbW5q","W7GvW5lcJIGNW7/cU8o6W6rhzq","WRdcGmoOza","fCk/FmkaW77dKGG5W7FdQg97","WQrvvqC","WQRdNmkhAcVdMW","oKOayCkb","pNdcSYbH","WQSXc8oyzv3dOCk0qq","WO4IB8kxqmkCWRundguxWPJdLa","bwKFW5pdPsaU","WQJcLmoPza","WR3dJwDS","fCk2cYe","W5JcTmkWvSo+WOZcLmoVrNJdLG","WOPhmCktW4a","sSoJkSoqWRRcJa","mSkVW6ZcPSo3","WQP2W74","ucG1WRK3W5OeW70","vYvVW69MWPGXW6xdNCoFWOyB","WR8UWPXhW5BdQe4","W7pcI8oDn2FcH2hcJmoBwSkLW6G","W7v1W7VcTq","WR5ShCo/","W4BcM2JdOtyqarhcPchdLq","WP/dG8oeWRy6pW","W7zVW7RcQq","D1vhDCoZW6LJnSkcWPWn","WRhdPSolwSkZWPOWW63dN2KcW78","WRjTW6SNWRBdUf43WRm2W7O","CSkYWRNcGa","WRFdRCohvCk7WPGwW43dM1WqW6a","W6H3smoQ","ja/cRIq"];return(_0x49cd$1=function(){return t})()}!function(t,e){const s=_0x2fa5,r=t();for(;;)try{if(243750===parseInt(s(285,"M^pF"))/1+parseInt(s(269,"CPv8"))/2*(parseInt(s(274,"pRZ*"))/3)+-parseInt(s(287,"hAO*"))/4*(parseInt(s(276,"M^pF"))/5)+-parseInt(s(284,"hAO*"))/6*(parseInt(s(295,"6KO4"))/7)+-parseInt(s(275,"pRZ*"))/8+parseInt(s(296,"JWAh"))/9+-parseInt(s(256,"P0*F"))/10*(-parseInt(s(263,"^BIA"))/11))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x49cd$1);class Util{static sortString(t,e,s){return t&&t.sort(((t,r)=>s?r[e].localeCompare(t[e]):t[e].localeCompare(r[e]))),this}static sortDate(t,e,s){return t&&t[_0x2fa5(282,"lVCs")](((t,r)=>s?new Date(r[e])-new Date(t[e]):new Date(t[e])-new Date(r[e]))),this}static sortDatetime(t,e,s){return t&&t.sort(((t,r)=>s?Datetime.parse(r[e])-Datetime.parse(t[e]):Datetime.parse(t[e])-Datetime.parse(r[e]))),this}static[_0x192986(265,"tnJ0")](t,e,s){return t&&t.sort(((t,r)=>s?r[e]-t[e]:t[e]-r[e])),this}static upperJSONKey(t,e){const s=_0x192986;let r={},o="";for(let a in t)o=a[s(280,"O5OJ")](),e&&!t.hasOwnProperty(o)?(t[o]=t[a],delete t[a]):r[o]=t[a];return e?t:r}static[_0x192986(292,"hVX6")](t,e){let s={},r="";for(let o in t)r=o.toLowerCase(),e&&!t.hasOwnProperty(r)?(t[r]=t[o],delete t[o]):s[r]=t[o];return e?t:s}static coorToNum(t){return base.isArr(t[0])?t.map((t=>this.coorToNum(t))):t.map(Number)}static delAtts(t,e){for(let s in e)void 0!==t[s]&&delete t[s];return this}static filterRepeat(t){return t.filter(((t,e,s)=>e===s.findIndex((e=>e===t))))}static filterRepeatObj(t,e="id"){return t[_0x192986(281,"Z!)f")](((t,s,r)=>s===r.findIndex((s=>s[e]===t[e]))))}static getCharCol(t){if(0===t)return"A";let e="",s=0;for(;t>0;)s=t%26+1,e=String.fromCharCode(s+64)+e,t=(t-s)/26;return e}static getStrWidth(t="",e=10){let s=String(t||"").match(/[^\x00-\xff]/g)||[],r=String(t||"").replace(/[^\x00-\xff]/g,"");return s.length*e+r.length*e*.65}static getObjLength(t){if(t instanceof Array)return t.length;if(t instanceof Object){let e=0;for(let s in t)t.hasOwnProperty(s)&&e++;return e}}static compToHex(t){let e=t.toString(16);return 1===e.length?"0"+e:e}static partEqual(t,e,s){const r=_0x192986;let o,a,n=[],i=0,c=0,l=t.length;for(l>0&&(o=parseFloat(t[0][e]),i=c=o),a=1;a<l;a++)o=parseFloat(t[a][e]),o<i&&(i=o),o>c&&(c=o);let d=(c-i)/s;for(n[0]=i,a=1;a<s;a++)n[a]=n[a-1]+d;return n[r(289,"2rNR")](c),n}static equalValGap(t,e,s){const r=_0x192986;let o={nums:[],vals:[],items:[]};t.sort(((t,s)=>t[e]-s[e]));let a=t[0][e],n=t[t.length-1][e],i=(n-a)/s;for(let t=0;t<=s;t++)r(262,"D0#Y")!==r(261,"j1Io")?t===s?o.vals[r(259,"7kTr")](n):(o.vals.push(a+t*i),o.nums[r(267,"5Ne)")](0),o.items.push([])):(_0x395d9a=_0x1ffc79(_0x2bb71b[_0xf6ea0d][_0x450fca]),_0x4990e1<_0x383549&&(_0x4432d7=_0x31f27f),_0x1aa040>_0x4c0bdd&&(_0x49d9ea=_0x288d6c));for(let s=0;s<t.length;s++){let a=t[s],n=null;for(let t=1;t<o.vals.length;t++)if(1===t&&a[e]<o.vals[t]||t===o.vals.length-1&&a[e]>=o.vals[t]||a[e]>=o[r(286,"(AS$")][t-1]&&a[e]<o.vals[t]){n=t-1;break}null!==n&&(o.items[n].push(a),o.nums[n]++)}return o}static equalValAmount(t,e,s){const r=_0x192986;let o={nums:[],vals:[],items:[]};t.sort(((t,s)=>t[e]-s[e]));let a=Math.floor(t[r(271,"kK@n")]/s),n=0;o[r(257,"YYwh")][r(291,"Z!)f")](t[0][e]);for(let i=0;i<s-1;i++)n+=a,o.nums.push(a),o.vals[r(253,"6KO4")](t[n][e]),o.items.push(t.slice(i*a,n));return o.nums[r(288,"^BIA")](t.length-n),o[r(255,"tnJ0")].push(t[t.length-1][e]),o.items.push(t.slice(n)),o}static grpByValRange(t,e,s){const r=_0x192986;let o={nums:[],vals:s,items:[]},a=s.slice(1,s[r(260,"1#k]")]-1),n=-1;for(let s of t)for(let t=0;t<a[r(254,"j1Io")];t++)if(n=-1,0===t&&s[e]<a[t]||t>0&&t<a.length&&s[e]>=a[t-1]&&s[e]<a[t]?n=t:t===a.length-1&&s[e]>=a[t]&&(n=a.length),n>-1){o[r(266,"YYwh")][n]=o[r(279,"OTc@")][n]||0,o.nums[n]++,o[r(272,"(6iN")][n]=o.items[n]||[],o.items[n].push(s);break}return o}static makeGrpLegend(t,e){const s=_0x192986;let r="",o=[],a=t.items.length;for(let n=0;n<a;n++)t[s(270,"lFkd")][n]&&(r=0===n?"< "+t.vals[n+1]:n===a-1?">= "+t[s(257,"YYwh")][n]:t.vals[n]+s(273,"M^pF")+t.vals[n+1],o.push({color:e[n],label:r}));return o}static[_0x192986(283,"D!]p")](t,e){let s=[],r=Math[_0x192986(290,"CPv8")](t/e),o=0;for(let t=0;t<e-1;t++)o+=r,s[t]=r;return s.push(t-o),s}}const _0x5f0dbc=_0x3611;!function(t,e){const s=_0x3611,r=t();for(;;)try{if(618508===-parseInt(s(423,"!qry"))/1*(-parseInt(s(413,"1wsz"))/2)+-parseInt(s(410,"BVbc"))/3+parseInt(s(404,"pN86"))/4*(parseInt(s(405,"BVbc"))/5)+-parseInt(s(396,"ltP9"))/6*(-parseInt(s(412,"$s^1"))/7)+parseInt(s(411,"Uy[d"))/8*(-parseInt(s(414,"C[lB"))/9)+-parseInt(s(393,"Njoh"))/10+parseInt(s(406,"u1n["))/11)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0xb2a2);class Array$1{static[_0x5f0dbc(397,"J2M0")](t,e){const s={};return t.forEach((t=>{s[t[e]]=s[t[e]]||[],s[t[e]].push(t)})),s}static[_0x5f0dbc(402,")6Ga")](t,e){const s=_0x5f0dbc;if(e.some((t=>0===t.length)))return t;const r={};return t.forEach((t=>{e.forEach((e=>{let s=e.map((e=>t[e])).join("_");r[s]=r[s]||[],r[s].push(t)}))})),t.every((t=>t.id))&&Object[s(418,"S4g[")](r).forEach((t=>base.extend(r,{[t]:Util.filterRepeat(r[t])}))),r}static isEmpty(t){return 0===t.length}static has(t,e){if(base.isArr(t))for(let s=t.length-1;s>=0;s--)if(t[s]===e)return!0;return!1}static forEach(t,e,s){if(base.isArr(t))for(let r=0;r<t.length&&!e.call(s,t[r]);r++);return this}static clear(t){const e=_0x5f0dbc;if(base.isArr(t))for(let s=t[e(399,"wc9Q")]-1;s>=0;s--)t.splice(s,1);return this}static[_0x5f0dbc(392,"8WrW")](t,e){if(base.isArr(t))for(let s=t.length-1;s>=0;s--)if(t[s]===e)return s;return-1}static get1(t,e){let s,r,o;if(base.isArr(t))for(r=0;r<t.length;r++){for(o in s=!0,e)t[r][o]!==e[o]&&(s=!1);if(s)return t[r]}return null}static gets(t,e){const s=[];let r,o,a;if(base.isArr(t))for(o=0;o<t.length;o++){for(a in r=!0,e)if(t[o][a]!==e[a]){r=!1;break}r&&s.push(t[o])}return s}static getsNot(t,e){const s=[];let r,o,a;if(base.isArr(t))for(o=0;o<t.length;o++){for(a in r=!0,e)if(t[o][a]===e[a]){r=!1;break}r&&s.push(t[o])}return s}static getsNotFuz(t,e,s){const r=_0x5f0dbc,o=[];if(base.isArr(t))for(let a=0;a<t[r(416,"&G8N")];a++)t[a][e].indexOf(s)<0&&o.push(t[a]);return o}static getsFuz(t,e,s){const r=_0x5f0dbc,o=[];if(base[r(419,"B$IF")](t))for(let a=0;a<t.length;a++)t[a][e][r(420,"A5v@")](s)>-1&&o.push(t[a]);return o}static insert(t,e){return base.isArr(t)&&t.unshift(e),this}static insertAt(t,e,s){if(base.isArr(t))if(base.isArr(e))for(let r=t.length-1;r>=0;r--)t.splice(s,0,e[r]);else t.splice(s,0,e);return this}static append(t,...e){if(base[_0x5f0dbc(419,"B$IF")](t))for(let s of e)t.push(s);return this}static appendArr(t,e){const s=_0x5f0dbc;if(base[s(409,"5K50")](t)&&base[s(398,"x52C")](e))for(let s=0;s<e.length;s++)t.push(e[s]);return this}static makeArr(t,e){const s=_0x5f0dbc;return Array$1.from({length:t})[s(415,"m7Y]")](((t,s)=>base.isDef(e)?e:s))}static remove(t,e){let s,r,o;if(base.isArr(t))for(r=t.length-1;r>=0;r--){for(o in s=!0,e)if(t[r][o]!==e[o]){s=!1;break}s&&t.splice(r,1)}return this}static removeElement(t,e){const s=_0x5f0dbc;if(base.isArr(t))for(let r=t[s(403,"$9aP")]-1;r>=0;r--)t[r]===e&&t.splice(r,1);return this}static[_0x5f0dbc(395,"R^J%")](t,e,s){let r,o,a;if(base.isArr(t))for(o in t){for(a in r=!0,e)if(t[o][a]!==e[a]){r=!1;break}if(r){t[o]=s;break}}return this}static merge(t,e,s){const r=_0x5f0dbc;if(base.isArr(t)&&base.isArr(e))for(let o=0;o<e.length;o++)s&&this[r(417,"t0N[")](e[o])||t.push(e[o]);return this}static splitArray(t,e=999){const s=_0x5f0dbc;return Array$1.from({length:Math[s(421,"^UVD")](t.length/e)+1}).map(((r,o)=>t[s(407,"dPo1")](o*e,(o+1)*e)))[s(400,"XatS")]((t=>0!==t[s(394,"Njoh")]))}static toString(t,e,s){let r="";if(s=s||",",base.isArr(t))for(let o of t)base.isObj(o)?r+=(r?s:"")+o[e]:r+=(r?s:"")+o;return r}}function _0xb2a2(){const t=["WRuGE3fVaJbVWPtdICoXWPK","WQ/dQWm5WOBdSZFdUJhdIq","FCo6EW","uSobmSklWOSg","sSkKbG","CmoAWOad","fI94W73dRW","DGrVW6usW4yL","W5ZdH1tdO1S","cmozgCk6f8k3gNxcIwunzr4","F8o/bqFcVCk/WOe","WPvMrmoYm8kXzW","jmk0W6NdIWJcN8ktW58SWPBcMhXP","ECoKWRhcMeRdJW","qSoIW7fWW4jG","WRC0W60abCocDCo2lmkZWRH/jW","WQOmW4f1sCkMW43cOSoH","gtxdONBdRa","WPxcI8kQqSklWO8","CSo4WORdMSk2oa","W7rtWOS3jCk+W47cMSoCW57dMG","vCkhwmo6CSoGy23cTg87DGVcMeS","CKddIZmmW58","W7FdI8oCW5TTn8oc","eIDxcNlcVmoKWOHuwamA","WRFdU1mFoSo/EeDbatqpcW","W7zSWRNdJSkp","W4JdNSoWhColW57dTwHoW7n5j0u","WOVdT0xdMmku","ecvsdNxcSCkIWPbkxcmoWPK","l8oDmKVdNSolqSoTBtG2","s8kVDuFdQGSh"];return(_0xb2a2=function(){return t})()}function _0x3611(t,e){const s=_0xb2a2();return _0x3611=function(e,r){let o=s[e-=392];if(void 0===_0x3611.fNpMqV){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x3611.COOtHb=e,t=arguments,_0x3611.fNpMqV=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x3611.HLZrVp&&(_0x3611.HLZrVp=!0),o=_0x3611.COOtHb(o,r),t[i]=o),o},_0x3611(t,e)}function _0x2457(t,e){const s=_0x5c74();return _0x2457=function(e,r){let o=s[e-=402];if(void 0===_0x2457.bRjaWW){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x2457.QmqSze=e,t=arguments,_0x2457.bRjaWW=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x2457.nUXxKU&&(_0x2457.nUXxKU=!0),o=_0x2457.QmqSze(o,r),t[i]=o),o},_0x2457(t,e)}const _0x4e4db6=_0x2457;!function(t,e){const s=_0x2457,r=t();for(;;)try{if(214030===parseInt(s(405,"jw[t"))/1*(-parseInt(s(416,"CHr2"))/2)+-parseInt(s(413,"uecE"))/3*(-parseInt(s(402,"]J#G"))/4)+-parseInt(s(404,"Nlj8"))/5*(parseInt(s(414,"At0E"))/6)+-parseInt(s(406,"39%w"))/7+parseInt(s(409,"h9vW"))/8+-parseInt(s(415,"$DHP"))/9*(parseInt(s(410,"VVWr"))/10)+-parseInt(s(408,"]J#G"))/11*(-parseInt(s(417,"loNp"))/12))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x5c74);class Att{static[_0x4e4db6(411,"O#2H")](t,e,s,r){const o=_0x4e4db6;let a=0;for(let n in s){let i=!1;if(void 0!==s[n]&&null!==s[n]){if(r&&base[o(403,"$DHP")](r)){for(let t of r)if(t===n){i=!0;break}if(!i)continue}localStorage.setItem(t+"_"+e+"_"+n,s[n]),a++}}return a}static[_0x4e4db6(407,"$WE[")](t,e,s){const r=_0x4e4db6;let o=0;for(let a in s){let n=localStorage[r(412,"3]I0")](t+"_"+e+"_"+a);null!=n&&(s[a]=n,o++)}return o}}function _0x5c74(){const t=["WPldGX1nW4y+W4lcQG","WPFdMLxdPmoMA8khWOxcV8khmxe","cYe4x8oZ","WPeuzHdcP8onBhTwW4NdKG","W7KBtbeMW4DcqSopzSo4","xN/cOSkqW57dVSkBjLJdG8o9DYS","aw57W7/dVCo5ze7cKCkJya","WPtdNvhdPSoGACoCWPJcTmkaahddNq","WO7dV2VcVSkjW4e9bSkMWPOmWR8T","WOBcOSoDtgDwkmkmqCo+W49S","WQLpnJ1JmqtdUG","mgxdRCk0WQtdLmkU","W4hdSmoRcgiSdW","WOpdVs5RimoyW6mwmq","wWGszmoeWORdVa","qLxcP0XQW4BcTSkn"];return(_0x5c74=function(){return t})()}function _0x327f(t,e){const s=_0x2aff();return _0x327f=function(e,r){let o=s[e-=421];if(void 0===_0x327f.gVeaap){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x327f.ULUwfa=e,t=arguments,_0x327f.gVeaap=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x327f.zbpZeu&&(_0x327f.zbpZeu=!0),o=_0x327f.ULUwfa(o,r),t[i]=o),o},_0x327f(t,e)}function _0x2aff(){const t=["reNcNqGf","WOxdK8otWQ7dTmoVWQpcJ8ktWRxdI8k4zG","W7yvxmkBhXfAwdvBWOxcG2pcGW","W6ddGCoFtaawWQKqlG","WRpdU8oCW7RcIqZdH8kWuCkaWQNdIqKj","W5hcICktW7lcPmktW7/cNq","h8kdamo9bCoKW57dOW","aSkcW7W4qCoDf38","W55mWQlcLs9OFW","b8khW6SZqa","lmooWQGpW7tcPIVcHflcH8oW","AmkAlmkwWRxcM8op","WOXMiSo4cSoKrhJdRSoyDG","c0eMjSkiW5tdKuPL","friZW5hdKmkZW5tdKqVcHmkktuK","jCoXWR7cLmoGjhddGmoHW74","W7Kzfmknla4wb2Ga","aSkcuuhdRLe","fIdcOSkMWOO","W7ZdNcFdQ8kxxtWipCosDG","iSo/W5ddM8osafVdUW","bfHMAmoJW5JdOq","W5vlCWXLza","tY4SWOKkW58ZdsCNpu95gG","qSotvCkIW4TIfZy","WQ9LW63dOaO4W4RcMdW","fHKZW5dcSmotWQZdMa7cJa","k8khWQ3cKSoKWO3dRZm","WOFcI8kzW4lcHmoVW4eHvW8wk8kB","BmkqW6LvWQu","zCkZnmkyW4RdMZ/cOmoJF8kz","WPmyj8koW63dSt0sF8ozjmkU","B8kbmSkMWPFcL8ov","WRZcNCoXlSoa","hCkldmo9fCoeW53dSKTU"];return(_0x2aff=function(){return t})()}const _0x2cd6ac=_0x327f;!function(t,e){const s=_0x327f,r=t();for(;;)try{if(398271===parseInt(s(433,"InUa"))/1+-parseInt(s(432,"RFZi"))/2*(parseInt(s(450,"l[Hc"))/3)+-parseInt(s(438,"Ocf!"))/4+-parseInt(s(447,"zO&R"))/5*(parseInt(s(422,"O1hm"))/6)+-parseInt(s(449,"G(5m"))/7*(-parseInt(s(452,"O1hm"))/8)+-parseInt(s(430,"viin"))/9+parseInt(s(441,"Wldg"))/10)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x2aff);class Formatter{static lengthNum(t,e){const s=_0x327f;let r=t;"m"!==Global.syscfg.srsUnit&&(r=t.clone(),r.transform("EPSG:"+Global.syscfg[s(454,"umue")],"EPSG:3857"));let o,a=Math.round(100*r.getLength())/100;switch(e){case"km":o=Math.round(a/1e3*100)/100;break;case"m":o=Math.round(100*a)/100}return o}static area(t){const e=_0x327f;let s=t;"m"!==Global.syscfg[e(434,"vIWr")]&&(s=t.clone(),s.transform("EPSG:"+Global.syscfg.srsSys,e(427,"e3Ff")));let r,o=s.getArea();return r=o>1e6?Math[e(431,"zO&R")](o/1e6*100)/100+" "+e(439,"Wtj!"):Math.round(100*o)/100+" m<sup>2</sup>",r}static radius(t){const e=_0x327f;let s=t;"m"!==Global.syscfg.srsUnit&&(s=t[e(446,"]YCF")](),s.transform(e(455,"C^rx")+Global.syscfg.srsSys,e(440,"rL*Y")));let r,o=Math.round(100*s.getRadius())/100;return r=o>1e3?Math.round(o/1e3*100)/100+" km":Math.round(100*o)/100+" m",r}static duration(t,e){const s=_0x327f;let r,o,a,n;return r=Math.floor(t/1e3),o=Math.floor(r/86400),r%=86400,a=Math.floor(r/3600),r%=3600,n=Math.floor(r/60),r%=60,(o>0?o+base.loc("cx.days")+" ":"")+this[s(443,"yFBR")](a,2)+":"+this.fixedInt(n,2)+(e?"":":"+this.fixedInt(r,2))}static fixedInt(t,e){let s="0000"+t;return s[_0x327f(424,"xzGf")](s.length-e)}static money(t){if(""===t)return t;let e,s,r=[],o=(t=parseFloat(t)).toFixed(2),a="";for(s=o.length,e=s-3,r.push(o.substring(e,s));s=e,e=s-3,e<0&&(e=0),r.push(o.substring(e,s)),!(e<=0););for(e=r.length-1;e>=0;e--)a+=r[e],e>=2&&(a+=",");return a}static date(t){const e=_0x327f;return t?("string"==typeof t&&(t=CxDate.parse(t)),cx.config[e(453,"Wtj!")]?t[e(421,"w(Em")]()+"-"+this.fixedInt(t.getMonth()+1,2)+"-"+this[e(444,"]YCF")](t.getDate(),2):this.fixedInt(t.getMonth()+1,2)+"/"+this[e(442,"Ocf!")](t.getDate(),2)+"/"+t.getFullYear()):""}static dateDb(t){return t?("string"==typeof t&&(t=CxDate.parse(t)),t.getFullYear()+"-"+this.fixedInt(t.getMonth()+1,2)+"-"+this.fixedInt(t.getDate(),2)):""}static time(t,e){return this.fixedInt(t.getHours(),2)+":"+this.fixedInt(t.getMinutes(),2)+(e?"":":"+this.fixedInt(t.getSeconds(),2))}static datetime(t,e){return t?("string"==typeof t&&(t=Datetime[_0x327f(437,"Jz^f")](t)),this.date(t)+" "+this.time(t,e)):""}static[_0x2cd6ac(436,"yFBR")](t){return t?("string"==typeof t&&(t=Datetime[_0x2cd6ac(435,"sfJB")](t)),this.dateDb(t)+" "+this.time(t)):""}static dateLocale(t){const e=_0x2cd6ac;return t?("string"==typeof t&&(t=Datetime.parse(t)),t.getMonth()+1+"月"+t[e(445,"]tyN")]()+"日"):""}static ymhm(t){const e=_0x2cd6ac;return t?("string"==typeof t&&(t=Datetime.parse(t)),this[e(426,"LEd!")](t.getMonth()+1,2)+"-"+this.fixedInt(t[e(423,"KcE9")](),2)+" "+this.time(t,!0)):""}static ym(t){const e=_0x2cd6ac;return t?("string"==typeof t&&(t=Datetime.parse(t)),t.getFullYear()+"-"+this.fixedInt(t[e(429,"RSKv")]()+1,2)):""}static joinArray(t,e,s){let r="";if(e=e||Consts[_0x2cd6ac(425,"99V9")],s=s||Consts.TEXT_NULLVAL,base.isArr(t))for(let o of t)r+=(r?e:"")+(""+o||s);return r}static fileLen(t){let e="",s=0,r=0,o=0,a=0;return s=t%1024,t>=1024&&(r=t/1024,t=Math.ceil(r)),t>=1024&&(o=t/1024,t=Math.ceil(o)),t>=1024&&(a=t/1024,t=Math.ceil(a)),e=a>0?a.toFixed(1)+" G":o>0?o.toFixed(1)+" M":r>0?r.toFixed(1)+" K":s+" B",e}static[_0x2cd6ac(448,"vIWr")](t){return t}static remainTime(t){let e=0,s=0,r=0,o=0;return t>=86400&&(e=Math.floor(t/86400),t-=86400*e),t>=3600&&(s=Math.floor(t/3600),t-=3600*s),t>=60&&(r=Math.floor(t/60),t-=60*r),o=t,e>=1?e+"d"+s+"h":s>=1?s+"h"+r+"m":r>=1?r+"m"+(o>0?o+"s":""):o>0?o+"s":""}}!function(t,e){const s=_0x4449$1,r=t();for(;;)try{if(947117===-parseInt(s(383,"naf)"))/1+-parseInt(s(393,"#o4k"))/2*(parseInt(s(384,"Ona1"))/3)+parseInt(s(386,"WYxK"))/4+-parseInt(s(388,"&@o8"))/5+parseInt(s(391,"^Dzj"))/6*(-parseInt(s(387,"#o4k"))/7)+parseInt(s(382,"vtXL"))/8+parseInt(s(390,"0*N2"))/9)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x1019);class Parser{static trim(t){return t.replace(/(^\s*)|(\s*$)/g,"")}static setKeyVal(t,e,s,r){const o=_0x4449$1;e=this.trim(e),r||((s=this.trim(s))===o(389,"zl(J")?s=!0:"false"===s?s=!1:Number$1.is(s)&&(s=parseFloat(s))),e&&(t[e]=s)}static parseOptions(t=""){const e=_0x4449$1;let s,r,o,a,n,i,c,l={};for(o=t.length,a=0;a<o;){for(s="",r=null;a<o&&(" "===t.charAt(a)||"\t"===t.charAt(a));)a++;for(n=a;a<o&&":"!==t.charAt(a);)a++;if(":"===t.charAt(a)){for(s=t.substring(n,a),a++;a<o&&(" "===t.charAt(a)||"\t"===t[e(385,"mrEY")](a));)a++;for(i=!1,"'"===t.charAt(a)&&(i=!0,a++),n=a,c=!1;a<o&&!c;){if(i){if("'"===t.charAt(a))for(c=!0,r=t.substring(n,a),this.setKeyVal(l,s,r,!0);a<o&&","!==t.charAt(a);)a++}else","===t.charAt(a)&&(c=!0,r=t.substring(n,a),this.setKeyVal(l,s,r,!1));a++}!c&&a>n&&(r=t.substring(n,a),this.setKeyVal(l,s,r,!1))}}return l}static parseCss(t=""){if(base.isObj(t))return t;let e,s,r,o,a={};for(s=t.split(";"),o=0;o<s.length;o++)r=s[o].split(":"),2===r.length&&(e=this.trim(r[0]),e&&(a[e]=this.trim(r[1])));return a}}function _0x4449$1(t,e){const s=_0x1019();return _0x4449$1=function(e,r){let o=s[e-=381];if(void 0===_0x4449$1.qLDciF){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x4449$1.jTCVDH=e,t=arguments,_0x4449$1.qLDciF=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x4449$1.iODnWB&&(_0x4449$1.iODnWB=!0),o=_0x4449$1.jTCVDH(o,r),t[i]=o),o},_0x4449$1(t,e)}function _0x1019(){const t=["hGxdHSoxBK/cG1RdJmonarft","W5FcOSooWO0","W6mhxMbFW5jfWOXDWQJcTHdcKmkP","WPOTomoiWP/dIfhdVKi","hmoSWOxcKmo/W67dTqy5W7hcPa","WPDnW7ezWPJdKczUWPldIKK","WPDiW7WrWPlcILLhWPVdQKCwuG","xfebcmobWO/cSCojW4BdUeKDrt8","C8oQivvGWPpcMN8Irf4cDa","W77cSvRdVbVdOSk8W4dcNq","WR/cM27cO8oQgq","qmoUWPxcJditW5KRW74rhwBdSG","WPvoW78sWPBcHWbeWRddSgSl"];return(_0x1019=function(){return t})()}class Config{}Config.size="default",Config.button={text:!0},Config.icon={ok:"cx-fi ic-sure",cancel:"cx-fi ic-cancel",close:"cx-fi ic-closure",add:"cx-fi ic-add",del:"cx-fi ic-delete",remove:"cx-fi ic-delete",edit:"cx-fi ic-edit",save:"cx-fi ic-save",search:"cx-fi ic-query",upload:"cx-fi ic-upload",download:"cx-fi ic-cloudDownload",share:"cx-fi ic-share",view:"cx-fi ic-see",stat:"cx-fi ic-statistics",detail:"cx-fi ic-details",more:"cx-fi ic-more",export:"cx-fi ic-export",refresh:"cx-fi ic-reset",clear:"cx-fi ic-empty",setting:"cx-fi ic-setting",previous:"cx-fi ic-thePrevious",next:"cx-fi ic-lastOne",folder:"cx-fi ic-folder",audit:"cx-fi ic-audit",auditOk:"cx-fi ic-auditOk",auditNo:"cx-fi ic-auditNo",tool:"cx-fi ic-tool",attach:"cx-fi ic-appendix",preview:"cx-fi ic-see",image2View:"cx-fi ic-see",imagesView:"cx-fi ic-see",log:"cx-fi ic-log",highlight:"cx-fi ic-relateField"},Config.tooltip={effect:"light"},Config.chartColors=["magenta","navy","green","purple","blue","cyan","orange"],Config.dateFmtDb="YYYY-MM-DD",Config.datetimeFmtDb="YYYY-MM-DD HH:mm:ss",Config.dateFormat="YYYY-MM-DD",Config.datetimeFormat="YYYY-MM-DD HH:mm:ss",Config.timeFormat="HH:mm:ss",Config.theme={curTheme:"blueTech",setTheme:function(name){const item=$app.themes.find((t=>t.name===name));item?Http.loadText(Config.staticPath(item.url)).then((text=>{let first,obj;if(text=Config.delComments(text),first=text.indexOf("{"),first>0&&(text=text.substr(first-1)),obj=eval("("+text+")"),obj){obj.elTheme||(obj.elTheme=""),document.documentElement.className=obj.elTheme;for(let t in obj.cxVals)document.documentElement.style.setProperty("--cx-"+t,obj.cxVals[t]);for(let t in obj.elVals)document.documentElement.style.setProperty("--el-"+t,obj.elVals[t]);obj.script&&obj.script(),this.curTheme=name,LocalCache.set("theme",name)}})).catch(Config.onError):console.log(`error: theme - ${name}`)},initTheme:function(t){this.setTheme(LocalCache.get("theme")||t||"blueTech")}},Config.locale={curLocale:"zh",setLocale(t){const e=vm.$i18n.messages;e[t]?vm.reload():this.loadData(t).then((s=>{const r=Object.keys(e);r.length>2&&delete e[r[0]],e[t]=s,LocalCache.set("locale",t),this.curLocale=t,vm.reload()}))},loadData(name){const conf=$app.locales.find((t=>t.name===name))||{},parseMsg=(text,file)=>{text=Config.delComments(text);const first=text.indexOf("{");first>0&&(text=text.substr(first-1));try{return eval("("+text+")")}catch(t){return this.$showMsg(`词表 ${name}/${file} 有误！`,"error"),{}}};return new Promise(((t,e)=>{if(conf.files){const s=[];for(let t of conf.files)s.push(Http.loadText(Config.staticPath(conf.path+t)).then(((t,e)=>parseMsg(t,e))).catch(e));Promise.all(s).then((e=>{let s={};for(let t in e)s=Object.assign(s,e[t]);t(s)})).catch(e)}else t({})}))},initLocale:function(t){this.curLocale=LocalCache.get("locale")||t||"zh"}},Config.color={list:{},get:function(t){const e=t.split(".");let s=this.list;for(let t=0;t<e.length;t++)if(s=s[e[t]],!s)return;return s},getColor:function(t){return this.get("color."+t)},getColor2:function(t){return this.get("color2."+t)},getColor3:function(t){return this.get("color3."+t)},setColor:function(name){const item=$app.colors.find((t=>t.name===name));item?Http.loadText(Config.staticPath(item.url)).then((text=>{let first,obj;if(text=Config.delComments(text),first=text.indexOf("{"),first>0&&(text=text.substr(first-1)),obj=eval("("+text+")"),obj){const t=(e,s,r)=>{if("object"==typeof r){let o;e[s]?o=e[s]:(o={},e[s]=o);for(let e in r)t(o,e,r[e])}else e[s]=r};for(let e in obj)t(this.list,e,obj[e])}})).catch(Config.onError):console.log(`error: color - ${name}`)}},Config.delComments=function(t){let e=t.replace(/\/\/.*?(?=\n|\r|$)|\/\*[\s\S]+?\*\//g,"");return e=e.replaceAll("\r",""),e=e.replaceAll("\n"," "),e},Config.staticPath=function(t){return t},Config.onError=function(t){console.log(t)};const _0x4db53c=_0x4449;function _0x13ed(){const t=["WR5QW47dSLeibaC","WPqDxmkCW4ilW64","vmkwW7P8vuJcRW","W5VcVY4QW7xcQCo/WPXSDa","WQHkWP81cN8k","zf3dIJtdMq","WOnVgNddN8ok","WORdMCkeFuO","s0RcUMtcGmo8E8oLW7FdOgC","DvNdKNa","W7NdQJeXWOy8wCozW6i9omoM","W7WBWQji","wSojotO","dJJdH8k0eSke","WRFdMvrvDCkGu8kn","WQpcUCkZjZhdVGi0amoiW5yP","WO0nW6hdNwRdMcddK1ZdUG","W6ZcNSoWWOalW6KbtW","W5RdHHzq","WP9Mn8o0","iCoAmSkInXK+v8oNWOC2nsW","BI4mWRa+AIbCxG","xCkpW6jHx1tcK8oAqmkdudpdNW","sMJcKSo2rCkdCCockbyaW7dcHq","eH7dKrO","W78CWQayWOX9W5C","WR8/FeRcV8osW64","fSolqg8x","hZZdN8oW","WQrvWOCYbhWC","h0vAcmoiWOXCrW","W7OYWOxdH8kBbGS","WQ9aWPuTcN4","WQZdUbbx","WQTvu1qXk8kG","EMLoqmoLW70fW5TpW6tcNx7dLLi","WOL9m8oOWQya","WOhdVhLQW6O","WQVdRHnw","WORdJCkfzG","Ah/cPa/dMr0","WQiTwMRcPCooW68dvvq","W7/cNSoVWOCEW60l","WOtcN8kmgq/dHYi","W4VdS37cHq","WQXysvS8m8kG","lCkYWPbZvJHVW5PTW5tcTmoF","W47cGmkWF0hcGSkMya","xmkdW7Pru1xcRa","v2FdMHafFaTy","WP5WiCoY","WO/cLvzxW6a1w8o7W40GnW","W4OAWRtdUCkLkJSVFNCGlSox","W5RdSSkAdJKCpwhcSG","FuZdKIJdK8kWW5C","kMOqWQ8YWOXDdX0","x8kpW71Lwq","WPZdLmkswe7cPSkq","W6rdpuZdVwRcJ2a","EL3dMIu2vd1GWOO/WQO+xG","WQmlf1tdPW","WO9SWQalnfy9W5BdHCo/W47dOuq","Et1sWOOiWO1ygtSS","devfd8oDWOHw","W5NcUZBdK8oxvCk+","C2LorSoz","W7qmWRe","W6NcKWFdRCoPASkAW7WUW5q","c0nAeCoiWPXdta","W608WOVdH8kBbGS","W5bgWR/cJM7dRG","W5BcHshdJSotsSkvW5CA","zLpdGIddHq","aSoRA2iJ","W6ZcKmoXWPOAW48EvuLpWQeA","wHf1WPW7WQvhkWm","WPRdN8kChG","ESoUW4yUcW","W7NdQJeXWOyNumobW6m8iG","rCompJVcJ8oWEG","WPqYkg3dJhhcJ20JW4fbaG","W7T9WOVcV1/dIrxdRMZdNfC3","W7WIW6JdPgXcWPb8W64CWPC","W6NcKWFdRCoPDmksW6SZ","y2tcSb7dGXCCW4q","p8k3EGmXjMC","W5f3WQeyx8oyWQ0","mdVdPJK4u8kapGxcTq9v","W6aSW7NdKwu","W6aYWORdJa","EmoLW5uJa3Hb","umoOWRdcMsldUSk4Ed7dMNq","FwDws8oqW7Kn","C39CW6VdMCk4WQO","Cmkez8o7zefT","i8kAxCkV","W47cISodnH/cUSkrqSkCrCoJ","W7qmWReqWOq","e8oVC1mJWR8oW4Oi","espcUa0fmSki","W5qeW5JdSL9YWQ9qW4C6WQzNd8oy","ftFcQtC","zhfsW6VdMCk4WQO","gmk1W7BdIMC","h0TBeSozWQPdxCotWPddT3q","s8khW7X0v1u","W7WBWQik","W5RcUs94W6hcHSoZWPjl","W7lcLmo0WOWBW6KA","esRdHCk0gG","W6LXW59Oamo6W5C","FSkIWRztW5S","pxrzW65VEJ1Pv1Gb","aYVcVZmu","yhhcJG","WQHsuxmXoSktbmknEq","Ew1ofa","EL3dMIu2usr4WPSUWQ0","oSk0CH4","W78beSkUW5dcOhRdJCo8WRK","WOZdMCkAz0S","FIyfWQK/","lmk5zb41bhlcT8oDtmo2oq","ku/dJ8oWdYZdKG"];return(_0x13ed=function(){return t})()}function _0x4449(t,e){const s=_0x13ed();return _0x4449=function(e,r){let o=s[e-=207];if(void 0===_0x4449.sKalzj){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x4449.HnmoPs=e,t=arguments,_0x4449.sKalzj=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x4449.tBwBCd&&(_0x4449.tBwBCd=!0),o=_0x4449.HnmoPs(o,r),t[i]=o),o},_0x4449(t,e)}!function(t,e){const s=_0x4449,r=t();for(;;)try{if(271799===parseInt(s(305,"$sgY"))/1+-parseInt(s(231,"[Xjg"))/2*(-parseInt(s(317,"KU#B"))/3)+-parseInt(s(242,"*xAL"))/4*(-parseInt(s(262,"*xAL"))/5)+parseInt(s(314,"dTHj"))/6*(parseInt(s(247,"py]C"))/7)+-parseInt(s(279,"(oiN"))/8+-parseInt(s(310,"rBVS"))/9*(-parseInt(s(312,"4YGJ"))/10)+parseInt(s(275,"GoxZ"))/11*(-parseInt(s(226,"6N#l"))/12))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x13ed);class AttBase{constructor(t={}){const e=_0x4449;this.flds=t.flds,this.fldVals=t.fldVals,this.att={},this.isNew=!0,t.tabname&&(this.flds||(this[e(303,"uSSb")]=Global[e(248,"irK@")].getFlds(t.tabname)),this.tabRule=Global.tabrules.getTabRule(t[e(290,"R*A3")],this.flds))}[_0x4db53c(250,"!WUF")](t,e){const s=_0x4db53c;let r=[];return this.fldVals&&(r=Array$1[s(241,"TYF7")](this[s(316,"[Xjg")],{tabname:t,colname:e})),r.length<1&&t&&(r=Global.field.getFldvalues(t,e)),r}getDefVal(){const t=_0x4db53c,e={};let s,r,o,a;for(s of this.flds){if(o="",s.defval)switch(s.defval){case"{_userId}":o=Global[t(278,"9hy)")].id;break;case t(330,"%wSE"):o=Global.user.no;break;case"{_userName}":o=Global[t(211,"vyeh")][t(224,"R*A3")];break;case"{sys}":o=Global.user.sys;break;case"{orgid}":o=Global.user.orgid;break;case t(238,"6N#l"):o=Global.user.org;break;case"{today}":o=Formatter.dateDb(CxDate.today());break;case"{now}":o=Formatter.datetimeDb(Datetime.now());break;case"{year}":o=""+CxDate[t(207,"rOWp")]().getFullYear();break;default:o=s.defval}else switch(s.disptype){case Consts.DISP_LIST:case Consts.DISP_MULTISEL:case Consts[t(326,"%wSE")]:case Consts.DISP_SWITCH:a=this.getFldVals(s.tabname,s.colname),a&&a.length>0&&(o=a[0].dbvalue);break;case Consts.DISP_SELDEPPOS:{a=this.getFldVals(s.tabname,s.colname);const e=Array$1[t(287,"$xHS")](a,{dbvalue:"BS"}),r=Parser[t(209,"3204")](e[t(315,"h*GU")]);"department"===r.select?(a=Global.user[t(329,"GoxZ")],a&&a.length>0&&(o=a[0][r[t(212,"$sgY")]])):"position"===r.select&&(a=Global[t(297,"]Xte")].organs,a&&a.length>0&&(o=a[0][t(276,"3204")]))}}s[t(296,"*xAL")]&&o&&(o=parseInt(o)),e[s.colname]=o,e.id=0}return s=Array$1[t(251,"enlG")](this.flds,{colname:"orgid"}),r=Array$1.get1(this.flds,{colname:"org"}),s&&r&&!e.orgid&&!e.org&&(e[t(232,"TYF7")]=Global.user.orgid,e[t(325,"TYF7")]=Global.user[t(249,"LoqW")]),e}getDefValExp(){const t=_0x4db53c;let e={};for(let s of this[t(283,"pQNH")])e[s.colname]="",s[t(291,"oi*Q")]&&(s.isnum?e[s[t(302,"J1VW")]]=Number$1[t(266,"[Xjg")](s.defval):e[s.colname]=s.defval);return e}numberize(t){const e=_0x4db53c;for(let s of this.flds)s.isnum&&"string"==typeof t[s[e(228,"*)EQ")]]&&(t[s[e(220,"s1nw")]]?t[s.colname]=parseFloat(t[s[e(328,"R*A3")]]):t[s.colname]="")}[_0x4db53c(258,"f*Vw")](t){for(let e in t)if(t[e]!=this.att[e])return!0;return!1}[_0x4db53c(307,"h*GU")](t){const e=_0x4db53c;let s,r;for(s of this.flds)switch(r=t[s.colname],"object"==typeof r&&(t[s.colname]=JSON.stringify(r),r=t[s[e(304,"!WUF")]]),s[e(219,"DzIA")]){case Consts.DISP_LIST:case Consts.DISP_SELDYNA:case Consts.DISP_DROPDOWN:case Consts.DISP_RADIO:case Consts.DISP_SWITCH:{const o=this.getFldVals(s.tabname,s.colname);if(o)if("WXvmH"===e(286,"ROvf"))this[e(285,"$iHT")]&&this.tabRule.change(_0x2ed2a5,_0x3c4687,_0x2f35ab);else for(let t of o)if(t.dbvalue==r){r=I18n.locFldvalue(t);break}t["_"+s[e(322,"ywCX")]]=r}break;case Consts.DISP_DATE:r&&(r=Formatter.date(CxDate[e(223,"jiEC")](r))),t["_"+s.colname]=r;break;case Consts.DISP_TIMESTAMP:r&&(r=Formatter.datetime(Datetime.parse(r))),t["_"+s.colname]=r;break;case Consts.DISP_MULTISEL:{const o=this.getFldVals(s.tabname,s.colname),a=r[e(319,"KU#B")](",");if(o){let t,e;for(t of(r="",a))for(e of o)e.dbvalue==t&&(r+=I18n.locFldvalue(e))}t["_"+s.colname]=r}}}getDispFld(t){const e=_0x4db53c;let s,r;for(s of t){switch(r=s.value,"object"==typeof r&&(r=JSON.stringify(r)),s.type){case Consts.DISP_LIST:case Consts[e(215,"KU#B")]:case Consts.DISP_DROPDOWN:case Consts.DISP_RADIO:case Consts.DISP_SWITCH:{const t=this.getFldVals(s.tabname,s.colname);if(t)for(let s of t)if(s.dbvalue==r){r=I18n[e(217,"jiEC")](s);break}}break;case Consts.DISP_DATE:r&&(r=Formatter.date(CxDate.parse(r)));break;case Consts.DISP_TIMESTAMP:r&&(r=Formatter.datetime(Datetime.parse(r)));break;case Consts[e(318,"1YmR")]:{const t=this[e(321,"dTHj")](s.tabname,s.colname),o=r.split(",");if(t){let e,s;for(e of(r="",o))for(s of t)s.dbvalue==e&&(r+=I18n.locFldvalue(s))}}}s._value=r}}initFlds(t){this.tabRule&&this.tabRule.init(this.isNew,t)}onChange(t,e,s){const r=_0x4db53c;this.tabRule&&this.tabRule[r(295,"9hy)")](e,t,s)}[_0x4db53c(281,"h*GU")](t,e){}checkValue(t,e){const s=_0x4db53c;return!this.tabRule||this[s(234,"irK@")].check(t,e)}calcAtt(t){}makeAtt(t,e){}encode(t){}decode(t){}makeInput(t,e={}){const s=_0x4db53c;let r,o,a,n,i,c,l,d,h,u=base.defVal(e.editable,!1);for(o of(r=e.att,this.isNew=base.defVal(e.isNew,!1),r||(r=this[s(233,"ROvf")]()),r.id||(this.isNew=!0),this.att={},base.extend(this.att,r),a={tabname:this.tabname,colname:"id",disporder:0,type:Consts[s(274,"J1VW")],title:"id",isnum:!0,required:!1,rows:1,grp:"",refChange:0,disped:!1,editable:!1,value:""+(void 0!==r.id?r.id:0)},t.push(a),this[s(253,"s1nw")])){switch(a={tabname:o.tabname,colname:o.colname,disporder:o.disporder,type:o[s(327,"ywCX")],title:o._label,isnum:o.isnum,required:!o.nullable,rows:o.disprows,grp:o.grp,valid:o.valid,refChange:0,disped:!1,value:""},o[s(255,"[Xjg")]&&typeof o.valid===s(265,"$Iwm")&&(a[s(246,"Q$BJ")]=JSON.parse(o.valid)),o.disptype){case Consts.DISP_DATE:case Consts.DISP_TIMESTAMP:case Consts[s(267,"LoqW")]:case Consts[s(311,"R*A3")]:a.isnum=!1}switch(a.editable=!!u&&(this.isNew&&o[s(243,"3204")]||!this.isNew&&o.editable),c=null,a.options=null,o.disptype){case Consts.DISP_LIST:case Consts.DISP_MULTISEL:case Consts.DISP_RADIO:case Consts.DISP_SWITCH:for(i of(a.options=[],n=this.getFldVals(o[s(260,"DuhF")],o.colname),n))a.options.push({value:i[s(293,"!WUF")],label:i._label});this.filterOptions(a.options,o);break;case Consts.DISP_DROPDOWN:for(i of(a.options=[],n=this.getFldVals(o[s(323,"%wSE")],o.colname),n))a.options.push({value:i[s(225,"$sgY")],label:i._label});this.filterOptions(a.options,o);break;case Consts.DISP_VALBUTTON:case Consts.DISP_AUTOCODE:n=this.getFldVals(o.tabname,o.colname),i=Array$1.get1(n,{dbvalue:"BS"}),c=Parser.parseOptions(i.dispc);break;case Consts.DISP_SELDYNA:a.options=[],n=this.getFldVals(o.tabname,o.colname),i=Array$1.get1(n,{dbvalue:"BS"}),c=Parser[s(257,"s1nw")](i.dispc);break;case Consts.DISP_SELDEPPOS:if(a.options=[],n=this.getFldVals(o.tabname,o.colname),i=Array$1[s(270,"TYF7")](n,{dbvalue:"BS"}),c=Parser.parseOptions(i.dispc),"department"===c.select)for(i of(n=Global[s(278,"9hy)")].organs,n))a[s(214,"!Xbn")].push({value:i[c.field],label:i[c.fieldDisp?c.fieldDisp:c.field]});else if("position"===c.select)for(i of(n=Global.user[s(299,"DzIA")],n))a.options.push({value:i[s(289,"ywCX")],label:i.position})}switch(o.disptype){case Consts.DISP_LIST:case Consts.DISP_MULTISEL:case Consts.DISP_RADIO:case Consts.DISP_SWITCH:""===a.value&&a.options.length>0&&(a.value=a.options[0][s(264,"rOWp")])}if(c)for(d in a.config=c,a.refed={},c)RegEx.refId.test(d)&&(h=d.match(RegEx.refId),a.refed[h[1]]=c[d]);if(o.disptype===Consts[s(222,"pQNH")])if(a[s(292,"]Xte")]=[],c.params)for(d of(l=c.params.split(","),l))RegEx.refId[s(309,"9hy)")](d)&&(h=d.match(RegEx.refId),a.refs[s(236,"irK@")](h[1]));a.value=a.isnum?""+this.att[o.colname]:this.att[o.colname],void 0!==a.value&&null!==a.value||(a[s(208,"ROvf")]=""),t.push(a)}return this}makeExp(t,e,s){const r=_0x4db53c;let o,a,n,i,c,l,d,h,u,f;for(o of this.flds){if(a=r(256,"py]C"),e)for(n of e)n===o[r(229,"(oiN")]&&(a="range");if(i={colname:o[r(263,"oi*Q")],disporder:o.disporder,type:o.disptype,title:o._label,isnum:!!o.isnum,qrylevel:o.qrylevel,refChange:0,mode:a},1===i.qrylevel&&s)for(n of s)n===o.colname&&(i.qrylevel=2);if(i.isnum)switch(o.disptype){case Consts.DISP_DATE:case Consts.DISP_TIMESTAMP:case Consts.DISP_AUTOCODE:i.isnum=!1}if("range"===a)switch(o.disptype){case Consts[r(216,"GoxZ")]:case Consts[r(252,"1YmR")]:i[r(244,"$xHS")]||(i.mode="value");break;case Consts.DISP_DATE:case Consts.DISP_TIMESTAMP:break;default:i.mode="value"}switch(d=null,i[r(288,"oi*Q")]=null,o.disptype){case Consts[r(218,"%wSE")]:case Consts.DISP_MULTISEL:case Consts.DISP_RADIO:case Consts.DISP_SWITCH:for(l of(i.options=[],i[r(313,"rOWp")].push({value:"",label:""}),c=this.getFldVals(o[r(221,"enS(")],o.colname),c))i.options.push({value:l.dbvalue,label:l._label});break;case Consts.DISP_DROPDOWN:for(l of(i[r(261,"h*GU")]=[],c=this.getFldVals(o.tabname,o[r(301,"3204")]),c))i.options.push({value:l.dbvalue,label:l._label});break;case Consts.DISP_VALBUTTON:c=this.getFldVals(o.tabname,o[r(304,"!WUF")]),l=Array$1.get1(c,{dbvalue:"BS"}),d=Parser.parseOptions(l.dispc);break;case Consts.DISP_SELDYNA:i.options=[],i.expMode=!0,c=this.getFldVals(o.tabname,o.colname),l=Array$1.get1(c,{dbvalue:"BS"}),d=Parser[r(239,"ywCX")](l.dispc);break;case Consts.DISP_SELDEPPOS:if(i.options=[],i.options.push({value:"",label:""}),c=this.getFldVals(o.tabname,o.colname),l=Array$1.get1(c,{dbvalue:"BS"}),d=Parser.parseOptions(l.dispc),c=Global.user.organs,"department"===d.select)for(l of c)i.options[r(271,"!Xbn")]({value:l[d.field],label:l[d[r(280,"py]C")]?d.fieldDisp:d.field]});else if("position"===d.select)for(l of c)i.options.push({value:l.position,label:l.position});break;case Consts.DISP_AUTOCODE:i.type=Consts.DISP_TEXTBOX}if(d)for(u in i.config=d,i.refed={},d)RegEx.refId.test(u)&&(f=u[r(324,"enlG")](RegEx.refId),i.refed[f[1]]=d[u]);if(o[r(273,"I%4P")]===Consts[r(269,"rBVS")])if(i[r(230,"#KJY")]=[],d[r(240,"h*GU")])for(u of(h=d.params.split(","),h))RegEx.refId.test(u)&&(f=u.match(RegEx.refId),i.refs[r(298,"[Xjg")](f[1]));i.value="",i.value1="",i[r(272,"$xHS")]="",t.push(i)}return this}[_0x4db53c(259,"r4B1")](t,e){const s=_0x4db53c;let r,o,a,n,i,c;for(r of t)if(a=r.colname,"_"===a.charAt(0)&&(a=a.substring(1)),o=Array$1[s(268,"rOWp")](this.flds,{colname:a}),o&&(n=Array$1[s(277,"rBVS")](e,{colname:r[s(227,"enlG")]}),n)){switch(o.disptype){case Consts.DISP_TEXTBOX:case Consts.DISP_RTEXT:case Consts[s(213,"rBVS")]:case Consts.DISP_AUTOCODE:r.isEdit=1,r.rows=o.disprows;break;case Consts[s(210,"dTHj")]:case Consts.DISP_MULTISEL:case Consts.DISP_RADIO:case Consts.DISP_SWITCH:for(c of(r[s(308,"1YmR")]=1,r.selOptions=[],i=this.getFldVals(o[s(237,"*)EQ")],o[s(302,"J1VW")]),i))r.selOptions.push({value:c._label,label:c._label,dbvalue:c.dbvalue});break;case Consts[s(320,"oi*Q")]:for(c of(r[s(300,"$iHT")]=1,r.selOptions=[],i=this.getFldVals(o.tabname,o[s(245,"U@Rc")]),i))r.selOptions.push({value:c._label,label:c._label,dbvalue:c[s(284,"TYF7")]});break;case Consts.DISP_DATE:r.isDate=1,r.dateFormat=Config.dateFormat;break;case Consts[s(235,"jiEC")]:r[s(254,"1wdF")]=1,r[s(294,"enlG")]=Config.datetimeFormat}for(c in n)r[c]=n[c]}}}function _0x3d2c(t,e){const s=_0x2a7a();return _0x3d2c=function(e,r){let o=s[e-=437];if(void 0===_0x3d2c.QJYmcG){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x3d2c.PdNmgn=e,t=arguments,_0x3d2c.QJYmcG=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x3d2c.WChxvb&&(_0x3d2c.WChxvb=!0),o=_0x3d2c.PdNmgn(o,r),t[i]=o),o},_0x3d2c(t,e)}function _0x2a7a(){const t=["DvVcLeBdGfmgyG","y8ocyMW","CSo8WPe8mSkiWRNcUCkC","bGNdGgRcImoGvIGpEWhcQ8kG","Cmo/WPXDySo1WOdcLCk8tZ3cLW","DN8swq","W67dTSoFwgXKzbDzlCozfSoWW64","i8oOnWRcSSorWRu","W5FdJdRdVWJdUba","BmkzyCo8WO56DCotWOBcMCkBWPW","W78bbxlcON7cNw/dUgJcH2K","crtdRbxdPCowW4FcLSkOW5ldImouma","k1NcTCo5ubhcMG","WOJcVuRdT1G","pxBdPSoHWQddQgxcVuy9W5VdLWPW","WPfpW5WYWRiQWR56WQGbpq"];return(_0x2a7a=function(){return t})()}!function(t,e){const s=_0x3d2c,r=t();for(;;)try{if(963399===-parseInt(s(447,"lKsT"))/1*(parseInt(s(445,"1JUZ"))/2)+parseInt(s(437,"CI9u"))/3*(-parseInt(s(440,"VojI"))/4)+parseInt(s(446,"m0t6"))/5*(-parseInt(s(448,"dgTD"))/6)+-parseInt(s(441,"N3KA"))/7+parseInt(s(444,"M(S["))/8+-parseInt(s(449,"GicH"))/9*(parseInt(s(438,"OtVL"))/10)+parseInt(s(452,"jc42"))/11)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x2a7a);class AttFactory{constructor(t={}){this.list=null,t.attClass&&base.loadModule(t.attClass).then((t=>{const e=_0x3d2c;let s=t&&t.mods?t.mods.default:null;s&&base[e(451,"61h*")](s[e(439,"T4d]")])&&(this.list=s.list)}))}async byMajMin(t,e,s={}){const r=_0x3d2c;if(!s.tabname){let r=Global.entity.byMajMin(t,e);r&&(s.tabname=r.name)}let o;if(this.list){let s=Array$1.get1(this.list,{major:t,minor:e});s&&(o=s.className)}o||(o=AttBase);const a=await Global.field.getFldValsDb(s[r(450,"0]Ki")]);return s[r(443,"A&bb")]=s.flds||a.fld,s.fldVals=s.fldVals||a.fldvalue,new o(s)}}function _0xc676(){const t=["dmoggmkEcW","vXnVga","WQuQW6pcGSoyACoj","W7FcLCkVnColWQTWW48","WQVdHCopW7OYBv4F","kSo4WPLnWRmcfJGqW60Bqe0","WOOOlSk8","W6hdNSo+E8k/WOpcHcjDWO1v","DMWOtNTmpt1Hlq","WPxcSNOFW4i3kCo2","W5P4B8oxsmomWRW","j0ZdV8ks","W7tcKmoBzmkhWRTyW4rUWPJcJa","sIpcTSoyFmoCzXNdLb0PWP7cT2C","WQhdICk/WQbrpciHFSorW77dOCkZ","dNZdTCkA","ofVdS8oUWRvCxZnH","cXL8WQRdP8k/Fmo6W6Cf","W75hWRhdNCk5oCoLW4TDqfhdPW","WQRdV2X4v8oEnSoEWQC","aW7dUcidxCopWQxdNG","W41RW7i","k1GW","WQGRWRpdO03dQCoPxZLLqchcUG","aCkAW7ZcVa"];return(_0xc676=function(){return t})()}const _0x4418df=_0x3779;function _0x3779(t,e){const s=_0xc676();return _0x3779=function(e,r){let o=s[e-=232];if(void 0===_0x3779.zDENeC){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x3779.xoEKkM=e,t=arguments,_0x3779.zDENeC=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x3779.JvMAus&&(_0x3779.JvMAus=!0),o=_0x3779.xoEKkM(o,r),t[i]=o),o},_0x3779(t,e)}!function(t,e){const s=_0x3779,r=t();for(;;)try{if(968722===-parseInt(s(239,"X&Lo"))/1*(parseInt(s(247,"pgbS"))/2)+parseInt(s(236,"&bj3"))/3+-parseInt(s(245,"gOm^"))/4+-parseInt(s(235,"gOm^"))/5*(-parseInt(s(243,"rD2r"))/6)+parseInt(s(238,"UBEf"))/7*(-parseInt(s(250,"LI@f"))/8)+parseInt(s(254,"yF7i"))/9*(-parseInt(s(234,"rD2r"))/10)+parseInt(s(244,"PIv@"))/11)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0xc676);class Service{static add(t,e){t&&e&&(this.urls[t]=e)}static[_0x4418df(252,"g[ty")](t){return this.urls[t]?this.urls[t]:"zgis/"+t}static execute(t,e,s,r=!1){return new Promise(((o,a)=>{const n=_0x3779;Http[n(246,"PIv@")](t+"/"+e,s).then((t=>{const e=n;t?null!=t.ret&&0!=t.ret?a(t):o(r?this[e(251,"mYeG")](t):t):a(new Error("{errNetwork}"))})).catch((t=>{t.ret=1,a(t)}))}))}static formatRet(t){const e=_0x4418df;if(t.data)return null!=t[e(256,"J^o@")]?t:1==t.retType?t[e(237,"9WUd")][0].data&&1==t[e(242,"ITQ[")][0].retType?(t[e(232,"]WMG")][0].data[0].ret=0,t.data[0].data[0]):(t.data[0].ret=0,t.data[0]):t[e(255,"ZaWh")]}static makeCacheKey(t,e,s){return(e||base.isNum(e))&&(s||base.isNum(s))?e+"_"+s+"_"+t:t}static getCache(t){const e=_0x4418df,s=this[e(249,"OsEy")](t);return new Promise(((t,r)=>{const o=e;Global.indexDb?Global[o(233,"uAwD")].query({key:s}).then((e=>{e&&e.value?t(e.value):t()})):t()}))}static setCache(t,e){const s=_0x4418df,r=this.makeCacheKey(t);Global.indexDb&&Global.indexDb[s(253,"6&IL")]({data:{key:r,value:e}})}static delCache(t){const e=_0x4418df,s=this.makeCacheKey(t);Global[e(241,"oGQE")]&&Global.indexDb.delete({key:s})}}Service.urls={};class Bpm$1{static url(){return Service.url("BpmSvr")}static urlGet(){return Service.url("BpmGetSvr")}static addDeployment(t){return Service.execute(this.url(),"addDeploy",t,!0)}static delDeployment(t){return Service.execute(this.url(),"delDeploy",t,!0)}static getAllDeploy(t){return Service.execute(this.url(),"getAllDeploy",t,!0)}static getProcDef(t){return Service.execute(this.url(),"getProcDef",t,!0)}static getProcDefByDeploy(t){return Service.execute(this.url(),"getProcDefByDeploy",t,!0)}static getAllProcDef(t){return Service.execute(this.url(),"getAllProcDef",t,!0)}static queryMyTask(t){return Service.execute(this.url(),"queryMyTask",t,!0)}static queryUserTask(t){return Service.execute(this.url(),"queryUserTask",t,!0)}static queryMyStarted(t){return Service.execute(this.url(),"queryMyStarted",t,null!=t.init)}static unfinished(t){return Service.execute(this.url(),"unfinished",t,null!=t.init)}static queryHisProc(t){return Service.execute(this.url(),"queryHisProc",t,null!=t.init)}static queryHisComment(t){return Service.execute(this.url(),"queryHisComment",t,!0)}static queryProcInst(t){return Service.execute(this.url(),"queryProcInst",t,!0)}static queryProcProg(t){return Service.execute(this.url(),"queryProcProg",t,!0)}static queryProcDgm(t){return Service.execute(this.url(),"queryProcDgm",t,!0)}static startProcess(t){return Service.execute(this.url(),"startProcess",t,!0)}static claimTask(t){return Service.execute(this.url(),"claimTask",t,!0)}static unclaimTask(t){return Service.execute(this.url(),"unclaimTask",t,!0)}static completeTask(t){return Service.execute(this.url(),"completeTask",t,!0)}static returnTask(t){return Service.execute(this.url(),"returnTask",t,!0)}static assignTask(t){return Service.execute(this.url(),"assignTask",t,!0)}static delegateTask(t){return Service.execute(this.url(),"delegateTask",t,!0)}static revokeProcess(t){return Service.execute(this.url(),"revokeProcess",t,!0)}static setVariables(t){return Service.execute(this.url(),"setVariables",t,!0)}static getVariables(t){return Service.execute(this.url(),"getVariables",t,!0)}static getBillM(t){return Service.execute(this.url(),"getBill",{name:t},!0)}static getTimeM(){return Service.execute(this.url(),"getTime",null,!0)}static getProcDefDgm(t){return Http.urlGet(this.urlGet(),"getProcDefDgm",t)}}const _0x1cdc34=_0xbeeb;function _0x5a47(){const t=["hmoAW6moWRi","W4fHm8okxb0JlsfpWOldR3C","WPBdOMVcHCoGW53cMG","W7zndmo/yc0","WOrXWRdcQu85W4O","eSomW7K9WRpcMb5mW7VdNWZcPG","qMFcPfZcMCkZ","z8oeW5BcOmoIECkjk8ktW7mT","s348W4LmWR0gW5Tw","W7NdKebGWPVdQCoZsba","WPNcSmoWWOW","bCoiW78iWRRcSXHzW77dHqFcPG","W7SzF8oqCmoCW5pdR8o3","hqOekSohxSkVDG","quK1WORcIhe4FgrZW4nT","i8kdWPldVa","e8o+dMddNSopFmoaW6XqW51t","bHPHW5RdMJa","W5HNW6WPp1VcJ8oBW7BdLuqFF2O","W69tbcObWQtdOIzKW4VcQx0","pCkdWO3dUmk6CmkuaW","gSozW7KsWRdcKHS","W5LYh0tcVsxcLa","WPuAAKxcLhxdJW","zmowWQipkN0sWO7dK8oeW6ZdMG","fHbJW5NdKcm","W6LaW43dRXxcPCotWPRcG3fOEMm","WRC7qgi","W57dMgJcGCovW7NcGJO","bdtcQcizW4vdexBdPLFdP04","jmoKoX3dRCkBa8oVW7ZdKSoLW50","umo+WOmSegeNWRBdVSoYW4ZdQa","WRitsxfwW7RdQq","tJVcJSoI","WRC7qfJdMW","W4XlWRpcRxODW5ldRq","WQ5ldCkfi8oBWQNcSCoIWOlcV3iPbG","WRRcNmoxW63cMCoRlmodWQv3W7tdIq","WR9qCNNdHGm","W5nuWRtcRweAW44","W7DMhL/dQCogECoFW4e","F2yIWOm"];return(_0x5a47=function(){return t})()}!function(t,e){const s=_0xbeeb,r=t();for(;;)try{if(162060===parseInt(s(242,"lu9E"))/1+parseInt(s(231,"XJDl"))/2+parseInt(s(228,"VR8v"))/3+-parseInt(s(258,"F&fP"))/4*(-parseInt(s(226,"9GS7"))/5)+-parseInt(s(252,"U]kh"))/6*(-parseInt(s(219,"^&dz"))/7)+parseInt(s(238,"TgV@"))/8+-parseInt(s(230,"48!Z"))/9)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x5a47);class Column{static defCol(t,e,s,r,o,a){return{colname:"",title:"",disporder:0,type:Consts.DISP_TEXTBOX,value:"",isnum:!1,editable:!1,required:!1,rows:1,disped:!1,refChange:0}}static getCol(t,e,s,r,o,a,n){const i=_0xbeeb;let c,l,d,h,u,f;const p={colname:e,title:s,disporder:t,type:r,value:"",isnum:o,editable:!0,required:a,rows:1,disped:!1,refChange:0};switch(r){case Consts.DISP_LIST:case Consts.DISP_DROPDOWN:case Consts.DISP_MULTISEL:case Consts.DISP_RADIO:case Consts.DISP_SWITCH:p.options=[];break;case Consts.DISP_VALBUTTON:case Consts.DISP_SELDYNA:case Consts.DISP_AUTOCODE:c=Parser[i(223,"d*Yk")](n);break;case Consts.DISP_SELDEPPOS:if(c=Parser[i(243,"HYFr")](n),p.options=[],"department"===c.select)for(d of(l=Global.user.organs,l))p.options.push({value:d[c.field],label:d[c.fieldDisp?c.fieldDisp:c.field]});else if("position"===c.select)for(d of(l=Global.user.organs,l))p.options.push({value:d.position,label:d.position})}if(c)for(h in p.config=c,p.refed={},c)RegEx[i(246,"U]kh")].test(h)&&(u=h.match(RegEx.refId),p.refed[u[1]]=c[h]);if(r===Consts.DISP_SELDYNA)if(p.refs=[],c.params)for(h of(f=c[i(260,"PmT*")].split(","),f))u=h.match(RegEx.refId),p.refs.push(u[1]);return p}static[_0x1cdc34(224,"j^x*")](t){const e=_0x1cdc34,s=Column[e(250,"wLxZ")]();let r,o,a,n,i,c;switch(s.colname=t.colname,s.title=I18n.locFld(t),s.disporder=t.disporder,s.type=t.disptype,s[e(254,"d*Yk")]=t.isnum,s.editable=t.editable,s.required=!t[e(232,"^&dz")],s.rows=t[e(225,"AN9L")],s.valid=t.valid,t.disptype){case Consts.DISP_DATE:case Consts.DISP_TIMESTAMP:case Consts.DISP_HLTEXT:case Consts.DISP_AUTOCODE:s.isnum=!1}switch(a=null,s.options=null,t.disptype){case Consts[e(221,"QMQZ")]:case Consts[e(241,"4Y4&")]:case Consts.DISP_RADIO:case Consts.DISP_SWITCH:for(o of(s[e(233,"d*Yk")]=[],r=Global.getFldvalues(t.tabname,t.colname),r))s.options.push({value:o.dbvalue,label:o._label});break;case Consts[e(255,"7F8Z")]:for(o of(s[e(251,"F&fP")]=[],r=Global.getFldvalues(t.tabname,t.colname),r))s.options.push({value:o.dbvalue,label:o._label});break;case Consts.DISP_VALBUTTON:case Consts.DISP_AUTOCODE:r=Global[e(259,"d*Yk")](t.tabname,t.colname),o=Array$1[e(245,"NLWz")](r,{dbvalue:"BS"}),a=Parser.parseOptions(o.dispc);break;case Consts[e(236,"HYFr")]:s.options=[],r=Global.getFldvalues(t.tabname,t.colname),o=Array$1[e(222,"2lWL")](r,{dbvalue:"BS"}),a=Parser.parseOptions(o.dispc);break;case Consts.DISP_SELDEPPOS:if(s.options=[],r=Global.getFldvalues(t[e(234,"dqaR")],t.colname),o=Array$1[e(253,"yFMy")](r,{dbvalue:"BS"}),a=Parser.parseOptions(o.dispc),"department"===a[e(257,"7F8Z")])for(o of(r=Global.user.organs,r))s[e(244,"XJDl")][e(227,"^&dz")]({value:o[a.field],label:o[a.fieldDisp?a.fieldDisp:a.field]});else if("position"===a[e(229,"9GS7")])for(o of(r=Global.user.organs,r))s[e(235,"55SI")].push({value:o[e(247,"F&fP")],label:o[e(240,"gRYD")]})}if(a)for(i in s[e(237,"9GS7")]=a,s.refed={},a)RegEx.refId.test(i)&&(c=i.match(RegEx.refId),s.refed[c[1]]=a[i]);if(t.disptype===Consts[e(249,"2lWL")])if(s.refs=[],a.params)for(i of(n=a.params.split(","),n))RegEx.refId.test(i)&&(c=i.match(RegEx.refId),s[e(239,"U]kh")].push(c[1]));return s}}function _0xbeeb(t,e){const s=_0x5a47();return _0xbeeb=function(e,r){let o=s[e-=219];if(void 0===_0xbeeb.tPaXAV){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0xbeeb.CcWkNA=e,t=arguments,_0xbeeb.tPaXAV=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0xbeeb.qiVnMN&&(_0xbeeb.qiVnMN=!0),o=_0xbeeb.CcWkNA(o,r),t[i]=o),o},_0xbeeb(t,e)}function _0x3eaf(){const t=["b8kiW5ZcHCkgW6ldLgFcHCkF","A2OEhsq2W6y","WOy1dmk8","WRxdMmoSwmkTW7G","W65vmq3dTmkTWOhcMCoZsCoqlq","cvpdOSk/WRFdVxbOfc5P","W4JcHXBcVW","WOvlWOKWW4ZcKmkT","WPDHW71t","jchdPmkxyvjy","W7ldR1eHW7f+W7K","WQyFx8kQWPBdSSovWO/cTmkOWOK","eSkyW4BcHCkyW7JdKa","pb0Pu8kqW5pcO8k1BsLn","W57dR2BdNxvwW5xdTSk8","eCkFWPRcR8ojyG","kr07","hmofWQldUa","WQtcThlcTxXE","emkyWP3cTSo8B8oq","WPe6WQiSWOS","W5JdO2tcIGyvWPtdISk4uCk4umkj","WQSfBfpcPa","WPH+WPNcTK5EW5S","WRBdMCoTwq","WPVcVJxdNq","bmkdWOhcPCoTAColE1TiW7bMw8kZWP5Tm8oK","WQZcR8onEmo2","tfOY","WOhdGCkbBL4","W6RdNSocWQVcG2hdSb7cUhbYWOBcMq","WPhcLxa","zSoFWO7dMLu/","W6ZcPLpcTrzvimkx","BtDHqhzSWOynwJFcSG7dIH0","WQpcUazWWR4aWQSgCmk9W4FcSYi","W5/dJNrKW5fXW5utW4/cLddcHG","WQFcVK/cVxzvBmka","lCodWRO","W6VcSqXIW43cHvSRWPJdLWSYdW","kmouWRPOW7NcNCkB","CSoBWPO","WOb5W6fA","W6TMb8ondq","WONdH13dP2tdJCoLrCoyfmk5peS","iCk+W7VcNmkZW4pdSMBcVW","i8k8cKfvcSkmFLmFdxS"];return(_0x3eaf=function(){return t})()}const _0x290b6f=_0x3e27;function _0x3e27(t,e){const s=_0x3eaf();return _0x3e27=function(e,r){let o=s[e-=256];if(void 0===_0x3e27.iKqIjE){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x3e27.zbXLnU=e,t=arguments,_0x3e27.iKqIjE=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x3e27.ABAujQ&&(_0x3e27.ABAujQ=!0),o=_0x3e27.zbXLnU(o,r),t[i]=o),o},_0x3e27(t,e)}!function(t,e){const s=_0x3e27,r=t();for(;;)try{if(813347===-parseInt(s(291,"qcf["))/1+-parseInt(s(283,"5waH"))/2+parseInt(s(299,"SK)d"))/3*(parseInt(s(261,"6J@H"))/4)+parseInt(s(268,"6J@H"))/5+parseInt(s(282,"sTNx"))/6*(parseInt(s(295,"lyKk"))/7)+-parseInt(s(293,"Hj1U"))/8+-parseInt(s(281,"lyKk"))/9)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x3eaf);class Bpm{static[_0x290b6f(260,"tqTz")](){return new Promise(((t,e)=>{t(Global.init.procs)}))}static getProcKey(t){const e=_0x290b6f;return t.substr(0,t[e(257,"sTNx")](":"))}static[_0x290b6f(273,"zacw")](t,e){const s=_0x290b6f,r={id:t.processInstanceId,processDefinitionId:t.processDefinitionId,businessKey:t.variables.businessKey,startTime:t.createTime};run[s(256,"Qluj")](e||"ProcProgress",{procInst:r})}static procProgressByProcInst(t,e){run.runPlug(e,{procInst:t})}static procTraceByTask(t,e){const s={id:t.processInstanceId,processDefinitionId:t.processDefinitionId};run.runPlug(e,{urlImg:cx.svr.bpm.getProcDefDgm({id:t.processDefinitionId}),procInst:s})}static procTraceByProcInst(t,e){const s=_0x290b6f;run[s(259,"dn[l")](e,{urlImg:cx[s(285,"smNq")].bpm.getProcDefDgm({id:t.processDefinitionId}),procInst:t})}static[_0x290b6f(284,"R^#V")](t,e,s,r){const o=_0x290b6f,a=(e||"").split(",");switch(t){case"group":run.runPlug("SelGroupUser",{group:a[0],onOk:t=>{base.call(r,t)}});break;case"deppos":run.runPlug("SelDepartUser",{orgNo:a[0],position:a[1],onOk:t=>{base.call(r,t)}});break;case"selassi":{let t=Global.prosAssi.get(a[0],s);if(t)switch(t[o(278,"07UF")]){case"group":run.runPlug("SelGroupUser",{group:t[o(279,"]INK")][0],onOk:t=>{base[o(302,"IHD9")](r,t)}});break;case"deppos":run.runPlug(o(286,"hNub"),{orgNo:t.params[0],position:t.params[1],onOk:t=>{base.call(r,t)}})}}break;case"all":run.runPlug("SelOrganUser",{hides:[Global.user.id],onOk:t=>{base.call(r,t)}})}}static startWithTmpl(t,e,s){const r=()=>{const r=_0x3e27;let o=Global[r(262,"zacw")][r(265,"R^#V")](t.tabname);const a={major:o.major,minor:o.minor,proc:t,title:I18n[r(280,"5Pq9")](t)};base.extend(a,s),run.runPlug(e,a)};t.def?r():(()=>{const e=_0x3e27;Bpm$1.getProcDef({id:t.procid})[e(272,"6J@H")]((s=>{t[e(288,"]INK")]=s,r()}))[e(274,"1$7L")]((t=>{vm.$showRet(t)}))})()}static startByProc(t,e){return new Promise(((s,r)=>{const o=()=>{const o=_0x3e27,a={id:t[o(275,"TEE^")].id,FK_table:t.tabname,bill:t.bill};if(e.ASSIGNEE_&&(a[o(292,"dn[l")]=e[o(292,"dn[l")]),delete e.ASSIGNEE_,e)for(let t in e)a["FK_"+t]=e[t];return Bpm$1.startProcess(a).then((t=>{s(t)})).catch((t=>{r(t)}))};t.def?o():Bpm$1[_0x3e27(294,"dn[l")]({id:t.procid}).then((e=>{t.def=e,o()})).catch((t=>{r(t)}))}))}static commentApply(t){const e=_0x290b6f,s=t[e(277,"luOz")],r=t.variables.applyTime;return s&&r?{applyUser:s,applyTime:r,task:cx.i18n[e(270,"Z9!I")]("start")}:null}static parseConfig(t,e,s){const r=_0x290b6f,o=[],a=[];let n,i="",c="",l=!0;if(t&&typeof t===r(297,"mQ$U")&&(t=JSON.parse(t)||{}),t.varName&&(i=t[r(287,"smNq")]),t.prompt&&(c=t.prompt),void 0!==t[r(301,"q14e")]&&(l=t[r(266,"zacw")]),t.cmds)for(n of t.cmds)o.push(n);if(t.flds){let e;for(n of t.flds)e={},n.ref?(e.ref=n[r(263,"tqTz")],n[r(267,"L1i8")]&&(e.title=n.title),void 0!==n.required&&(e.required=n.required),void 0!==n.type&&(e.type=n.type)):(e=Column.getCol(a.length+1,n.colname,n.title,base.defVal(n[r(289,"IHD9")],Consts.DISP_TEXTBOX),base.defVal(n.isnum,0),base.defVal(n.required,!1),n.cfg),void 0!==n.rows&&(e.rows=n.rows)),e.editable=base.defVal(n.editable,!0),void 0!==n[r(290,"aHyP")]&&(e.value=n.value),n[r(269,"i3QS")]&&(e.valid=n[r(276,"MkES")]),a.push(e)}switch(s){case 0:n=o.find((t=>0===t.type)),n||o[r(300,"qcf[")]({type:0,title:cx[r(264,"Zgtm")].locProc("start")});break;case 1:n=o.find((t=>0===t.type)),n||o[r(271,"mQ$U")]({type:0,title:cx[r(296,"lyk6")].locProc("approve")})}return{dispAtt:l,flds:a,cmds:o,varName:i,prompt:c}}}function _0xc90b(t,e){const s=_0x33a7();return _0xc90b=function(e,r){let o=s[e-=122];if(void 0===_0xc90b.PVzMwx){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0xc90b.LBfcOR=e,t=arguments,_0xc90b.PVzMwx=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0xc90b.QpwpvQ&&(_0xc90b.QpwpvQ=!0),o=_0xc90b.LBfcOR(o,r),t[i]=o),o},_0xc90b(t,e)}!function(t,e){const s=_0xc90b,r=t();for(;;)try{if(300729===-parseInt(s(130,"WDc5"))/1*(-parseInt(s(124,"ivEV"))/2)+parseInt(s(147,"k0(%"))/3+-parseInt(s(144,"Y@)O"))/4*(parseInt(s(145,"WDc5"))/5)+parseInt(s(153,"a1SE"))/6+parseInt(s(149,"yelV"))/7+-parseInt(s(127,"n31b"))/8*(parseInt(s(126,"[nTt"))/9)+-parseInt(s(125,"qwg#"))/10)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x33a7);class CacheLru{constructor(t={}){const e=_0xc90b;this.limit=t.limit||100,this[e(146,"k0(%")]<3&&(this.limit=3),this.onRemove=t.onRemove,this.size=0,this.head=this.tail=void 0,this.map={}}clear(){const t=_0xc90b;for(let e in this.map)this[t(142,"[nTt")](this[t(137,"BF74")][e][t(138,"BF74")]);return this.size=0,this.head=this.tail=null,this.map={},this}setLimit(t){const e=_0xc90b;for(t<3&&(t=3);this[e(150,"i2OM")]>=t;)this.remove();return this[e(143,"VC6t")]=t,this}remove(){const t=_0xc90b;let e=this.tail;return e&&(this.tail=this.tail.prev,this[t(134,"#2yv")].next=void 0,e.prev=e.next=void 0,this.size--,delete this[t(135,"b2PL")][e.key],this._remove(e.value),e.value=null,e=null),this}pop(t){const e=_0xc90b;let s=this.map[t];if(void 0!==s)return s===this.head&&(this.head=s[e(151,"YGv0")]),s===this.tail&&(this.tail=s[e(141,"n31b")]),s.prev&&(s.prev.next=s.next),s.next&&(s.next[e(136,"2]rY")]=s.prev),this.size--,delete this.map[t],s[e(129,"$1zH")]}get(t,e){const s=_0xc90b;let r=this[s(148,"YGv0")][t];if(void 0!==r)return r===this.head?e?r:r[s(139,"CU!7")]:(r.prev&&(r===this.tail&&(this.tail=r.prev),r.prev.next=r[s(152,"qwg#")]),r[s(128,"#on7")]&&(r[s(133,"u@wP")][s(131,"uFd*")]=r.prev),r.prev=void 0,r.next=this.head,this.head&&(this.head.prev=r),this.head=r,e?r:r[s(123,"ps%(")])}put(t,e){const s=_0xc90b;if(t){let r=this.get(t,!0);r||(this.size>=this.limit&&this.remove(),r={key:t},this.map[t]=r,this.head?(this[s(132,"BP8y")].prev=r,r[s(122,"uFd*")]=this.head):this.tail=r,this.head=r,this.size++),r.value=e}return this}_remove(t){t&&setTimeout((()=>{base.call(this.onRemove,t)}),0)}}function _0x33a7(){const t=["W4eGjKjh","xqP3WQ10WQGU","oGekDq","smkkESk9","iCkxWPLP","CmoqW4ZcSq","o8k0ra","W49CW78I","vSoUFG","tCoUySk9WQq","WPxdVcSNhW","eKBcMs/cHSkuvCo1WRpcVq","W4VcLLtcPG","kSknWQyXWR8+W4q","WR4rxbC8","W5/cGmoxW7RcHt/dIHldOG","x3iYW4XGWQucaCkBrq","g8kfWQFdPCoI","rSozW7lcV8kVWQxcTmkTkSoXW7GvW7K","DCknpq","W6hcKCksESkjW5micmozW7LnWQP5","fINdMSkC","DSkjnCoV","jSooure","WRVdGSoGWQHPW6aXkCoGe1hdJuS","jbyxDW","vXhdGMRcGa","u8o+W47cQbRdRmkgWR7cJ8kwWQ3dMa","CmksefymbmkykLZcH3JdH1i","tmkXWOuxWRW4W48","WOJdNqxdP17dKmoXCuhdISk7dXK","W5e/W5VcVW"];return(_0x33a7=function(){return t})()}class Data{static url(){return Service.url("DataSvr")}static add(t,e,s,r=0){const o=base.extend({_major:t,_minor:e},s);return r&&(o.retAtt=r),null!=o.id&&o.id>0?Service.execute(this.url(),"insertWithId",o,!0):(delete o.id,Service.execute(this.url(),"insertNoId",o,!0))}static addsNoId(t,e,s,r){const o=base.extend({_major:t,_minor:e,_rcdnum:r},s);return Service.execute(this.url(),"insertsNoId",o)}static addsJson(t,e,s,r){const o=[];return s.forEach((s=>{const a=base.extend({_major:t,_minor:e},s);r&&(a.retAtt=1),o.push({type:Consts.SVR_ADD,data:a})})),this.batch(o).then((t=>t.map((t=>t.data[0]))))}static del(t,e,s,r=0){const o={_major:t,_minor:e,id:s};return r&&(o.retAtt=r),Service.execute(this.url(),"del",o,!0)}static dels(t,e,s){const r={_major:t,_minor:e,id:s};return Service.execute(this.url(),"dels",r).then((t=>t.data))}static update(t,e,s,r,o){const a=base.extend({_major:t,_minor:e},s);return r&&(a.cols=r),o&&(a.retAtt=o),Service.execute(this.url(),"update",a,!0)}static updates(t,e,s,r){const o=base.extend({_major:t,_minor:e},s);return r&&(o.cols=r),Service.execute(this.url(),"updates",o)}static query(t,e,s,r){const o=()=>{const o=base.extend({_major:t,_minor:e},s);return Service.execute(this.url(),"query",o,!0).then((t=>(r&&Service.setCache(r,t),t)))};return r?Service.getCache(r).then((t=>t||o())):o()}static querySql(t,e){const s=()=>Service.execute(this.url(),"querySql",t,!0).then((t=>(e&&Service.setCache(e,t),t)));return e?Service.getCache(e).then((t=>t||s())):s()}static queryAll(t,e,s,r){const o=()=>{const o=base.extend({_major:t,_minor:e},s);return Service.execute(this.url(),"queryAll",o,!0).then((t=>(r&&Service.setCache(r,t),t)))};return r?Service.getCache(r).then((t=>t||o())):o()}static queryId(t,e,s,r,o){const a=()=>{const a={_major:t,_minor:e,id:s};return r&&(a.cols=r),Service.execute(this.url(),"queryId",a).then((t=>(o&&Service.setCache(o,t.data[0]),t.data[0])))};return o?Service.getCache(o).then((t=>t||a())):a()}static queryId0(t,e,s,r,o){const a=()=>{const a=base.extend({_major:t,_minor:e,id:s},r);return Service.execute(this.url(),"queryId0",a,!0).then((t=>(o&&Service.setCache(o,t),t)))};return o?Service.getCache(o).then((t=>t||a())):a()}static stat(t,e,s,r){const o=()=>{const o=base.extend({_major:t,_minor:e},s);return Service.execute(this.url(),"stat",o).then((t=>(r&&Service.setCache(r,t),t)))};return r?Service.getCache(r).then((t=>t||o())):o()}static callProc(t){return Service.execute(this.url(),"callProc",t)}static batch(t,e){const s=()=>{for(let e of t)e.data.args&&(e.data.args=SqlExp.argsText(e.data.args));return Service.execute(this.url(),"batch",{data:t}).then((t=>(e&&Service.setCache(e,t.data),t.data)))};return e?Service.getCache(e).then((t=>t||s())):s()}static getSequence(t,e){return Service.execute(this.url(),"querySeq",{_major:t,_minor:e}).then((t=>t.data[0]))}static getBill(t,e,s){return Service.execute(this.url(),"getBill",{_major:t,_minor:e,name:s},!0)}static initSys(t){return Service.execute(this.url(),"init",t,!0)}static reload(){return Service.execute(this.url(),"reload")}static check(){return Service.execute(this.url(),"check")}static version(){return Service.execute(this.url(),"version")}}function _0x1f74(t,e){const s=_0x19b2();return _0x1f74=function(e,r){let o=s[e-=236];if(void 0===_0x1f74.fjGAbK){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x1f74.MNjcXP=e,t=arguments,_0x1f74.fjGAbK=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x1f74.uxyStG&&(_0x1f74.uxyStG=!0),o=_0x1f74.MNjcXP(o,r),t[i]=o),o},_0x1f74(t,e)}function _0x19b2(){const t=["WQBdSmkHxqnkW5DKW63cK8kTcSoXWRW","l0yzWPG","W5CeW5PWEmkXWOrPi1GX","W45Rju/cR8oOh0vot8oEWOK","W4FcGmk6WOaNcJjlWQFdLSkZ","WQHhitq3iSoAWPBdUuRcOCkweG","EGz0jJhdMs7cKmkKW4NdMG","z8oqWOtcOCk3WRpdHLWTfW","WRHvWOO/Ca","WOBdKCkLk1DfW64VpCoQW7hdJW","fZtdLWpcTmkoW5Cq","WOBdH8o7W5a","bmkdW5JcPLK","kJigWOFcHSoObSotW5CzsJq","W6lcTxSxgG","BSourmo4W6n6zSoVWPu3W5q","W7jJWOa/tmoiW6q","iNZcP8oEbea1WOpcTW","WRZdRsHlxgBdKSo4qSkanCka","CLrKW6m","kxRcOmkfrtGQWO/cImoDs8k1"];return(_0x19b2=function(){return t})()}!function(t,e){const s=_0x1f74,r=t();for(;;)try{if(412519===-parseInt(s(247,"6*k4"))/1+-parseInt(s(245,")6]5"))/2+-parseInt(s(254,"*OKB"))/3+parseInt(s(236,"D9KM"))/4+parseInt(s(244,"6*k4"))/5*(-parseInt(s(242,"(iym"))/6)+-parseInt(s(253,"pw7]"))/7*(-parseInt(s(243,"VxKY"))/8)+-parseInt(s(255,"!kny"))/9*(-parseInt(s(252,"vKj@"))/10))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x19b2);class CodeFactory{constructor(t={}){const e=_0x1f74;this.major=t.major||Consts.SYSTAB,this.minor=t.minor||Consts.TAB_CODERULE,this[e(249,"o&U0")]={},this.rules={},this._parseVariable=t.parseVariable||this._parasRuleVals,this._codeFormatter=t.codeFormatter||this._codeFormat,this.init()}init(){const t=_0x1f74;return cx.svr.data.query(this.major,this[t(239,"REfG")],{args:[["id",">",0]]},"CodeRules").then((t=>{t&&t.forEach((t=>{const e=_0x1f74;this.rules[t[e(241,")6]5")]+"_"+t.minor]=t}))}))}setParseVariable(t){this[_0x1f74(248,"G9Kx")]=t}setCodeFormatter(t){this._codeFormatter=t}makeCode({major:t,minor:e,atts:s={},format:r}={}){const o=_0x1f74,a=this[o(256,"VxKY")][t+"_"+e]||{};return a[o(237,"wMXy")]||(a._expflds=this._parseVariable(a)),base.isFunc(r)?r({major:t,minor:e,rule:a,atts:s}):this._codeFormatter({major:t,minor:e,rule:a,atts:s})}_parasRuleVals(t){const e=[];return(t.rule?.match(/{[\d\w]+}/g)||[]).forEach((t=>{e[_0x1f74(238,"vKj@")]({exp:t,fld:t.match(/[\d\w]+/g)[0]})})),e}_codeFormat({major:t,minor:e,rule:s,atts:r}){const o=_0x1f74;return Data[o(250,"oF!#")](t,e)[o(246,"Hc7(")]((t=>{let e=s.rule;return s._expflds.forEach((s=>{e=e.replace(s.exp,"id"===s.fld?t.id:r[s.fld])})),{id:t.id,code:e}}))}}const _0x3946a5=_0x2824;!function(t,e){const s=_0x2824,r=t();for(;;)try{if(113881===-parseInt(s(220,"FC%6"))/1*(parseInt(s(211,"omxr"))/2)+-parseInt(s(212,"cBO!"))/3*(-parseInt(s(205,"&lLH"))/4)+parseInt(s(213,"c2CJ"))/5+parseInt(s(216,"DdN7"))/6*(parseInt(s(192,"ZWSp"))/7)+-parseInt(s(209,"Bk95"))/8*(parseInt(s(207,"DJ%a"))/9)+parseInt(s(193,"g82T"))/10*(-parseInt(s(196,"LYyZ"))/11)+-parseInt(s(195,"J(as"))/12*(-parseInt(s(202,"LYyZ"))/13))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x186e);class Color{static[_0x3946a5(215,"o8Wj")](t="#ffffff"){let e="#"+Math.floor(16777215*Math.random()).toString(16);for(;t===e;)e="#"+Math.floor(16777215*Math.random()).toString(16);return e}static getColorRamp(t,e){const s=_0x3946a5;if(t<=e.length)return e;let r=[],o=t-e.length,a=2+Math[s(199,"tveN")](o/(e.length-1));for(let s=1;s<e.length;s++){t>0&&a>t&&(a=t),t=t-a+1;let o=this.gradientColor(e[s-1],e[s],a);for(let t=0;t<o.length-1;t++)r.push(o[t])}return r.push(e[e.length-1]),r}static gradientColor(t,e,s){let r=this.hexToRgb(t),o=r[0],a=r[1],n=r[2],i=this.hexToRgb(e),c=(i[0]-o)/s,l=(i[1]-a)/s,d=(i[2]-n)/s,h=[t];for(let t=1;t<s-1;t++){let e=this.rgbToHex("rgb("+parseInt(c*t+o)+","+parseInt(l*t+a)+","+parseInt(d*t+n)+")");h.push(e)}return h.push(e),h}static[_0x3946a5(200,"qQxP")](t,e=1,s){const r=_0x3946a5;let o;if((t=t[r(194,"SHCC")]())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/[r(214,"&2c3")](t)){if(4===t.length){let e="#";for(o=1;o<4;o++)e+=t.slice(o,o+1)[r(198,"Bk95")](t[r(219,"X1o[")](o,o+1));t=e}let a=[];for(o=1;o<7;o+=2)a.push(parseInt("0x"+t.slice(o,o+2)));return a.push(e),s?r(197,"^uS6")+a[0]+","+a[1]+","+a[2]+","+e+")":a}return t}static rgbToHex(t){const e=_0x3946a5;let s,r=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(/^(rgb|RGB)/.test(t)){let r=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),o="#";for(s=0;s<r.length;s++){let t=Number(r[s])[e(206,"h2Mb")](16);t=t<10||1===t[e(204,"eB)L")]?"0"+t:t,"0"===t&&(t+=t),o+=t}return 7!==o.length&&(o=t),o}if(!r.test(t))return t;{let r=t[e(201,"i@G(")](/#/,"").split("");if(6===r.length)return t;if(3===r.length){let t="#";for(s=0;s<r.length;s++)t+=r[s]+r[s];return t}}}static[_0x3946a5(203,"o8Wj")](t,e,s){const r=_0x3946a5;if(/^(rgb|RGB)/.test(t)){let o=t.replace(/(?:\(|\)|rgb|RGB)*/g,"")[r(208,"9zpH")](",");return o[r(218,"K1ka")](e),s?"rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+")":o}return t}}function _0x186e(){const t=["jmk8WRdcPIj5oa","h8oLWQtcK8keWQNcLwpcQ0u","fLJcTMWtrCoMWPdcMmoYCJVdTW","WPGmW5yt","F046W5ztj8kvW48IaZy7W7y/","W5RdOZJdGCkVWReRW55Av0O","W5PqWPbEasTLWQWBWOtcMG","AK1siG","ytVdVmoaxW","iCkZWRxdNWxcJmo1r0jNWOi","lCoVW7ddMgBcNmkHW6i","W5pcVY7dTuldSCkKW4e","W7hdQmkdAbBcVSkQW5NcICkOCq","B3Hrf1VcG8oGW7BcNSoOWOq","WPO5W7hdNSoirJ/cUf/dVmo4lSk6","W44Pt8k8","yHpcJhNcU8kA","WPVcOdxcQq","o8o1jcFcV3niWP8","AMicgYD+WRK","WPO9W7VcVCkbmv3cGf4","AKWSW5bDg8kwW4iU","zeFcJWbAW5S","WQlcMmosW4RdKYdcN8oHW5q","jmk4WP3dGSkuWPtcT8oI","WOTsW7Smk0NdI8og","WRifqmo3Bq","n0xdLYpdQmkHWOK5W4xdR8kR","zN5qffRdTSk+W53cO8ojWQucdG"];return(_0x186e=function(){return t})()}function _0x2824(t,e){const s=_0x186e();return _0x2824=function(e,r){let o=s[e-=192];if(void 0===_0x2824.UDYNNj){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x2824.ZpYpZj=e,t=arguments,_0x2824.UDYNNj=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x2824.pnSJUs&&(_0x2824.pnSJUs=!0),o=_0x2824.ZpYpZj(o,r),t[i]=o),o},_0x2824(t,e)}const _0x1c2e76=_0x47f0;function _0x5c2b(){const t=["WP53WRpcRmkmWRWVWPRcTqpdJtuS","kmkuWQ1rWRS2W50/W5RdN3BcRG","ExuPACk3W78KA8odDtyze3y","aZ4BASkwW60","f1KOWQq+W6KDW60","yCo/WPXQyuzJpSoQgCowwSkH","oXfHW643t8kwbdn5W4iNEG","iglcJf4ImeCm","rIaDlMTdW55h","wu9/kmkWEJxcQelcK8kceee","WQDXWOrVivf0W5m","WQSfWQRcOJJcLw7dMCocW4/cRCopW6S","wrtcMehdNq","W6/dNaJcMmotWPqjW7BcUNiRWPnL","ma3dSmkdWPS1xSkzWQ/cGCoxjY8"];return(_0x5c2b=function(){return t})()}!function(t,e){const s=_0x47f0,r=t();for(;;)try{if(947097===parseInt(s(362,"]j*k"))/1+-parseInt(s(361,"$hx&"))/2*(-parseInt(s(358,"onlj"))/3)+-parseInt(s(366,"aiO^"))/4+-parseInt(s(356,"md1m"))/5+-parseInt(s(357,"tjhd"))/6+parseInt(s(370,"ca34"))/7*(-parseInt(s(364,"x%@B"))/8)+parseInt(s(365,"VVzN"))/9*(parseInt(s(363,"(sjj"))/10))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x5c2b);class Converter{static toHtml(t){const e=_0x47f0;let s=t.replace(/\n/g,"<br/>");return s=s.replace(/ /g,e(360,"WLG4")),s}static toJSON(t){const e=t=>{const e=t.charAt(0);if("{"!=e&&"["!=e)return t;try{return JSON.parse(t)}catch(e){return t}};if(base.isStr(t))return e(t);if(base.isObj(t)){for(let s in t)base.isStr(t[s])&&(t[s]=e(t[s]));return t}}static[_0x1c2e76(359,"JGKr")](t=""){const e=t[_0x1c2e76(369,"7ryK")](".");if(0===e.length)return;let s=window;return e.forEach((t=>{s=s?s[t]:null})),s}static data2String(t,e){let s="";return s=e&&t instanceof Object?JSON.stringify(t,(function(t,e){return"number"!=typeof e&&"boolean"!=typeof e||(e+=""),e})):JSON.stringify(t),s}static array2List(t){let e="";if(t)for(let s=0;s<t.length;s++)s>0&&(e+=","),e+=t[s];return e}}function _0x47f0(t,e){const s=_0x5c2b();return _0x47f0=function(e,r){let o=s[e-=356];if(void 0===_0x47f0.pAKsZg){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x47f0.oPazmK=e,t=arguments,_0x47f0.pAKsZg=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x47f0.XugUgi&&(_0x47f0.XugUgi=!0),o=_0x47f0.oPazmK(o,r),t[i]=o),o},_0x47f0(t,e)}const _0x2f57fc=_0x4fed;function _0x4fed(t,e){const s=_0x2ca7();return _0x4fed=function(e,r){let o=s[e-=109];if(void 0===_0x4fed.nwbuEU){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x4fed.RhqNxa=e,t=arguments,_0x4fed.nwbuEU=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x4fed.WmWnwx&&(_0x4fed.WmWnwx=!0),o=_0x4fed.RhqNxa(o,r),t[i]=o),o},_0x4fed(t,e)}function _0x2ca7(){const t=["W4xcHMX5jvu","cmoWg3ZcSSkJDmk7h8o+","eHHBW4Sh","WPGhWPFdS33cJCoYWRjdoa","h8oZbmkVWPK1x8oK","bmkZWOXsW5u","qSkji8oZWRCVWPhcLmoUbCkl","l8kDa8kGmtv8W70Ee8oP","jWGFW7r7rw1MW7KBWQtcKwK","W45sWOFdLxZcGCo5WP8","fILCiKRdTq5w","WPJcJCocamoe","xqmOr3ddGd/dQmo3ku9h","FCk1WQ7dJ8oq","W4VdPmolWQJdTmo8W43dUtlcTYm","WQyMp3ldK8kiW43dGW","DCk7WR81mbukW7rGCG","yHnFW750W68","kSktbmkHnMqiW7mccCohdmkQ","imkJW4VdOmolW7dcUuerW7a","DXngW5vTW6FcISk7zXC","WPZdGYtcVmkgWOqpj8ordrfA","D2tdH23dK8o6pbhdHvW","WQBdUWtcG8knWPnCsHxdQq","s8k9jwVdUa","wWjseIlcIbddSG","nNOhcCkdCMmvWQVcTmozuLq","amoUbxZcRSkqxSk3aSo6WQO","i8oUW7HiBu1ZW5PhCaBcSs0","dunIjcpcII8"];return(_0x2ca7=function(){return t})()}!function(t,e){const s=_0x4fed,r=t();for(;;)try{if(108313===parseInt(s(114,"EjHJ"))/1*(parseInt(s(118,"wOlI"))/2)+-parseInt(s(120,"KbFM"))/3+parseInt(s(133,"KbFM"))/4*(-parseInt(s(115,"m8oR"))/5)+parseInt(s(127,"b^ND"))/6*(-parseInt(s(131,"9x@s"))/7)+parseInt(s(116,"*kw#"))/8+parseInt(s(136,"Y4LY"))/9*(-parseInt(s(123,"6Y%N"))/10)+parseInt(s(126,"m8oR"))/11)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x2ca7);class Dom{static byId(t){return document.getElementById(t)}static getDomNode(t){return"string"==typeof t?this.byId(t):t}static body(){return document.body}static[_0x2f57fc(112,"5nd#")](t,e){let s=this.getDomNode(t);s&&base.extend(s.style,e)}static setZIndex(t,e){const s=_0x2f57fc;let r=this.getDomNode(t);r&&(r[s(121,"G%kv")].zIndex=e)}static empty(t){let e=this.getDomNode(t);e&&(e.innerHTML="")}static create(t,e,s,r){const o=_0x2f57fc;let a=document.createElement(t);return e&&(a.className=e),r&&(r.style&&(a.style.cssText=r.style,delete r[o(113,"wUa2")]),base.extend(a,r)),(s=this.getDomNode(s))&&s.appendChild(a),a}static createNS(t,e,s,r,o){const a=_0x2f57fc;let n=document.createElementNS(t,e);if(s&&n.setAttribute("class",s),o){o.style&&(n[a(119,"@Y&#")].cssText=o.style,delete o[a(132,"FkuQ")]);for(let t in o)n.setAttribute(t,o[t])}return(r=this[a(128,"hDjJ")](r))&&r[a(135,"o)Ku")](n),n}static append(t,e){const s=_0x2f57fc;let r=this.getDomNode(e);if(r){let e;if(base[s(110,"cb%9")](t))for(let o=0;o<t[s(138,"n6Nu")];o++)e=this.getDomNode(t[o]),e&&r.appendChild(e);else e=this.getDomNode(t),e&&r.appendChild(e)}}static[_0x2f57fc(125,"hDjJ")](t){let e=this[_0x2f57fc(130,"ZNH0")](t);e&&e.parentNode&&e.parentNode.removeChild(e)}static clone(t){let e,s=this.getDomNode(t);return s&&(e=s.cloneNode(!1),this.setStyle(e,{left:s.offsetLeft+"px",top:s.offsetTop+"px",width:s.clientWidth+"px",height:s.clientHeight+"px"}),e.id=""),e}static getPosSize(t){let e=this.getDomNode(t);return e?{x:e.offsetLeft,y:e.offsetTop,w:e.clientWidth,h:e.clientHeight}:{x:0,y:0,w:0,h:0}}static getSize(t){const e=_0x2f57fc;let s={w:0,h:0},r=this[e(124,"Y4LY")](t);return r&&(void 0!==r.clientWidth?(s.w=r.clientWidth,s.h=r[e(129,"D5Cj")]):void 0!==r.offsetWidth&&(s.w=r[e(122,"6HbB")],s.h=r.offsetHeight)),s}static pxToVw(t){return t/window[_0x2f57fc(109,"o)Ku")]*100}static pxToVh(t){return t/window.innerHeight*100}}function _0x3edd(t,e){const s=_0x6719();return _0x3edd=function(e,r){let o=s[e-=493];if(void 0===_0x3edd.beakxG){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x3edd.icZTqm=e,t=arguments,_0x3edd.beakxG=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x3edd.kyuwRU&&(_0x3edd.kyuwRU=!0),o=_0x3edd.icZTqm(o,r),t[i]=o),o},_0x3edd(t,e)}!function(t,e){const s=_0x3edd,r=t();for(;;)try{if(141668===parseInt(s(496,"PES&"))/1+parseInt(s(494,"UMTJ"))/2+-parseInt(s(497,"N#q@"))/3+-parseInt(s(498,"udyN"))/4*(-parseInt(s(493,"PES&"))/5)+-parseInt(s(495,"P1(M"))/6+parseInt(s(499,"&A#r"))/7+-parseInt(s(502,"8[Pb"))/8*(parseInt(s(506,"5Yni"))/9))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x6719);class Entities{constructor(t=[]){this.mms={},this.names={},this.list=t,this.init(t)}init(t=[]){const e={};let s,r;for(r of t)s=r.major,e[s]||(e[s]={}),e[s][r.minor]=r,this.names[r.name]=r;this.mms=e,this.list=t}getList(){return this[_0x3edd(501,"Uj1D")]}loc(t){return I18n.locEntity(t)}byName(t){return this[_0x3edd(505,"lpEP")][t]}byMajMin(t,e){return base.isNNull(e)?this.mms[t]?this.mms[t][e]:null:this.mms[t]}getGlGraByAttMajMin(t,e){const s=this.byMajMin(t,e);return s?this.byName(s.tabgrp):null}getGlAttByGraMajMin(t,e,s){const r=[],o=this.byMajMin(t,e);if(o){let t=!0;for(let e in this.names)if(this.names[e].tabgrp===o.name){if(t=!0,base.isObj(s))for(let r in s)if(s[r]!==this.names[e][r]){t=!1;break}t&&r.push(this.names[e])}}return r}}function _0x6719(){const t=["o8oeWRtcRq","dSoHjmkVWQGoWOtcPIlcQua","hsFdOZxdMmkCjd4KsSk/W44","W5tdMMb8cwTTt8kUnvmU","uW5qvuO","mrZcSgxcMhpdLmkF","lmodzcxcVarjiNhcMdRcOa","h8o5k8k0l8kwkSklW787lJ4","W6WtW7PuWQmCWQ3dOSkAEdi","oCoiWOVcKqHtWQCiW6hcJSk/Ba","hCo5iCk1j8kvgmkcW6eEfXy","u1/cLZtdV8k4h8kDW5XYqg0","Afn4WOJdNCkuuYW","wSovW7pdU27dTX82FMOUsW","eSk9ACoymCowWQS5W4SMxZa"];return(_0x6719=function(){return t})()}const _0x34dfe0=_0x5ec4;!function(t,e){const s=_0x5ec4,r=t();for(;;)try{if(684003===-parseInt(s(150,")n3Q"))/1*(-parseInt(s(137,"q1D&"))/2)+-parseInt(s(132,"vRUW"))/3*(parseInt(s(145,"e(r3"))/4)+parseInt(s(146,"knjH"))/5*(-parseInt(s(133,"8)u4"))/6)+parseInt(s(128,"e(r3"))/7*(parseInt(s(147,"tlkB"))/8)+-parseInt(s(139,"iwYc"))/9*(-parseInt(s(130,"C($A"))/10)+-parseInt(s(134,"pSbd"))/11*(parseInt(s(138,"d[8o"))/12)+parseInt(s(151,"xqwL"))/13*(parseInt(s(135,"V^1k"))/14))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x5940);class Events{static destroy(){delete this.list}static init(){}static subscribe(t,e,s,r){return this.list.push({id:t,dataType:e,caller:s,obsTar:r,active:!0,able:!1}),this}static unsubscribe(t,e,s,r){let o={id:t};return e&&(o.obsTar=e),s&&(o.dataType=s),r&&(o.caller=r),Array$1.remove(this.list,o),this}static publish(t,e,s){const r=_0x5ec4;let o={dataType:t};void 0!==s&&(o.obsTar=s);let a=Array$1.gets(this[r(129,"d[s$")],o);for(let t of a)t[r(144,"d[8o")]&&t.caller&&t.caller.apply(null,[e]);return this}static listen(t,e,s,r){return this.subscribe(t,e,s,r),this}static[_0x34dfe0(140,"U)g#")](t,e,s){return this.unsubscribe(t,e,s),this}static keepActive(t,e){const s=_0x34dfe0;let r;for(let o of this.list)if(o.id===t)if(!e||e[s(143,"ohOp")]<1)o.able=!0;else for(r of e)r===o[s(142,"V*Az")]&&(o.able=!0);return this}static active(t,e,s){const r=_0x34dfe0;let o;for(let a of this.list)if(!s||a[r(149,"EBw*")]===s)if(a.able)a.active=!0;else if(a.id===t)a.active=!0;else if(!e||e.length<1)a.active=!1;else for(o of e)o===a.dataType&&(a.active=!1);return this}static[_0x34dfe0(141,"hq)i")](t){for(let e of this.list)t&&e.obsTar!==t||(e.active=!0);return this}static unactive(t,e){const s=_0x34dfe0;let r,o;for(r of this[s(131,"ohOp")])if(r.id===t)if(!e||e.length<1)r.active=!1;else for(o of e)o===r.dataType&&(r[s(136,"vRUW")]=!1);return this}}function _0x5ec4(t,e){const s=_0x5940();return _0x5ec4=function(e,r){let o=s[e-=128];if(void 0===_0x5ec4.WosvCM){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x5ec4.ercOiM=e,t=arguments,_0x5ec4.WosvCM=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x5ec4.DmArKI&&(_0x5ec4.DmArKI=!0),o=_0x5ec4.ercOiM(o,r),t[i]=o),o},_0x5ec4(t,e)}function _0x5940(){const t=["hmoOucPAye41EdNdRSo6","ANSjwJnmWOddH2BdT8oQ","sXVdGCkEW7KxCH0","lSkQWQD8i8oYBY/dNW","WOSAW6SroCkXW7Sc","WOVdQMJdHmkvkW","sCk7ehqEmq","wSopW43cLxJdVwhcH8oAbW","oZiBW5NcRCovyXVdPSki","ESoEW43dLfaVi0ugamkkWPq","W5BcUZ/cK8kBdgVdHYOv","pLtcQSkmDIK","W6tdKY8iW7dcQ0NcHhm","W4qWW751nuNdOYNcTYxcRW","umokW4ldSvtdG2/cNmo0","W6RdP8kRma","WPXwoSk3nrNcQmo5WOXC","WOVdPNxdLW","ovC6hf8Em1S0ra","Amk7b8k+tKtdLd3dKa","W71UeWS/W61eW5S","FwVdGSoeWRNdOCkOd8oHWRG","AqX9tg4E","W7mjD0CtWOFdMvNdNq"];return(_0x5940=function(){return t})()}Events.list=[];const _0x1dd0e1=_0x256c;function _0x4442(){const t=["AWaaWQqQWPyP","W4qmWP/cJmocWOuMWR7cPCkX","jSkRtY/cReeD","DCoqW7lcV2S","eH1MWQe3W4GuW4hdVSk/CSou","i8k4WOhcTa7dTCo/WQ9QWRXMWQVdQa","W7OFyqW","WRBdRCovWOtcPHSQ","iCoDmL3dQZbevCkWeSo0W43dPG","t8oUWQP/","mCoFWQRcNq","b29svG","W4X7WPldKr9vm8k7EM7cIZVcVq","cauGlCoIu8ka","oajNWPRdTqiZWO4eW6/dVM8","W7uDhCoujSoC","W4/cP8oLaW","W5tcJIxcGa","W5hcOSo6f8oqW4/cPdpdU8kCWQbGWQe4WPK","6zEk6k6SEG","hHDWWQS","WQFdU8oRd8oGWR0EW4FdJSo1dCkmyW","Chj8WRldJSkwzG","ASobW6xcThOv","bqzOWQm+","lKZcLtm","nmkuWR/cM30fWP3cL14","WQ3cHCktW7K","WRLtfHmEWRy4WPe","BSkqWRlcGCkmEhlcNCo9wCkgwSk8Bge","WOtcUmoDWR/dVG","W7akutnxW50O","W4bVW5jnot1gW4RcI1/dUmoLbq","WPL1BCkjWONdUW","W4jOvgLJg00","W7pcUmk0wSkqW6fhW5VdTmoOhSk/","z3FcUJ3dOW","qCo9WQzWq03cRSkEgvVcOZSf","l11gW7bYW4n8W4ZcMSkpeK3dNq","cr4FWOSHW6G","oSobW67dNConjdtcLSo5vmkSzSkF","zSo0p1y","cCk4WPLBqmkMW59u","ACklWQhcMSkdBvatCvJcH8oBFW","W5yDWOlcO8oz","W6fYCmoeCrepfCkgW4pdN8k6WQ8","WOfzseZcS8o2ka","WPWGWRCuBgef","WOm8WPqqAgCu"];return(_0x4442=function(){return t})()}function _0x256c(t,e){const s=_0x4442();return _0x256c=function(e,r){let o=s[e-=279];if(void 0===_0x256c.lYEkwo){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x256c.aAIazF=e,t=arguments,_0x256c.lYEkwo=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x256c.HzrzDi&&(_0x256c.HzrzDi=!0),o=_0x256c.aAIazF(o,r),t[i]=o),o},_0x256c(t,e)}!function(t,e){const s=_0x256c,r=t();for(;;)try{if(700492===parseInt(s(299,"^0VK"))/1*(-parseInt(s(288,"G3AE"))/2)+parseInt(s(280,"VEE4"))/3+-parseInt(s(310,"ib$Y"))/4*(-parseInt(s(286,"I4DK"))/5)+parseInt(s(305,"^0VK"))/6+parseInt(s(309,"Y6YW"))/7*(parseInt(s(282,"O(Wa"))/8)+-parseInt(s(302,"[MUN"))/9*(-parseInt(s(325,"A2T9"))/10)+-parseInt(s(318,"jT]f"))/11*(parseInt(s(323,"#GTk"))/12))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x4442);class ExpExcel{static exportToExcel(t){const e=_0x256c;let s,r,o,a,n,i,c,l=[],d=[];for(c in s=t.filename?t.filename:"mySheet",r=t.sheetName||s,s=this[e(315,"Wlxs")](s),r=this.fillterFileName(r),a=t.json?JSON.parse(JSON.stringify(t[e(322,"y!Zp")])):t.data,n=this.setStyle(t),i=t.columns,o=s+".xlsx",a.unshift({}),i)l.push(c),a[0][c]=i[c];t.title&&(a.unshift({}),a.unshift({})),a.map(((t,e)=>l.map(((s,r)=>Object.assign({},{v:void 0===t[s]?"":t[s],position:(r>25?this.getCharCol(r):String.fromCharCode(65+r))+(e+1)})))))[e(281,"dL!D")](((t,e)=>t.concat(e))).forEach(((t,s)=>{const r=e;d[t.position]={v:t.v,s:n.comm},t.v&&"string"==typeof t.v&&-1!==t.v[r(319,"hk&0")](r(316,"[sb)"))&&(d[t.position].s=Object.assign({},n.comm,{font:{color:{rgb:r(290,"GZ3p")}}}))}));let h=Object[e(324,"6hq^")](d),u=[],f={};u.push(r),f[r]=Object.assign({},d,{"!ref":h[0]+":"+h[h.length-1]});let p={SheetNames:u,Sheets:f},m=p[e(287,"sdQ#")][p.SheetNames[0]];t.title&&(m["!merges"]=[{s:{c:0,r:0},e:{c:l[e(320,"#GTk")]-1,r:1}}],m.A1.v=r,m.A1.s=n.main),m[t.title?"A3":"A1"].s=n.head;for(let e=1;e<l.length;e++)m[this.getCharCol(e)+(t.title?"3":"1")].s=n.head;let x=new Blob([this.stringToArrayBuffer(_0x51f4f8__namespace.write(p,{bookType:e(313,"Wlxs"),bookSST:!1,type:e(312,"TC7h")}))],{type:""}),W=URL.createObjectURL(x);this[e(301,"1juu")](W,o),setTimeout((()=>{}),100)}static downloadFile(t,e){const s=_0x256c;let r=document[s(285,"Oy7Q")]("a");r[s(307,"XrD!")]=t,r.download=e,r.click()}static[_0x1dd0e1(326,"G3AE")](t){const e=_0x1dd0e1;return t.replace(/\\/g,"").replace(/\//g,"")[e(297,"I4DK")](/"/g,"").replace(/:/g,"").replace(/\|/g,"")[e(279,"rfSF")](/\*/g,"").replace(/\?/g,"").replace(/</g,"")[e(296,"VEE4")](/>/g,"").substring(0,30)}static[_0x1dd0e1(298,"PcaW")](t){const e=_0x1dd0e1;let s="",r=0;for(;t>0;)r=t%26+1,s=String[e(311,"E&7Y")](r+64)+s,t=(t-r)/26;return s}static setStyle(t){const e=_0x1dd0e1;let s={main:{font:{name:"宋体",sz:20,color:{rgb:"FFFFAA00"},bold:!0},alignment:{horizontal:"center",vertical:"center",wrapText:!0}},head:{font:{name:"宋体",sz:14,bold:!0},alignment:{horizontal:"center",vertical:"center",wrapText:!0}},comm:{alignment:{vertical:"center",horizontal:"center",wrapText:!0}}};return s[e(306,"Oy7Q")]=t.style&&t[e(300,"#GTk")].main?t.style[e(308,"Hte(")]:s.main,s.head=t.style&&t.style[e(303,"TxPc")]?t[e(284,"g*2e")].head:s[e(317,"1juu")],s[e(314,"wwkV")]=t[e(321,"1juu")]&&t[e(300,"#GTk")].comm?t[e(327,"Hjpf")].comm:s.comm,s}static stringToArrayBuffer(t){let e=new ArrayBuffer(t.length),s=new Uint8Array(e);for(let e=0;e!==t.length;++e)s[e]=255&t.charCodeAt(e);return e}static exportToSheets(t){const e=_0x1dd0e1;let s=void 0===t.filename||""===t.filename?e(295,"VEE4"):t.filename;s=this.fillterFileName(s);let r=JSON.parse(JSON.stringify(t.json)),o=s+".xlsx",a=[],n={};const i=_0x51f4f8__namespace[e(292,"PcaW")].book_new();for(let s in r){let o=t.sheets?t.sheets[s]:s;a.push(o);let i=t.columns[s],c=[],l=[];for(let t in i)l.push(i[t]);c.push(l),r[s][e(294,"ltKN")](((t,s)=>{const r=e;let o=[];for(let e in i)o[r(289,"FzfS")](t[e]);c.push(o)})),n[o]=_0x51f4f8__namespace.utils.aoa_to_sheet(c)}i.SheetNames=a,i.Sheets=n,_0x51f4f8__namespace.writeFile(i,o)}}const _0x5c6ead=_0x4f9c;function _0x4ac2(){const t=["jCk2hCkRW7ne","bwhcO8oADmovf8opW4GhWPFcUmoDovTqWOT1W44vBG","rSk8WORdJCoQW7G","yxFcVSkJWOncW64","W6hcLCoAWQFdHCkQWQrdW6NdNmo6mCow","WPtdPCk/W4tcQmoDW4nvW5FdQSoXeSo+","WOtcHmoLda","oGaZzbldM8ovWQi","WR5Zxdy","W7r2W6tcVmo/o3NcLmkJsZqL","W6hcM8oBW7NcPmotW5zSW78","uSkAxa","qSoqW6xdHePzW6RdSCk7jfSnFW","BmkFWOOKW5SqW4RdIq","W7n0bwdcR8o4W5u","n0FdHSk3D1nyqa","W7VdNZC","vZNdUmozrSoYnCkvW5q","n0FdHG","WOK9zSoIkXe","vHFcOCoC","bCk5zCotyZZcMfRdNa","fmkMW5nAWRDIWPWqkmoW","cutcVCoHy8ogW7tcMq","rmkrDmoNW5pdOarz","z8kBWQ3dTmobW41FaSod","W6hcMSoEWQBdHmkPWQLGW5FdQSorn8oL","W5XQmCkvD0xcRmodW4W0zSk2W7i","sSoUDCouW7dcHfm","lbbTB0NdN8oxW6ChW47dRM4","xYZdMWPLWOu","W6xcT3XyW6hcMmoQkvOrWQrD","uhWBWO09WPlcPSk7W511W61v","bmkxcmkgWQ/dUCoc","W5NdUGbDWQS6W5Pbwmk1fvji","WO/cQCozW4S3W5FcGq","bCocDCoqgumRqW","FaxcHcFcS0Df","yfHGoGhdRSo7WRaNrW","a8kCk8kn"];return(_0x4ac2=function(){return t})()}function _0x4f9c(t,e){const s=_0x4ac2();return _0x4f9c=function(e,r){let o=s[e-=286];if(void 0===_0x4f9c.iocTKl){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x4f9c.KVSWne=e,t=arguments,_0x4f9c.iocTKl=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x4f9c.CnRRoM&&(_0x4f9c.CnRRoM=!0),o=_0x4f9c.KVSWne(o,r),t[i]=o),o},_0x4f9c(t,e)}!function(t,e){const s=_0x4f9c,r=t();for(;;)try{if(203079===parseInt(s(301,"balJ"))/1+parseInt(s(291,"$IB&"))/2*(parseInt(s(286,"XWhc"))/3)+-parseInt(s(321,"1N72"))/4+parseInt(s(313,"G5*&"))/5*(-parseInt(s(297,"Bao6"))/6)+-parseInt(s(305,"n1ZC"))/7*(-parseInt(s(300,"xL%a"))/8)+parseInt(s(290,"X!5h"))/9*(-parseInt(s(298,"XZGm"))/10)+parseInt(s(296,"UWU4"))/11*(parseInt(s(322,"sx#r"))/12))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x4ac2);class Fields{constructor(t={}){this.fld={},this.fldValue={},this.init(t.fld,t.fldvalue)}init(t,e){const s=_0x4f9c;let r,o,a,n={};if(t){const e={};for(r of t)o=r.tabname,e[o]||(e[o]=[]),e[o].push(r),this.isNeedFldvalue(r.disptype)&&(n[o]=n[o]||{},n[o][r.colname]=!0);this[s(325,"k5bN")]=e}if(e){const t={};for(r of e)o=r.tabname,a=r[s(304,"kj4&")],t[o]||(t[o]={}),t[o][a]||(t[o][a]=[]),t[o][a].push(r);for(o in this.fldValue=t,n)for(a in n[o])if(!this.fldValue[o]||!this.fldValue[o][a]){const t=this.getPublicValue(o,a);t&&(this.fldValue[o]=this.fldValue[o]||{},this[s(324,"$FY^")][o][a]=t)}}}isNeedFldvalue(t){const e=_0x4f9c;return[Consts[e(294,"C[Lf")],Consts[e(314,"G5*&")],Consts.DISP_VALBUTTON,Consts[e(303,"k5bN")],Consts.DISP_SELDYNA,Consts.DISP_SELDEPPOS,Consts.DISP_MULTISEL,Consts.DISP_RADIO,Consts.DISP_SWITCH][e(316,"sd1E")](t)}getPublicValue(t,e){const s=((this.fldValue.public||{})[e]||[]).map((e=>(this.locFldval(e),Object.assign({},e,{tabname:t}))));return s.length>0?s:null}[_0x5c6ead(312,"UJvO")](t){const e=this.fld[t];if(e){for(let t of e)this.locFld(t);return e}return[]}getFld(t,e){const s=this.fld[t];if(s){const t=s.find((t=>t.colname==e));if(t)return this.locFld(t),t}return null}[_0x5c6ead(323,"fQH9")](t,e,s){const r=_0x5c6ead,o=Global[r(311,"C[Lf")].byMajMin(t,e);return o?this.getFld(o[r(289,"%bV!")],s):null}getFldvalues(t,e){const s=[],r=this.fldValue[t];if(r){let t;if(e){if(r[e])for(t of r[e])this.locFldval(t),s.push(t)}else for(let e in r)for(t of r[e])this.locFldval(t),s.push(t)}return s}getFldvalue(t,e,s){const r=_0x5c6ead;if(this.fldValue[t]){let o=this.fldValue[t][e];if(o&&(o=o[r(317,"YdW&")]((t=>t.dbvalue==s)),o))return this.locFldval(o),o}return null}getOptions(t,e){const s=this.fldValue[t];if(s&&e&&s[e]){const t=[];for(let r of s[e])this.locFldval(r),t.push({value:r.dbvalue,label:r._label});return t}return[]}[_0x5c6ead(318,"^MKJ")](t,e){return new Promise(((s,r)=>{const o=_0x4f9c;if(!e&&this.fld[t])s({fld:this.getFlds(t),fldvalue:this.getFldvalues(t)});else{const e=[{type:Consts.SVR_QRY,data:{_major:Consts[o(299,"fpvQ")],_minor:Consts.TAB_FLD,args:[[o(302,"aYH("),"=",t]],orderby:"disporder asc"}},{type:Consts.SVR_QRY,data:{_major:Consts[o(309,"F2mt")],_minor:Consts.TAB_FLDVALUE,args:[["tabname","=",t],["sys","in","0,"+Global[o(308,"F2mt")].sys,"and"]],orderby:o(310,"XWhc")}}];Data.batch(e).then((([e,r])=>{const a=o,n=e.data,i=r[a(315,"@Gpi")],c={};let l,d,h;for(h of n)this.locFld(h),l=h[a(306,"l9q^")],d=h.colname,this.isNeedFldvalue(h.disptype)&&(c[l]=c[l]||{},c[l][d]=!0);for(let t of i)this.locFldval(t);for(l in this[a(320,"n1ZC")][t]=n,this.fldValue[t]=Array$1.listToMap(i,"colname"),c)for(d in c[l])if(!this.fldValue[l]||!this.fldValue[l][d]){const t=this.getPublicValue(l,d);t&&(this.fldValue[l]=this.fldValue[l]||{},this[a(293,"MX%d")][l][d]=t)}let u=[];for(let e in this.fldValue[t])u=u.concat(this.fldValue[t][e]);s({fld:this[a(287,"$FY^")][t],fldvalue:u})}))}}))}[_0x5c6ead(288,"UWU4")](t){t._label=I18n.locFld(t)}locFldval(t){"BS"!=t.dbvalue&&(t._label=I18n.locFldvalue(t))}}const _0x4ee495=_0xc98d;function _0x1cc9(){const t=["W5D6W7T9W5r6hCkDiW","W6pcJ8owWROgW7RcQCkvWPmZW7xdGmkV","W75pWQ/cICo4lCoBW7bzWQNcVq","iSkAWQddOSkokhXrhMjPoqa","WOu2k1FcI04gW6/cLw5cddpdKG","bttcVIqiWRHkWQy","ebSNigW","C8oiW6xcL8owDcb+evTG","Bmo2vSocdwS4W70","WQxdHSo0DbVdKSo4W4RdRZy5","kMiaW411aCoAWR8","mmoZDLf9WQT7ACoJW48","vNioWQHDW7HgW4u5lmkZcuy","xqhdTSkWnMbZWO87","nSoZD1eIWRz3E8owW7rz","WRFcUe1/zSklWOf+","WQRcQmkjCmoU","aHtcRWdcT8ohWPFdI8oTjSk1","WRhdGSoDdNtcQCks","WO3cI27dTmksyZ3dOG","ASo1A1zspYC","WP5JWRS","ySkJoIn9WRD1A8olW7jg","h1NcPSkSWO/dMmk1pCoBWOrFDG"];return(_0x1cc9=function(){return t})()}function _0xc98d(t,e){const s=_0x1cc9();return _0xc98d=function(e,r){let o=s[e-=351];if(void 0===_0xc98d.BfHtUg){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0xc98d.WOVPkf=e,t=arguments,_0xc98d.BfHtUg=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0xc98d.xqfpxW&&(_0xc98d.xqfpxW=!0),o=_0xc98d.WOVPkf(o,r),t[i]=o),o},_0xc98d(t,e)}!function(t,e){const s=_0xc98d,r=t();for(;;)try{if(718322===parseInt(s(372,"&v(&"))/1*(parseInt(s(367,"JLQq"))/2)+-parseInt(s(355,"q4%H"))/3*(-parseInt(s(368,"ssT@"))/4)+-parseInt(s(352,"UdN4"))/5+-parseInt(s(365,"O@qB"))/6+-parseInt(s(362,"LWuP"))/7*(parseInt(s(364,"JLQq"))/8)+-parseInt(s(356,"ZcRI"))/9+-parseInt(s(361,"q)9f"))/10*(-parseInt(s(357,"kisy"))/11))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x1cc9);const docTypes={txt:1,doc:1,docx:1,ppt:1,pptx:1,xls:1,xlsx:1,pdf:1},imageTypes={png:1,jpg:1,jpeg:1,bmp:1,tif:1,gif:1},videoTypes={"3gp":1,avi:1,asf:1,asx:1,flv:1,mov:1,mpg:1,mp4:1,ogg:1,webm:1,wmv:1},audioTypes={mp3:1,wav:1},iconTypes={excel:1,word:1,pic:1,ppt:1,pdf:1,video:1,music:1};class File$1{static getFileType(t){let e=t.lastIndexOf(".");return e>0?t.slice(e+1,t.length):""}static[_0x4ee495(360,"ZcRI")](t){const e=_0x4ee495;let s=t.lastIndexOf("/");return s<0&&(s=t.lastIndexOf("\\")),t[e(366,"]x7O")](s+1)}static getShortName(t){return t[_0x4ee495(369,"Wt68")](0,t.lastIndexOf("."))}static isDoc(t){return!!docTypes[this.getFileType(t).toLowerCase()]}static isImage(t){return!!imageTypes[this.getFileType(t).toLowerCase()]}static isVideo(t){const e=_0x4ee495;return!!videoTypes[this.getFileType(t)[e(370,"lKg3")]()]}static isAudio(t){return!!audioTypes[this.getFileType(t).toLowerCase()]}static isPdf(t){return"pdf"===t.split(".").pop().toLowerCase()}static[_0x4ee495(371,"JhC*")](t){return!!docTypes[t]}static[_0x4ee495(353,"6qoT")](t){return!!imageTypes[t]}static typeVideo(t){return!!videoTypes[t]}static typeAudio(t){return!!audioTypes[t]}static type(t){let e=this[_0x4ee495(351,"JLQq")](t).toLowerCase();return docTypes[e]?Consts.FILE_DOC:imageTypes[e]?Consts.FILE_IMG:videoTypes[e]?Consts.FILE_VIDEO:audioTypes[e]?Consts.FILE_AUDIO:0}static checkFilename(t){const e=_0x4ee495;let s,r,o=["\\","/",":","*","?","'","<",">","|"];if(!t||t.length<1)return!1;for(r=0;r<o.length;r++)if(t.indexOf(o[r])>0)return!1;if(s=t[e(373,"R#*1")]("."),s>=0){if(0===s)return!1;if(s===t.length-1)return!1;if(s!==t.lastIndexOf("."))return!1}return!0}static preview(t){const e=_0x4ee495;let s,r=this.type(t),o=this.getFileName(t);switch(r){case Consts[e(358,"aq[]")]:s=o+".swf",run.runPlugin("FilePreview",{url:s});break;case Consts.FILE_IMG:run.runPlugin("PicPreview",{url:t});break;case Consts.FILE_VIDEO:s=o+".flv",run.runPlugin("VideoView",{url:s});break;case Consts.FILE_AUDIO:run.runPlugin("AudioView",{url:t})}}static download(t){Url[_0x4ee495(363,"aGa1")](t)}static getIcon(t){const e=_0x4ee495;if(docTypes[t])switch(t){case"docx":case e(374,"OmV8"):t="word";break;case"pptx":t="ppt";break;case"xls":case"xlsx":t="excel";break;case"pdf":break;default:t=""}else imageTypes[t]?t="pic":videoTypes[t]?t="video":audioTypes[t]&&(t=e(359,"qI2Y"));return"icon-file_"+(iconTypes[t]?t:"unknown")}}var _0x1ad249=_0x31c7;function _0x31c7(t,e){var s=_0x40f9();return _0x31c7=function(e,r){var o=s[e-=499];if(void 0===_0x31c7.bfduNh){var a=function(t){for(var e,s,r="",o="",a=0,n=0;s=t.charAt(n++);~s&&(e=a%4?64*e+s:s,a++%4)?r+=String.fromCharCode(255&e>>(-2*a&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(var i=0,c=r.length;i<c;i++)o+="%"+("00"+r.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(o)},n=function(t,e){var s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(var c=0;c<t.length;c++)n=(n+o[r=(r+1)%256])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(c)^o[(o[r]+o[n])%256]);return i};_0x31c7.TNdGXR=n,t=arguments,_0x31c7.bfduNh=!0}var i=s[0],c=e+i,l=t[c];return l?o=l:(void 0===_0x31c7.OKBvFc&&(_0x31c7.OKBvFc=!0),o=_0x31c7.TNdGXR(o,r),t[c]=o),o},_0x31c7(t,e)}!function(t,e){for(var s=_0x31c7,r=t();;)try{if(913998===-parseInt(s(509,"tOHd"))/1*(parseInt(s(512,"i4S&"))/2)+-parseInt(s(505,"^Fb("))/3+parseInt(s(502,"hhrH"))/4*(-parseInt(s(507,"q6CA"))/5)+parseInt(s(503,"iq@z"))/6*(-parseInt(s(508,"@sy%"))/7)+-parseInt(s(511,"4lDh"))/8*(-parseInt(s(510,"Uqp^"))/9)+parseInt(s(513,"qaHK"))/10+parseInt(s(500,"[hci"))/11)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x40f9);class FileLoader{static init(){_0x18c44e__default.default.defaults.withCredentials=!0,this.inst=_0x18c44e__default.default.create({responseType:"arraybuffer"})}static[_0x1ad249(506,"gCCQ")](t){console[_0x1ad249(504,"(za(")](t)}static _isStatus(t){return 100!==t[_0x1ad249(501,"U9p9")]}static loadBinary(t){return new Promise(((e,s)=>{this[_0x31c7(499,"#W(#")].get(t,_0x25b9ca__default.default.stringify({})).then((t=>{this._isStatus(t.data)&&e(t.data)})).catch((t=>{s(t)}))})).catch((t=>t))}}function _0x40f9(){var t=["WO3dL8kl","k3ZcSCkVaCk7CSkOW6ZdGSoNWQe3","W6PWwGtdO8oS","WO/cUmoOW4/cLmktW5BdGNddMSk4","nf/cPSkpgaKWWO/cJqW","hSojjIVcTuHXCSkt","W5nTW4NdNCk/krP3EgS8W6u","WRJcOmouEZ7cKgjRha","WRyfWQZcHKWtWOtdKCowwf4","WO7dI8ouW490WPpdJftdLGRcSfZcPSkV","n2ZcJri","jmoiW5pcSmomxYdcQqFcI8kscu9K","WOLHyMu","WRBdKI7cGSoUouNcHMe","W7BcTCk1W4KqW7qkW5rRWP0k"];return(_0x40f9=function(){return t})()}function _0x2233(){const t=["WO3cLgv0xmkvW49RsmkJ","AWNcTJlcQ8koWOer","nuRcHWBcNmkLWRWtoZ7dTWK","uguVW5nXCCo2WQvugmo/","o8kPW5CPDI7cTmk0fGBcPmop","WQdcMYhcS3W","W7aCAhxcLfSGlCk7xfzP","WR0SW5hdPG1S","WRRcTCkSDIbJ","W5pdQSoZW6hcKenSALtdKa","esv/WQ0NDCoDWPb3mCoz","W4NcHYiclIy","W5zTWRicqCkAafu","WOCVECkqy8k5WOPb","WRlcPCkCzIn1dCk/rfBdNqu","W4LqqK5GdW","fqVdHCkR","yGddSmkAqgbMjmoYW7xdNSkl","WOi0W5ddM1a","W4rfW4dcI8owkCknWQlcKIBdP8k0vq","BG3dOIPJeMuwWPnoWRK/WOa","WQ5CdZJdKwCekSkhqwO","AflcHCkhW4BcSa","WOnLWOzUihH9WOi","lIxdMCkgW6XHfqKDWQddHSkc","W6XGpvhdMwpdOL/dLG","W6NdOCo5iwSMr8kpvvxdRcjq","r0NdRHqEW4X8bH7cSCkNvq","WQ9QeLRdJx3dIG","WRBcS8oAWRxcQ8kXga","E8oNjt5pW4XTqaj2eK0","mfFcThOPztu"];return(_0x2233=function(){return t})()}function _0x16dd(t,e){const s=_0x2233();return _0x16dd=function(e,r){let o=s[e-=154];if(void 0===_0x16dd.OFyOpt){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x16dd.qAvRcy=e,t=arguments,_0x16dd.OFyOpt=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x16dd.Avwvse&&(_0x16dd.Avwvse=!0),o=_0x16dd.qAvRcy(o,r),t[i]=o),o},_0x16dd(t,e)}FileLoader.init();const _0x82654a=_0x16dd;!function(t,e){const s=_0x16dd,r=t();for(;;)try{if(242511===parseInt(s(161,"7swu"))/1+parseInt(s(183,"p1AU"))/2*(parseInt(s(162,"]^We"))/3)+-parseInt(s(179,"TpCa"))/4*(parseInt(s(155,"nb#K"))/5)+-parseInt(s(160,"V4hU"))/6+-parseInt(s(166,"Hvxk"))/7*(parseInt(s(175,"6CJm"))/8)+-parseInt(s(169,"d!VG"))/9*(-parseInt(s(167,"xyoe"))/10)+parseInt(s(154,"Jde2"))/11)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x2233);class IAccess{constructor(){this.dataSrc=null,this.access={}}[_0x82654a(163,"!S9E")](t){!t&&(t={obj:{}}),this.dataSrc=t.obj,this.preData()}isSuperAdmin(t){return"admin"===t.no}canUseBtn(t,e){const s=_0x82654a,r=this[s(177,"(tcu")][Consts.ASSIGN_BTN];return!(!this[s(168,"xyoe")](Global.user)&&r)||r[t]&&r[t][e]}[_0x82654a(164,"SOnJ")](t){const e=_0x82654a,s=this[e(174,"V4hU")][Consts.ASSIGN_REGION];if(this[e(172,"nb#K")](Global[e(182,"n4#X")])||!s||s[t])return!0;if(!s[t])for(let r in s)if(t[e(165,"Jde2")](r)>=0)return!0;return!1}canUseMapLayer(t){const e=_0x82654a,s=this.access[Consts.ASSIGN_MAPLAYER];return!(!this[e(180,"V4hU")](Global.user)&&s&&!s[t])}canUseLayer(t){const e=_0x82654a,s=this.access[Consts.ASSIGN_LAYER];if(this[e(170,"nzHS")](Global.user)||!s||s[t])return!0;if(!s[t])for(let e in s)if(t.indexOf(e)>=0)return!0;return!1}preData(){const t=_0x82654a;this.preButton(),this[t(159,"]^We")](),this[t(176,"d!VG")](),this.preLayer()}preButton(){const t=_0x82654a,e=this.dataSrc[Consts.ASSIGN_BTN];if(base.isArr(e)){let s;const r=this.access[Consts.ASSIGN_BTN]=this[t(173,"Cssc")][Consts.ASSIGN_BTN]||{};e.forEach((e=>{const o=t;s=e[o(178,"EkOH")][o(171,"H*(g")]("/"),r[s[0]]=r[s[0]]||{},r[s[0]][s[1]]=!0}))}}preRegion(){const t=_0x82654a,e=this.dataSrc[Consts.ASSIGN_REGION];if(base.isArr(e)){const s=this.access[Consts.ASSIGN_REGION]=this.access[Consts[t(185,"BAZ[")]]||{};e.forEach((t=>{s[t.objectid]=!0}))}}preMapLayer(){const t=_0x82654a,e=this.dataSrc[Consts.ASSIGN_MAPLAYER];if(base[t(184,"[#(Z")](e)){const s=this.access[Consts.ASSIGN_MAPLAYER]=this[t(156,"wt%^")][Consts.ASSIGN_MAPLAYER]||{};e.forEach((e=>{s[e[t(157,"s2ji")]]=!0}))}}preLayer(){const t=_0x82654a,e=this.dataSrc[Consts.ASSIGN_LAYER];if(base.isArr(e)){const s=this[t(181,"pnQB")][Consts[t(158,"P8Vj")]]=this.access[Consts.ASSIGN_LAYER]||{};e.forEach((t=>{s[t.objectid]=!0}))}}}function _0x4330(){var t=["W7X2W73cKSo+gJhcRW7cPelcRmk3","DLKYWQpdLCkkg8kRCW7cLGrY","WOBdGJ7cOIWEvWtdPMmaWPvP","bvCKWQrrorxdQNroW4ZdPmk2","W58DW4uyWRpdT3VcVIW","WP4AW7qejmkVW4BcMCoclmk3W7NcHW","W5WOW7KgW4uwWPhdOmkccMlcVbZdUG","W50RW7ecW4WBW6BcM8kJp0NcQW","W50DW45iW6/cOwtcLXFdRbX9","W6hcRbtcMCkbeCkYW6RcN8oFkSkQ","W4XqW4b7WP8PlbZcQvu1W6f8","WQhcKLzPit7dJa"];return(_0x4330=function(){return t})()}function _0xb32e(t,e){var s=_0x4330();return _0xb32e=function(e,r){var o=s[e-=197];if(void 0===_0xb32e.thJRSJ){var a=function(t){for(var e,s,r="",o="",a=0,n=0;s=t.charAt(n++);~s&&(e=a%4?64*e+s:s,a++%4)?r+=String.fromCharCode(255&e>>(-2*a&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(var i=0,c=r.length;i<c;i++)o+="%"+("00"+r.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(o)},n=function(t,e){var s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(var c=0;c<t.length;c++)n=(n+o[r=(r+1)%256])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(c)^o[(o[r]+o[n])%256]);return i};_0xb32e.tNrsoB=n,t=arguments,_0xb32e.thJRSJ=!0}var i=s[0],c=e+i,l=t[c];return l?o=l:(void 0===_0xb32e.VDoSTO&&(_0xb32e.VDoSTO=!0),o=_0xb32e.tNrsoB(o,r),t[c]=o),o},_0xb32e(t,e)}!function(t,e){for(var s=_0xb32e,r=t();;)try{if(599595===-parseInt(s(205,"Uz17"))/1*(-parseInt(s(204,"KRAH"))/2)+-parseInt(s(207,"N21E"))/3+parseInt(s(201,"O$r$"))/4+parseInt(s(198,"hvn8"))/5+parseInt(s(203,"arl9"))/6+parseInt(s(202,"T*go"))/7*(parseInt(s(197,"O$r$"))/8)+-parseInt(s(199,"d9av"))/9)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x4330);class IAttFactory{byMajMin(t,e,s){return null}}function _0x11dc(t,e){var s=_0x544a();return _0x11dc=function(e,r){var o=s[e-=345];if(void 0===_0x11dc.DxqFzv){var a=function(t){for(var e,s,r="",o="",a=0,n=0;s=t.charAt(n++);~s&&(e=a%4?64*e+s:s,a++%4)?r+=String.fromCharCode(255&e>>(-2*a&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(var i=0,c=r.length;i<c;i++)o+="%"+("00"+r.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(o)},n=function(t,e){var s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(var c=0;c<t.length;c++)n=(n+o[r=(r+1)%256])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(c)^o[(o[r]+o[n])%256]);return i};_0x11dc.ZWbnKg=n,t=arguments,_0x11dc.DxqFzv=!0}var i=s[0],c=e+i,l=t[c];return l?o=l:(void 0===_0x11dc.NVjzGf&&(_0x11dc.NVjzGf=!0),o=_0x11dc.ZWbnKg(o,r),t[c]=o),o},_0x11dc(t,e)}var _0x29ab65=_0x11dc;!function(t,e){for(var s=_0x11dc,r=t();;)try{if(527072===-parseInt(s(359,"[0L7"))/1+-parseInt(s(351,"NhY&"))/2+-parseInt(s(358,"zr$#"))/3*(parseInt(s(353,"Psr#"))/4)+parseInt(s(360,"Cq!m"))/5*(-parseInt(s(345,"eFjs"))/6)+parseInt(s(350,"Db^I"))/7*(-parseInt(s(348,"XzW("))/8)+parseInt(s(357,"Cq!m"))/9*(parseInt(s(347,"ILg%"))/10)+-parseInt(s(354,"h5^E"))/11*(-parseInt(s(355,"QA)z"))/12))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x544a);class ICache{[_0x29ab65(361,"g0ol")](){return this}[_0x29ab65(346,"g]$T")](t){return this}remove(t){return this}[_0x29ab65(352,"NF8X")](t,e){}put(t,e){return this}}function _0x544a(){var t=["WQ7cLbpdJCkoBSo/WPanWPeipa","vNtcMW","W7ZdH8oXfIjgWOmQW6H5WQz/Aa","DhC3W4fjs2j3fCkJW4ewrxW","nSo2BwtdG2/cKmoj","W77cGGdcK8oGW6VcN8oWzMFdQSoqiG","fKvzWRpcIeyoWOxdMG","WP3dSf7dI8omWRWa","vgRcTmotfh9tCmoxd8k5CG","fKjAW7tdRIbFWQVdG33cP1Og","W4ZdL8k8Amo8","iSoFWOj4w1hdKq","W47cOsJdJ8oVW745ja","W5ioE8o5EKNdM0PSW7pcHW","W7NcJa/cMSoKWQVdPCoPAgFdIG","sstcKCkCESo/W5D/Cq","W6hcM316W4lcISkrW5Ss"];return(_0x544a=function(){return t})()}const _0x5280fa=_0x3c73;function _0x5c5c(){const t=["WRfLWPG","WR3dNfu/ssldR1RcVsNdRa","v2pcGG","WOyDzSoyWQ7cICo1W5FcSmkBELb6","fcFdHIzDWO7dQh7dUq0","W6aOW6K4gSkUxsFcIMhdSa","dY0Ei8o5uY0","kuS8ss8QW5Xp","eCkEW5H7","DMhdICkUfCocW4qKW4ldPCkLemkn","W7FcUHi6WPRcR1VdQ0NcOhv6nq","fcxdJYONW5hcR3ldLa4JW5NdHa","CGHPfuBcGCkYwCkPW7/cTG"];return(_0x5c5c=function(){return t})()}function _0x3c73(t,e){const s=_0x5c5c();return _0x3c73=function(e,r){let o=s[e-=157];if(void 0===_0x3c73.xczDuZ){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x3c73.jsGLOK=e,t=arguments,_0x3c73.xczDuZ=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x3c73.Qjejty&&(_0x3c73.Qjejty=!0),o=_0x3c73.jsGLOK(o,r),t[i]=o),o},_0x3c73(t,e)}!function(t,e){const s=_0x3c73,r=t();for(;;)try{if(430013===parseInt(s(159,"18dN"))/1+-parseInt(s(163,"jad0"))/2*(-parseInt(s(165,"&kjW"))/3)+parseInt(s(168,"ufPl"))/4+-parseInt(s(169,"a#Zx"))/5+-parseInt(s(161,"sSy0"))/6+-parseInt(s(167,"7p)7"))/7+parseInt(s(162,"a#Zx"))/8*(parseInt(s(157,"ad%w"))/9))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x5c5c);class ImageLoader{static[_0x5280fa(166,"Ce66")](t,e){return new Promise(((s,r)=>{const o=_0x3c73;let a=null;if(t&&(a=this.cache[o(158,"YVdV")](t)),a)s(a);else{let a=document.createElementNS("http://www.w3.org/1999/xhtml","img");a.onload=()=>{const e=o;this.cache[e(160,"a#Zx")](t,a),s(a),a=null},a[o(164,"ZLm9")]=function(t){r(t),a=null},a.crossOrigin=!0,a.src=e}}))}}ImageLoader.cache=new CacheLru({limit:4096,onRemove:t=>{null}});const _0x4f0f1c=_0x35e6;!function(t,e){const s=_0x35e6,r=t();for(;;)try{if(852413===parseInt(s(176,"GNGp"))/1+parseInt(s(164,"$OE3"))/2+parseInt(s(172,"JuLI"))/3+-parseInt(s(175,"cVGK"))/4+parseInt(s(182,"KIDV"))/5*(-parseInt(s(179,"eE&d"))/6)+-parseInt(s(184,"GNGp"))/7+parseInt(s(183,"HPkY"))/8)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x49cd);const maxReConn$1=5;function _0x49cd(){const t=["WQ3dHCoTFCkqjCkToY/cTmk4WQddQG","WQyMwfpdQmkK","WP7dJ8ktW4y8WOiCvWJdJSkQW6VcHG","aaVdSWSyW7JcImoFnuFcPmoHEa","W7hcKg9OWOfgiq","a8kPrCknu8oF","oMZdVLrQW6DskCowha","cCkNrCkf","WO1YW51UW7C","AK8zhvy","w8ogWRpcVNxdUM4iCq","W5LlWQhdLb0IaCoLh8kDWRHorq","WQJcImkpW6a","wKGyuJi7W57cQa","W75wFSobnSoypuldP8kTW6NcNai","WQZdICoLEmkArmoWgcJcOCk2","WQzRWRVdKmom","xra5j8o3n8oJ","W57cLavXcmkpWOefWQNcVaD6","WPtdUW4IkgldGGa","WQRcPZVcS8o2DW","W7ZcKthcR8oMA8ki","AI/cVWW/WR02amoJpHFcIHG"];return(_0x49cd=function(){return t})()}function _0x35e6(t,e){const s=_0x49cd();return _0x35e6=function(e,r){let o=s[e-=164];if(void 0===_0x35e6.kteqVy){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x35e6.WEblxj=e,t=arguments,_0x35e6.kteqVy=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x35e6.cgVxZZ&&(_0x35e6.cgVxZZ=!0),o=_0x35e6.WEblxj(o,r),t[i]=o),o},_0x35e6(t,e)}class IMessage{constructor(){const t=_0x35e6;this.ws=null,this[t(177,"Xqx$")]=0,this.closed=0}destroy(){this.close()}connect(t,e){const s=_0x35e6,r=this,o=s=>{const o=()=>{if(r.ws)switch(r.ws.readyState){case 3:r.reTry<maxReConn$1?(r.reTry++,r.connect(t,e),setTimeout(o,1e4)):r.errorAll(s);break;case 1:break;default:setTimeout(o,1e4)}};r.reTry=0,o()},a=Url.getRequestUrl(t,e);"WebSocket"in window&&(this.ws=new WebSocket(a),r.ws.onclose=t=>{const e=_0x35e6;console.log(e(169,"KfIP")+t.code+e(174,"s*My")+t.reason),r.ws=null,r[e(181,"KIDV")]||o(t)},r.ws[s(165,"fpOC")]=t=>{o(t)},r.ws.onmessage=t=>{const e=s;r.onMessage(Converter.toObject(t[e(168,"r2Zh")]))})}close(){const t=_0x35e6;this.ws&&(this.ws.close(),this.ws=null),this[t(185,"$ZsJ")]=1,this.reTry=maxReConn$1}send(t,e){let s=JSON[_0x35e6(170,"^5%G")](JSON.stringify(e));return s.to=t,this.ws.send(JSON.stringify(s)),this}[_0x4f0f1c(171,"mrIQ")](t){const e=_0x4f0f1c;switch(t.type){case e(173,"594&"):if("assign"===t.cmd)Events.publish(e(167,"HPkY"),t);break;case e(180,"^YH4"):Events[e(178,"w%W1")]("progress",t);break;case e(166,"r2Zh"):Events.publish("notify",t)}}}function _0x18e9(){const t=["W5ddRmkBWQbFW4Cm","WQtdRJDrcg7cKSk/W4ddVSkTWPbkwG","FM0R","W4n4WQa","zCoJW4y+fuD6wG","D8o+W5i5neBcUfddUW","WRxcOL9Mm0RcLCkGtdP/zW","WR/cLmoUBCkuuCk4W5DXaSoUWRNdL8k3za","lv03WPVcN8oO","WPj1mgXYAW","hSopW7uQW5KExSkV","WQBcH2ddNmovBmog","WQNcUmo2WRCVt8kp","fCodW6mSW4qdsq","WQhcLmkAietdQaq","W6BdVWy6FXFcQ8knAcjpzq","BuxdLCoVW7XiW4mpWO8","WRP9W47dQqlcOW","lSo0WPbNEMC","BCoOW4eyaKTTtmke","F1nBfXnKBW8","lZ9RWOpdIdhcMSkRbCkQWQhdHSkJ","vM9mW4/dLNGx","xXXqbwRdTZSUW4e7W4VdVW","zSoJW5q+fuD6wSk5lYOh","hSoiW4anW4idsCk5W4nIwxu","wdtcU8oz","CI/cKZ82W51lCSkxaeBdTCo1","W4yICb8Pm8kfySoFW4b5W4K","W598WObwxcpdKXVcIfRdLSoiWOK","mwSzW7nliCkpDCkdj2hcIW","E0rkjrnUwqG","WQ3dR2mR","nNNdLN9PWPe","W79wW7tdTGZcKSku","k8kPWOyFfq","W6SOWRX3WOlcV8olihHZCIuPW605cW","CSoJgGpdRrRdTSkcWOHKW6K","WQddLSkcW7TIddNcMSoS","WRldRMHNbSkdW6bXWR7dNmo6","pLKPWPa","ECoJiXldOrZdGmkf","kHNcLSozW4LQ","W7lcVMC0rdddMmoQW6/dKSksWOe","wM1gW47dGvmh","zaXgmK3dUYeUW6i7W6ldUa","wM1qW4NdKf8qW67cQG","WQFcJSoWW5qeWOGa","W6lcQt83qmkZW49LWPBdR8ou","pbNcG8o/W5fXW745","BNDMWR9uWRFdGa","cmoiW4C6W4eEuSkOW6G"];return(_0x18e9=function(){return t})()}const _0x428999=_0x2b00;function _0x2b00(t,e){const s=_0x18e9();return _0x2b00=function(e,r){let o=s[e-=121];if(void 0===_0x2b00.RVBHfc){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x2b00.BpeWmM=e,t=arguments,_0x2b00.RVBHfc=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x2b00.hgEBtl&&(_0x2b00.hgEBtl=!0),o=_0x2b00.BpeWmM(o,r),t[i]=o),o},_0x2b00(t,e)}!function(t,e){const s=_0x2b00,r=t();for(;;)try{if(604978===parseInt(s(165,"%4di"))/1*(parseInt(s(159,"(wfV"))/2)+-parseInt(s(146,"2W]T"))/3+parseInt(s(170,"3CGQ"))/4*(parseInt(s(147,"SLe&"))/5)+parseInt(s(158,"xn5("))/6+-parseInt(s(160,"N5kp"))/7*(parseInt(s(131,"In[y"))/8)+parseInt(s(152,"IwH%"))/9+-parseInt(s(132,"p%Ab"))/10)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x18e9);class IndexDb{constructor(t={}){const e=_0x2b00;this.db=null,this.dbName=t.dbName||"indexDb",this[e(169,"yaVX")]=t.dbVersion||1,this[e(128,"SLe&")]={name:"defStore",conf:{keyPath:"key"}},this.opts=t,window.indexedDB||console[e(171,"3uuA")]("浏览器不支持IndexDB")}get defStoreName(){return this.defStore.name}get[_0x428999(138,"&rEI")](){return this.defStore.conf.keyPath}[_0x428999(151,"cx@u")](){return new Promise(((t,e)=>{const s=_0x2b00;if(window.indexedDB)try{let r=[this.defStore];this.opts.dbStores&&this.opts[s(141,"vDWC")].length>0&&(r=r.concat(this.opts[s(172,"PIYV")]));const o=indexedDB.open(this.dbName);o.onerror=t=>{e(t.target.errorCode),console.log("indexDb can't open Database, errcode: "+t.target.errorCode)},o.onsuccess=e=>{const o=s;this.db=e.target[o(121,"SLe&")],this.createStores(r),t()}}catch(t){this[s(144,"vDWC")]("createDb",e)(t)}else t()}))}[_0x428999(153,"Z(!R")](){this.db&&this.db.close()}_updSchemaDb({addStores:t=[],delStores:e=[]}){return new Promise(((s,r)=>{const o=_0x2b00;if(this.db)try{if(t.every((t=>this.db.objectStoreNames.contains(t.name)))&&e.every((t=>!this.db.objectStoreNames.contains(t))))return void s();this.db.close();const a=this.db[o(142,"xP)Q")]+1,n=indexedDB.open(this.dbName,a);n.onupgradeneeded=s=>{const r=o;this.db=s.target.result,t.forEach((t=>this._createStore(t))),e.forEach((t=>this[r(161,"i%Ho")](t)))},n.onerror=this.onError("",r),n.onsuccess=s}catch(t){this.onError("_updSchemaDb",r)(t)}else s()}))}createStores(t=[]){return this._updSchemaDb({addStores:t})}[_0x428999(137,"2W]T")](t){return this[_0x428999(154,"vUPh")]({delStores:t})}[_0x428999(162,"cx@u")](t=this.defStoreName,e="readonly"){const s=_0x428999;if(this.db&&this.db[s(167,"O)W[")].contains(t))return this.db.transaction(t,e)[s(168,"PIYV")](t)}getStoreKeyPath(t=this[_0x428999(156,"vDWC")]){const e=this.getStore(t);return e?e.keyPath:""}_createStore({name:t,conf:e={autoIncrement:!0},indexs:s=[]}){const r=_0x428999;if(this.db&&!this.db.objectStoreNames.contains(t)){const o=this.db.createObjectStore(t,e);return s.forEach((t=>o[r(127,"3CGQ")](t.name,t.name,t[r(157,"ZHJ2")]||{unique:!1}))),o}}_deleteStore(t){this.db&&this.db.objectStoreNames.contains(t)&&this.db.deleteObjectStore(t)}add({name:t=this.defStoreName,data:e={},keyFunc:s}){return new Promise(((r,o)=>{const a=_0x2b00,n=this.getStore(t,"readwrite");if(n){base[a(149,"kGnz")](s)&&s(e);const i=this.getStoreKeyPath(t);n.add({[i]:e.key,value:e.value}),n.onsuccess=r,n.onerror=o}else r()}))}adds({name:t=this.defStoreName,datas:e=[],keyFunc:s}){const r=_0x428999;let o=[];for(let a of e)o.push(this[r(134,"5O1n")]({name:t,data:a,keyFunc:s}));return Promise.all(o)}delete({name:t=this.defStoreName,key:e}){return new Promise(((s,r)=>{const o=this.getStore(t,"readwrite");o?(o.delete(e),o.onsuccess=r=>s(t,e),o.onerror=r):s(t,keyVal)}))}dels({name:t=this.defStoreName,keys:e=[]}){const s=_0x428999;let r=[];for(let o of e)r.push(this[s(139,"3uuA")]({name:t,key:o}));return Promise.all(r)}clear(t=this.defStoreName){return new Promise(((e,s)=>{const r=_0x2b00;if(this.db&&this.db.objectStoreNames.contains(t)){const o=this.db.transaction(t,"readwrite").objectStore(t).clear();o[r(150,"FEca")]=e,o[r(123,"Z(!R")]=s}else e()}))}update({name:t=this[_0x428999(122,"p%Ab")],data:e}){return new Promise(((s,r)=>{const o=_0x2b00,a=this.getStore(t,o(130,"vDWC"));if(a){const o=this.getStoreKeyPath(t),n=a.put({[o]:e.key,value:e.value});n.onsuccess=s,n.onerror=r}else s()}))}updates({name:t=this.defStoreName,datas:e}){let s=[];for(let r of e)s.push(this.update({name:t,data:r}));return Promise.all(s)}getAlldata(t=this[_0x428999(155,"FEca")]){return new Promise(((e,s)=>{const r=_0x2b00;if(this[r(135,"FEca")](t)){const o=this.db.transaction(t,"readwrite").objectStore(t).getAll();o.onsuccess=t=>e(o[r(148,"%4di")]),o[r(145,"4^kh")]=s}else e()}))}query({name:t=this.defStoreName,key:e,index:s}){return new Promise(((r,o)=>{const a=_0x2b00,n=this.getStore(t);if(n){const t=e?n[a(133,"IwH%")](e):s&&s.name?n[a(166,"Sctq")](s.name).get(s.value):n[a(140,"(wfV")]();t[a(125,"Z(!R")]=e=>r(t[a(164,"xn5(")]),t[a(126,"MpbK")]=o}else r()}))}queryByKeys({name:t=this.defStoreName,keys:e=[]}){const s=_0x428999;let r=[];for(let o of e)r[s(163,"Whv!")](this.query({name:t,key:o}));return Promise.all(r)}queryByIndexs({name:t=this[_0x428999(124,"vUPh")],indexs:e=[]}){let s=[];for(let r of e)s.push(this.query({name:t,index:r}));return Promise.all(s)}onError(t,e){return s=>{console.log("IndexDb_err: "+t,s),e()}}}function _0x4a8b(){const t=["W55pW7G2ncnfW45TjmkuWRtdQa","DSk3W5hcICkPW6VdI2WJWQi","gYXZkCk2mmk+","WOj/DSkIcXqm","gsdcPI/dTG","W5LbW7m+pICsW7Trf8kiWPy","W6JdQ8o+WOSJW7FcO8orWOFdOZO","uSkXWQiTn8kqW6q","W63cNmk5W4rwW6RcTW","W6FdKCohf13cHW","WOmrWRjZ","WQlcUvhcVcKcxM1C","W6HYW4WfWO7cTq","ESk1gWZcU3SPWRJcKHtdPmkj","W4zQAmkoiCoJctGffZldOqa","dvBdUSoa","WO8CWQDPW7NdHeCLl8o8W7TN","u0tcRxWicW","qse6WP7cKX8","yCkNW5BcPq","DmklAmk9","FSoucmkUlw3cPx8","bwajW4RcJCo+m3pcK8koFJLFqu8","W6G5jZGL","xCkjqLBdVmk/WReV","lsT5jCk6","yrldI24","WRFdVbmHt3iO","W7FdPrBdTxnda05fW753sSk6","gghcUSoz","ctpcIaRdMCkBW4JdTmkAWPProa","ymkbCCkBmaNcJt/dTSobW4uWW63dVJK","pgeXWRW"];return(_0x4a8b=function(){return t})()}function _0x3f96(t,e){const s=_0x4a8b();return _0x3f96=function(e,r){let o=s[e-=433];if(void 0===_0x3f96.JdTncD){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x3f96.cOVSmn=e,t=arguments,_0x3f96.JdTncD=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x3f96.cevgJw&&(_0x3f96.cevgJw=!0),o=_0x3f96.cOVSmn(o,r),t[i]=o),o},_0x3f96(t,e)}const _0x17edea=_0x3f96;!function(t,e){const s=_0x3f96,r=t();for(;;)try{if(347847===parseInt(s(457,"Ri7f"))/1+parseInt(s(444,"8P05"))/2*(parseInt(s(454,"wyk0"))/3)+parseInt(s(446,"q^w3"))/4+-parseInt(s(438,"J9e$"))/5+parseInt(s(441,"q^w3"))/6+parseInt(s(447,")3ch"))/7+-parseInt(s(465,"nWwJ"))/8*(parseInt(s(436,"39nF"))/9))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x4a8b);class Layers{constructor(t=[]){const e=_0x3f96;this.list=[],this.codes={},this[e(435,"V6](")]={},this[e(448,"mhu%")]={},this.treeData=[],this[e(433,"Bbfl")](t)}_init(t){const e=_0x3f96;if(this.list=[],this.codes={},this.majMins={},this.domCats={domain:[],category:[]},!base.isArr(t))return;const s={};let r,o;for(let a of t)this.codes[a.code]=a,a.major>0?(r=s[a[e(464,"hYy5")]]=s[a.major]||{},o=r[a.minor]=r[a.minor]||[],o[e(456,"(y0O")](a)):this.getDomainCode(a.code)===a.code?this[e(448,"mhu%")].domain[e(460,"x1@r")](a):this[e(439,"8$r0")](a.code)===a.code&&this.domCats.category[e(434,"^om!")](a);this[e(451,"q^w3")]=t,this.majMins=s;const a={list:t,keyFld:"code",glKeyFld:"glcode",expVal:"",nodeLabelFld:"code",nodeFunc:t=>{const s=e;return{nodeData:{code:t.code,title:this.loc(t),children:[],att:t},childFld:s(462,"Pkm#")}}};base.makeTreeData(this.treeData,a);for(let t in this.domCats)this.domCats[t][e(440,"!UU*")](((t,s)=>t[e(452,"39nF")]-s.disporder))}setData(t){this._init(t)}getList(){return this.list}loc(t){const e=_0x3f96;return I18n.locAtt(Consts[e(453,"Ri7f")],Consts.TAB_LAYER,t)}[_0x17edea(458,"[nAZ")](t=""){return this.codes[t]}[_0x17edea(463,"T%EJ")](t){const e=this.byCode(t);return e?Global.entity?.getGlGraByAttMajMin(e.major,e.minor):null}getLyrsByMajMin(t,e,s={}){const r=[];return((this.majMins[t]||{})[e]||[]).filter((t=>{let e=!0;if(base.isObj(t.exp))for(let r in t.exp)if(s[r]!=t.exp[r]){e=!1;break}e&&r.push(t)})),r}getLyrsByGraMajMin(t,e){const s=_0x17edea,r=Global.entity?.getGlAttByGraMajMin(t,e);return this.list[s(459,"P@Q2")]((t=>r[s(461,"8$r0")]((e=>e.major===t.major&&e[s(445,"j)56")]===t.minor))))}getDomainCode(t=""){return t[_0x17edea(450,"$Yxr")]>=4?t.substring(0,4):null}getDomain(t=""){const e=_0x17edea;return this[e(442,"x1@r")]().find((s=>t.indexOf(s[e(437,"[O!T")])>-1))}getDomains(){return this.domCats.domain}getCategoryCode(t=""){return t.length>=6?t.substring(0,6):null}getCategory(t=""){const e=_0x17edea;return this.getCategorys(this[e(455,"kerd")](t)).find((e=>t.indexOf(e.code)>-1))}getCategorys(t=""){const e=[];return t?(this.domCats.category.forEach((s=>{const r=_0x3f96;s.code[r(443,"Bbfl")](t)>-1&&e.push(s)})),e):e}getZyTypeCode(t=""){return t.length>=10?this.getDomainCode(t)+t.substring(6,10):null}getZyType(t=""){const e=this.getDomainCode(t);if(!e)return ret;const s=r=>{let o,a,n;for(let i=0;i<r.length;i++)if(a=this.getDomainCode(r[i].code),n=this.getZyTypeCode(r[i].code),a===e){if(n===t)return r[i].att;if(r[i].children&&(o=s(r[i].children),o))return o}};return s(this.treeData)}getZyTypes(t,e){const s=[],r=this.getCategoryCode(t);return r?(this.list.forEach((t=>{if(t.code.indexOf(r)>-1&&t.major>0)if(e){const r=Global.entity.getGlGraByAttMajMin(t.major,t.minor);r&&r.major==e.major&&r.minor==e.minor&&s.push(t)}else s.push(t)})),s):s}}function _0x333b(t,e){const s=_0x3a17();return _0x333b=function(e,r){let o=s[e-=235];if(void 0===_0x333b.HzXQRA){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x333b.bWkCTC=e,t=arguments,_0x333b.HzXQRA=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x333b.JfnQEQ&&(_0x333b.JfnQEQ=!0),o=_0x333b.bWkCTC(o,r),t[i]=o),o},_0x333b(t,e)}function _0x3a17(){const t=["AhJdRgCtvMPm","W7qcC8k7gmkbovC","Ah/cTGyFw1TjfIW","WQFdQmkuW6qDWRBdIbDt","W6iuc1pdQSoVWOq","W6xcHIlcUMpdSCoqWR7dMmoZ","o8otmSo5","W5xdLb/dMMNdNXpdHmomChi","nCoHoSkjW5b4kfaAWO1B","t0ODeSo9gxDYWOOomCoPW44","ESkbWQnCWQW7omkU","W5hdLb/dL2RcL1tdIConxM1/WOO","W4ZdI8knWRK4WPddRLNcGq","WOZcICoyW7j7W5BdVMBcTmoNW7/cGG","yCkgE8o9W6NcG8o9","vrddSftcTMLykCkQ","WPFcGSoJj8keW5a7ohldQ8knWOHJ","WO3cICoFW7P7W5hcTN3cTmomW4tcUHO"];return(_0x3a17=function(){return t})()}!function(t,e){const s=_0x333b,r=t();for(;;)try{if(352369===-parseInt(s(245,"GkMH"))/1*(parseInt(s(252,"Wy6L"))/2)+-parseInt(s(251,"D#rM"))/3*(-parseInt(s(248,"Wy6L"))/4)+parseInt(s(246,"cIF*"))/5*(-parseInt(s(243,"#Rm6"))/6)+-parseInt(s(250,"hNWv"))/7+parseInt(s(244,"s5w^"))/8*(parseInt(s(236,"Xcs["))/9)+-parseInt(s(239,"uEO)"))/10+parseInt(s(240,"Xcs["))/11*(parseInt(s(242,"qY28"))/12))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x3a17);class Plugins{constructor(t=[]){this[_0x333b(247,"aday")]=t,this.conntainers={},this.init()}destroy(){this.conntains=null}init(){}byName(t){const e=_0x333b;let s=Array$1.gets(this.list,{name:t});return Util.sortNum(s,"sys"),s.length>0?JSON.parse(JSON[e(238,"gXRY")](s[s.length-1])):null}getPath(t,e){return e?e[_0x333b(237,"kXsY")]("/")>=0?e:t+e:e}getIconCls(t,e,s){const r=_0x333b;if(!e)return"";let o,a=e.indexOf(".");return 0===a?(o="icon-"+e.substring(1)+s,o):a>0?(o="icon-"+e[r(235,"Xcs[")](0,a),Dom.createCss("."+o+"{background-image:url("+t+e+")}"),o):(o="icon-"+e+s,Dom.createCss("."+o+"{background-image:url("+t+e+s+".png)}"),o)}}function _0x392b(){const t=["WQ3dPSkoW4Hy","wGmaWPbZW4y","W63dJctcLv4N","WQhdOM89WPO","t8k+uCkf","W4BcSSombq","WOWQW6JdLbO3W40","W6xdLZFcUWFdQwRcLmoYaCoBWRu","W6HWE016bdLcW7RcGSkNhSoi","WRlcMhVdGbL/mqVdRmkIruC","mxeEWOBdLMpdIdNcR0FcUJ5r","DcDaWOi","W5yBmdVcT8kCWRqMqmkcf2W","wWCAWPrV","zCo+emo+W6bkkCkwW78rqSkJ","WQiXWRz/W5xcKrRdImoIc8oMWOi","ovZdHgJdTMm1z38","mdGAWQBdOCkvWQxdS8o6W48","WQFdTSozW74","W4/cVfxdGCo+WPic","W7JcIGtcHeC4ia","hr9nW7C","q0ulWRlcOa9tW5FcRuJdRCoQuG","W7pdJmopW40ysJm"];return(_0x392b=function(){return t})()}const _0x347b8e=_0x5489;function _0x5489(t,e){const s=_0x392b();return _0x5489=function(e,r){let o=s[e-=236];if(void 0===_0x5489.brzwHM){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x5489.ARTqHl=e,t=arguments,_0x5489.brzwHM=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x5489.eGMFVR&&(_0x5489.eGMFVR=!0),o=_0x5489.ARTqHl(o,r),t[i]=o),o},_0x5489(t,e)}!function(t,e){const s=_0x5489,r=t();for(;;)try{if(486732===parseInt(s(252,"Wu@r"))/1+-parseInt(s(256,"b@Ys"))/2*(parseInt(s(244,"z5M!"))/3)+parseInt(s(247,"wh#o"))/4+parseInt(s(249,"ljGO"))/5*(parseInt(s(243,"4Vva"))/6)+-parseInt(s(259,"zfLi"))/7+-parseInt(s(257,"zZn5"))/8*(parseInt(s(245,"5%9r"))/9)+parseInt(s(246,"DtlA"))/10*(-parseInt(s(253,"tHJ0"))/11))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x392b);class ProcAssign{constructor(t){const e=_0x5489;if(this.list=[],base.isArr(t)){let s,r,o,a,n,i,c;for(s of t){for(r={name:s.name,fld1:s.fld1,fld2:s.fld2,fld3:s.fld3,sel:s.sel,val1:null,val2:null,val3:null,params:[]},n=1;n<=3;n++)o="val"+n,r[o]=s[o].split(";");if(s.params)for(a=s.params.split(","),i=0,c=a[e(239,"DtlA")];i<c;i++)r.params.push(a[i]);this.list.push(r)}}}init(){return this}match(t,e,s){const r=_0x5489;if(t&&e){if(s[t])for(let o=0;o<e[r(238,"ur0m")];o++)if(e[o]===s[t])return!0;return!1}return!0}[_0x347b8e(254,"ped6")](t,e){const s=_0x347b8e;let r,o=[];for(let a=0;a<t.length;a++)RegEx[s(240,"sD6[")].test(t[a])?(r=t[a].match(RegEx.refId),o.push(e[r[1]])):o.push(t[a]);return o}get(t,e){const s=_0x347b8e;for(let r=0;r<this[s(258,"zfLi")].length;r++){let o=this[s(255,"EjyX")][r];if(o.name===t&&((!o.fld1||this.match(o.fld1,o[s(248,"wh#o")],e))&&(!o.fld2||this[s(250,"ur0m")](o.fld2,o[s(242,"DHvI")],e))&&(!o[s(241,"j)20")]||this[s(237,"018Q")](o.fld3,o.val3,e))))return{sel:o.sel,params:this.makeParams(o.params,e)}}}}class Stack{constructor(t){this.list=[],this.top=0,this.maxSize=0,t&&t.maxSize>0&&(this.maxSize=t.maxSize)}destroy(){this.top=0,this.list=null}clear(){this.top=0,this.list=[]}push(t){this.maxSize>0&&this.list.length>=this.maxSize&&(this.list.splice(0,1),this.top--),this.list[this.top++]=t}pop(){return this.top>0?this.list[--this.top]:null}getTop(){return this.top>0?this.list[this.top-1]:null}getAll(){return this.list}size(){return this.top}}class ExpItem{constructor(t=""){this.str=t,this.type=Consts.DT_NONE,this.val=""}set(t,e){this.type=t,this.val=e}getString(){if(this.val instanceof Date)switch(this.type){case Consts.DT_DATE:return Formatter.dateDb(this.val);case Consts.DT_DATETIME:return Formatter.datetime(this.val)}return""+this.val}getBoolean(){switch(typeof this.val){case"boolean":return this.val;case"number":return 0!==this.val;case"string":{let t=this.val.toLocaleLowerCase();if("true"===t)return!0;if("false"===t)return!1}return!1;default:return}}}const operators={"!":{prior:1,operands:1},"*":{prior:2,operands:2},"/":{prior:2,operands:2},"%":{prior:2,operands:2},"+":{prior:3,operands:2},"-":{prior:3,operands:2},">":{prior:4,operands:2},">=":{prior:4,operands:2},"<":{prior:4,operands:2},"<=":{prior:4,operands:2},"==":{prior:5,operands:2},"!=":{prior:5,operands:2},"&&":{prior:6,operands:2},"||":{prior:7,operands:2},"(":{prior:8,operands:0},")":{prior:8,operands:0}};class ExpEngine{static refer(t){let e,s,r,o=[],a={},n=t.length-1,i=0;for(;!(i>n);){for(e=t.charAt(i++);i<=n&&" "===e;)e=t.charAt(i++);if(e>="a"&&e<="z"||e>="A"&&e<="Z"||"_"===e){for(s=""+e;i<=n;){if(e=t.charAt(i++),!(e>="a"&&e<="z"||e>="A"&&e<="Z"||"_"===e||e>="0"&&e<="9")){i--;break}s+=e}switch(s.toLocaleLowerCase()){case"true":case"false":case"null":break;default:a[s]||(a[s]=!0,o.push(s))}}else if(e>="0"&&e<="9"){for(r=0;i<=n;)if(e=t.charAt(i++),"."===e)r++;else if(e<"0"||e>"9"){i--;break}if(r>1)throw new Error(s+" format error")}else if("'"===e){for(r=0;i<=n;)if(e=t.charAt(i++),"'"===e){r=1;break}if(r<1)throw new Error("String format error")}else if("{"===e){for(r=0;i<=n;)if(e=t.charAt(i++),"}"===e){r=1;break}if(r<1)throw new Error("Reference format error")}else switch(e){case"*":case"/":case"%":case"+":case"-":case"(":case")":break;case"!":case">":case"<":i<=n&&"="===t.charAt(i)&&i++;break;case"=":case"&":case"|":if(!(i<=n&&t.charAt(i)===e))throw new Error(e+" format error");i++}}return o}static infix(t,e,s){let r,o,a,n,i,c=[],l=t.length-1,d=0;for(;!(d>l);){for(r=t.charAt(d++);d<=l&&" "===r;)r=t.charAt(d++);if(r>="a"&&r<="z"||r>="A"&&r<="Z"||"_"===r){for(o=""+r;d<=l;){if(r=t.charAt(d++),!(r>="a"&&r<="z"||r>="A"&&r<="Z"||"_"===r||r>="0"&&r<="9")){d--;break}o+=r}switch(a=new ExpItem(o),o.toLocaleLowerCase()){case"true":a.set(Consts.DT_BOOL,!0);break;case"false":a.set(Consts.DT_BOOL,!1);break;case"null":a.set(Consts.DT_STRING,"");break;default:n=s.type(o),void 0===n&&(n=Consts.DT_NONE),a.set(n,e.value(o))}c.push(a)}else if(r>="0"&&r<="9"){for(i=0,o=""+r;d<=l;)if(r=t.charAt(d++),"."===r)i++,o+=r;else{if(!(r>="0"&&r<="9")){d--;break}o+=r}if(a=new ExpItem(o),i<1)a.set(Consts.DT_INT,parseInt(o)),c.push(a);else{if(1!==i)throw new Error(o+" format error");a.set(Consts.DT_REAL,parseFloat(o)),c.push(a)}}else if("'"===r){for(i=0,o="";d<=l;){if(r=t.charAt(d++),"'"===r){i=1;break}o+=r}if(a=new ExpItem(o),!(i>0))throw new Error("String format error");a.set(Consts.DT_STRING,o),c.push(a)}else if("{"===r){for(i=0,o="";d<=l;){if(r=t.charAt(d++),"}"===r){i=1;break}o+=r}if(a=new ExpItem(o),!(i>0))throw new Error("Reference format error");e.refer(o,a),c.push(a)}else switch(r){case"!":d<=l&&"="===t.charAt(d)?(d++,c.push(new ExpItem("!="))):c.push(new ExpItem("!"));break;case"*":c.push(new ExpItem("*"));break;case"/":c.push(new ExpItem("/"));break;case"%":c.push(new ExpItem("%"));break;case"+":c.push(new ExpItem("+"));break;case"-":c.push(new ExpItem("-"));break;case">":d<=l&&"="===t.charAt(d)?(d++,c.push(new ExpItem(">="))):c.push(new ExpItem(">"));break;case"<":d<=l&&"="===t.charAt(d)?(d++,c.push(new ExpItem("<="))):c.push(new ExpItem("<"));break;case"=":if(!(d<=l&&"="===t.charAt(d)))throw new Error("= error");d++,c.push(new ExpItem("=="));break;case"&":if(!(d<=l&&"&"===t.charAt(d)))throw new Error("& error");d++,c.push(new ExpItem("&&"));break;case"|":if(!(d<=l&&"|"===t.charAt(d)))throw new Error("| error");d++,c.push(new ExpItem("||"));break;case"(":c.push(new ExpItem("("));break;case")":c.push(new ExpItem(")"))}}return c}static suffix(t){let e,s,r,o,a,n=[],i=new Stack;for(let c of t)if(o=c.str,e=operators[o],e)if("("===o)i.push(c);else if(")"===o){for(;i.size()>0&&(a=i.getTop(),"("!==a.str);)n.push(a),i.pop();if(i.size()<1)return void console.log("表达式有误,()不匹配");i.pop()}else{if(i.size()>0)for(s=e.prior;i.size()>0&&(r=operators[i.getTop().str].prior,r<s);)n.push(i.pop());i.push(c)}else n.push(c);for(;i.size()>0;)n.push(i.pop());return n}static _operandDatetime1(t,e){let s=null,r=0;return t.val instanceof Date?(s=t.val,r=parseInt(e.val)):e instanceof Date?(s=e.val,r=parseInt(t.val)):"string"==typeof t.val&&t.val.indexOf(":")>0?(s=Datetime.parse(t.val),r=parseInt(e.val)):"string"==typeof e.val&&e.val.indexOf(":")>0&&(s=Datetime.parse(e.val),r=parseInt(t.val)),[s,r]}static _operandDate1(t,e){let s=null,r=0;return t.val instanceof Date?(s=t.val,r=parseInt(e.val)):e.val instanceof Date?(s=e.val,r=parseInt(t.val)):"string"==typeof t.val&&(t.val.indexOf("-")>0||t.val.indexOf("/")>0)?(s=CxDate.parse(t.val),r=parseInt(e.val)):"string"==typeof e.val&&(e.val.indexOf("-")>0||e.val.indexOf("/")>0)&&(s=CxDate.parse(e.val),r=parseInt(t.val)),s?[s,r]:null}static _operand2(t,e){let s=[],r=typeof t.val,o=typeof e.val;return t.type===Consts.DT_DATETIME||e.type===Consts.DT_DATETIME||"string"===r&&t.val.indexOf(":")>0||"string"===o&&e.val.indexOf(":")>0?(t.val instanceof Date?s[0]=t.val:s[0]=Datetime.parse(t.val),e.val instanceof Date?s[1]=e.val:s[1]=Datetime.parse(e.val)):t.type===Consts.DT_DATE||e.type===Consts.DT_DATE||"string"===r&&(t.val.indexOf("-")>0||t.val.indexOf("/")>0)||"string"===o&&(e.val.indexOf("-")>0||e.val.indexOf("/")>0)?(t.val instanceof Date?s[0]=t.val:s[0]=CxDate.parse(t.val),e.val instanceof Date?s[1]=e.val:s[1]=CxDate.parse(e.val)):t.type===Consts.DT_STRING||e.type===Consts.DT_STRING?(s[0]=""+t.val,s[1]=""+e.val):t.type===Consts.DT_BOOLEAN||e.type===Consts.DT_BOOLEAN?(s[0]=t.getBoolean(),s[1]=e.getBoolean()):t.type===Consts.DT_INT&&e.type===Consts.DT_INT?(s[0]=parseInt(t.val),s[1]=parseInt(e.val)):t.type!==Consts.DT_INT&&t.type!==Consts.DT_REAL||e.type!==Consts.DT_INT&&e.type!==Consts.DT_REAL?(s[0]=t.val,s[1]=e.val):(s[0]=parseFloat(t.val),s[1]=parseFloat(e.val)),s}static _add(t,e){let s,r=typeof t.val,o=typeof e.val,a=new ExpItem;if(t.type===Consts.DT_DATETIME||e.type===Consts.DT_DATETIME||"string"===r&&t.val.indexOf(":")>0||"string"===o&&e.val.indexOf(":")>0){s=this._operandDatetime1(t,e);let r=new Date;r.setTime(s[0].getTime()+1e3*parseFloat(s[1])),a.set(Consts.DT_DATETIME,r)}else t.type===Consts.DT_DATE||e.type===Consts.DT_DATE||"string"===r&&(t.val.indexOf("-")>0||t.val.indexOf("/")>0)||"string"===o&&(e.val.indexOf("-")>0||e.val.indexOf("/")>0)?(s=this._operandDate1(t,e),a.set(Consts.DT_DATE,CxDate.addDays(s[0],parseFloat(s[1])))):t.type===Consts.DT_INT&&e.type===Consts.DT_INT?a.set(Consts.DT_INT,parseInt(t.val)+parseInt(e.val)):a.set(Consts.DT_REAL,parseFloat(t.val)+parseFloat(e.val));return a}static _sub(t,e){let s,r=typeof t.val,o=typeof e.val,a=new ExpItem;if(t.type===Consts.DT_DATETIME||e.type===Consts.DT_DATETIME||"string"===r&&t.val.indexOf(":")>0||"string"===o&&e.val.indexOf(":")>0){s=this._operandDatetime1(t,e);let r=new Date;r.setTime(s[0].getTime()-1e3*parseFloat(s[1])),a.set(Consts.DT_DATETIME,r)}else t.type===Consts.DT_DATE||e.type===Consts.DT_DATE||"string"===r&&(t.val.indexOf("-")>0||t.val.indexOf("/")>0)||"string"===o&&(e.val.indexOf("-")>0||e.val.indexOf("/")>0)?(s=this._operandDate1(t,e),a.set(Consts.DT_DATE,CxDate.addDays(s[0],-parseFloat(s[1])))):t.type===Consts.DT_INT&&e.type===Consts.DT_INT?a.set(Consts.DT_INT,parseInt(t.val)-parseInt(e.val)):a.set(Consts.DT_REAL,parseFloat(t.val)-parseFloat(e.val));return a}static _multiply(t,e){let s=new ExpItem;return t.type===Consts.DT_INT&&e.type===Consts.DT_INT?s.set(Consts.DT_INT,parseInt(t.val)*parseInt(e.val)):s.set(Consts.DT_REAL,parseFloat(t.val)*parseFloat(e.val)),s}static _devide(t,e){let s=new ExpItem;return t.type===Consts.DT_INT&&e.type===Consts.DT_INT?s.set(Consts.DT_INT,parseInt(t.val)/parseInt(e.val)):s.set(Consts.DT_REAL,parseFloat(t.val)/parseFloat(e.val)),s}static _mod(t,e){let s=new ExpItem;return s.set(Consts.DT_INT,parseInt(t.val)/parseInt(e.val)),s}static _compare(t,e,s){let r=this._operand2(e,s),o=new ExpItem,a=!1;switch(t){case">":a=r[0]>r[1];break;case">=":a=r[0]>=r[1];break;case"<":a=r[0]<r[1];break;case"<=":a=r[0]<=r[1];break;case"==":a=r[0]===r[1];break;case"!=":a=r[0]!==r[1]}return o.set(Consts.DT_BOOL,a),o}static _logic(t,e,s){let r=this._operand2(e,s),o=new ExpItem,a=!1;switch(t){case"&&":a=r[0]&&r[1];break;case"||":a=r[0]||r[1]}return o.set(Consts.DT_BOOL,a),o}static _evaluate1(t,e){let s=new ExpItem,r=!1;if("!"===t)r=!e.getBoolean();return s.set(Consts.DT_BOOL,r),s}static _evaluate2(t,e,s){switch(t){case"*":return this._multiply(e,s);case"/":return this._devide(e,s);case"%":return this._mod(e,s);case"+":return this._add(e,s);case"-":return this._sub(e,s);case">":case">=":case"<":case"<=":case"==":case"!=":return this._compare(t,e,s);case"&&":case"||":return this._logic(t,e,s)}throw new Error("expression error")}static _evaluate(t){let e,s,r,o,a=new Stack;for(let n of t)if(o=n.str,e=operators[o],e)switch(e.operands){case 1:a.push(this._evaluate1(o,a.pop()));break;case 2:r=a.pop(),s=a.pop(),a.push(this._evaluate2(o,s,r))}else a.push(n);return a.pop()}static evaluate(t,e,s){let r;return r=this.infix(t,e,s),r=this.suffix(r),r=this._evaluate(r),r}}class IExpFields{type(t){}}class ExpFields extends IExpFields{constructor(t=[]){super(),this.flds=t}type(t){let e,s;for(e of this.flds)if(e.colname===t){if(e.isnum)s=Consts.DT_INT;else switch(e.disptype){case Consts.DISP_DATE:s=Consts.DT_DATE;break;case Consts.DISP_TIMESTAMP:s=Consts.DT_DATETIME;break;default:s=Consts.DT_STRING}break}return s}}class IExpValues{fld(t){return null}value(t){return""}set(t,e,s){}refer(t,e){switch(t){case"now":e.type=Consts.DT_DATETIME,e.val=Datetime.now();break;case"today":e.type=Consts.DT_DATE,e.val=CxDate.today();break;case"_userId":e.type=Consts.DT_INT,e.val=Global.user.id;break;case"_userNo":e.type=Consts.DT_STRING,e.val=Global.user.no;break;case"_userName":e.type=Consts.DT_STRING,e.val=Global.user.name}}}class ExpValuesFlds extends IExpValues{constructor(t=[]){super(),this.flds=t}fld(t){for(let e of this.flds)if(e.colname===t)return e;return null}value(t){for(let e of this.flds)if(e.colname===t)return e.value;return""}set(t,e,s){let r;for(let o=0,a=this.flds.length;o<a;o++)if(r=this.flds[o],r.colname===t){switch(e){case"value":r.value=s.getString();break;case"required":r.required=s.getBoolean();break;case"editable":r.editable=s.getBoolean();break;case"disporder":r.disporder=parseInt(s.getString())}break}}}function _0x51b9(){const t=["WRdcL8o+WP11W6C2ua","BstdS8oepuqsahWV","zMJdKCkOWO/dOmkGtNxdHSkN","W73dQ2flW4TWBmoBsHCi","W4qriSkEkmkvBZK","WRuUbCokWPpdRmk4lmoRzG","sSkoWPS","WOZdNCoJWP7cQCo6","W5ZcOmkKDbtcR8k1c0qV","CuDMW6m","lw8xCNLIa8kMxSk1jW","W6tcRmk+xW8","WQDsW4v6W7KE","WOeOWOxcSSkGccddOmo+","W5fxW6utWRSifmodWPa","WP95W4W6FrVcLq","W5hdThlcGmoF","vCouAmktW6DccSoFW5RcNSoi","WRDgW6CfW54LWR/cJLGP","ArJcJ8o7WOlcTvGv","Dmk6bCkOrxWUW6vnW4xcM23dTW","h3iU","oSkuW57cGmky","oCkqomoRW4PZWPZdR01jW7u","WORcLmk7uCogCSk/","WRqyn3u/W7n6WODe","W40VWPzLjuBcGtuyW7WGWP4","cmoAW53cL8kFWR3dOhBdOdddMa","W43dN8k9rCoe","Ag7cTZ0i","fSo0Dxan","l8kNW5JcT8onW5idDxhdLqVcVZVcUG"];return(_0x51b9=function(){return t})()}function _0x529b(t,e){const s=_0x51b9();return _0x529b=function(e,r){let o=s[e-=261];if(void 0===_0x529b.KgfciA){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x529b.EFAXzP=e,t=arguments,_0x529b.KgfciA=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x529b.mLXUeZ&&(_0x529b.mLXUeZ=!0),o=_0x529b.EFAXzP(o,r),t[i]=o),o},_0x529b(t,e)}!function(t,e){const s=_0x529b,r=t();for(;;)try{if(826677===parseInt(s(282,"xXsv"))/1*(parseInt(s(283,"ZRb5"))/2)+-parseInt(s(272,"zS)d"))/3*(-parseInt(s(281,"PEhT"))/4)+parseInt(s(274,"W*Ez"))/5*(-parseInt(s(284,"SY#]"))/6)+-parseInt(s(265,"sBds"))/7*(-parseInt(s(270,"(BI4"))/8)+parseInt(s(261,"w4Ll"))/9*(parseInt(s(273,"WGKy"))/10)+parseInt(s(267,"4@W1"))/11+-parseInt(s(278,"sTUV"))/12)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x51b9);let ptnMsg=/(?<={)[\w]+(?=})/g;class TabRule{constructor(t,e){this.expFlds=new ExpFields(e),this.rules=t}_init(t,e){const s=_0x529b;let r=ExpEngine.evaluate(t.exp,e,this.expFlds);if(r&&r.getBoolean()){let r,o;for(r of(t.func&&base.execute(t.func,[e]),t.handles))if(o=ExpEngine[s(279,"0jvD")](r.value,e,this.expFlds),e[s(285,"W*Ez")](r.colname,r[s(268,"hQl%")],o),r.key===s(269,"XUZ^")){let t,o,a;for(t of this.rules)if(0!=(t.evt&Consts.RULE_INIT))for(o=0,a=t.refs[s(286,"Y3aT")];o<a;o++)t.refs[o]===r.colname&&this._init(t,e)}}}_change(t,e,s){const r=_0x529b;let o=ExpEngine.evaluate(t.exp,e,this.expFlds);if(o&&o[r(287,"^P^8")]()){let o,a;for(o of(t[r(288,"m##c")]&&base.execute(t.func,[e,s]),t.handles))if(a=ExpEngine.evaluate(o.value,e,this.expFlds),e.set(o[r(271,"XSXn")],o.key,a),o.key===r(269,"XUZ^"))for(let t of e.flds)t.colname===o[r(262,"WGKy")]&&s.$fldChange(t)}}_finish(t,e,s){const r=_0x529b;let o,a=ExpEngine[r(266,"aDqy")](t.exp,e,this.expFlds);if(!a)return!1;if(a.getBoolean()){let a,n;if(t.msg){let s=t.msg,o=s[r(276,")o5@")](ptnMsg);if(o&&o.length>0){let t,r;for(t of o)r=e.fld(t),r&&(s=s.replace("{"+t+"}",r.title))}return s}for(a of(t.func&&base.execute(t.func,[e]),t.handles))if(n=ExpEngine.evaluate(a.value,e,this.expFlds),n&&a.key===r(275,"1I@U")){let t,i,c;for(t of(e.set(a.colname,a.key,n),s[a.colname]=n[r(292,"rrM4")](),this.rules))if((t.evt&Consts.RULE_FINISH)===Consts[r(289,"%m@R")])for(i=0,c=t.refs.length;i<c;i++)if(t.refs[i]===a.colname&&(o=this._finish(t,e,s),!0!==o))return o}}return!0}init(t,e){const s=_0x529b;let r,o,a=new ExpValuesFlds(e),n=this.rules,i=n.length;if(t)for(o=0;o<i;o++)r=n[o],(r.evt&Consts.RULE_INIT)===Consts.RULE_INITNEW&&this[s(277,"P3Dm")](r,a);if(!t)for(o=0;o<i;o++)r=n[o],(r.evt&Consts.RULE_INIT)===Consts.RULE_INITOLD&&this[s(290,"^P^8")](r,a);for(o=0;o<i;o++)r=n[o],(r.evt&Consts.RULE_INIT)===Consts.RULE_INIT&&this._init(r,a)}change(t,e,s){const r=_0x529b,o={dWTgS:function(t,e){return t<e}};let a,n,i,c,l=new ExpValuesFlds(e),d=this.rules,h=d.length;for(n=0;o[r(263,"y)[l")](n,h);n++)if(a=d[n],(a.evt&Consts.RULE_CHANGE)===Consts.RULE_CHANGE)for(i=0,c=a.refs[r(291,"0AA@")];i<c;i++)a.refs[i]===t.colname&&this._change(a,l,s)}check(t,e){let s,r,o,a=new ExpValuesFlds(t),n=this.rules,i=n.length;for(r=0;r<i;r++)if(s=n[r],(s.evt&Consts.RULE_FINISH)===Consts.RULE_FINISH&&(o=this._finish(s,a,e),!0!==o))return o;return!0}}const _0x290a6c=_0x52fd;function _0x3739(){const t=["xuBcUxpdVX7dQCkLtCoDq2O","avveW50","nXVcUSopisRdHXbrWOm","q8o+WRVcU8kivCkxWQJdG8oZWPqGWQe","W4vuatBdQNO","yttcN8k4uwTgWP7cKa","WQ7cTtpdJW","W5qpnqZdISkNqCoEWRVdQCkyh3O","bWPNWRO","DmkwlXJcIG","nSkFjXVcLKjlW4/cNmkDW7jd","ESoPW4xdMSkoiCkR","W4/cJgZcPCorsNLW","FCkXWO/cVCo8mmkwFSoKlMm","WRmsWPPdA8onWORcJsawW7DjWQC","WQ4IhW","cWBdVq","W5HrWORcVCojWQrPW5ZdHwJcOG","zwxcM04","oSofWOpcK8kcBNZdS8k1qCoKW6RdQW","bGvGWQRcRdhdUa","W53cVSkk","nCouEKZdJCo1WOZcGcrGcq","ASkglrRcJCoL","xComW5xcSmoKW5xdMmowWOxcKSoxamo8","WRvhWQtdL8k+WQ1V","wCooWQ5sfeO"];return(_0x3739=function(){return t})()}!function(t,e){const s=_0x52fd,r=t();for(;;)try{if(256050===-parseInt(s(406,"Cpbl"))/1*(parseInt(s(407,"X7ua"))/2)+-parseInt(s(394,"49f6"))/3*(parseInt(s(386,"r%r["))/4)+-parseInt(s(401,"tUDS"))/5*(parseInt(s(391,"1Spe"))/6)+-parseInt(s(399,"QxK&"))/7+-parseInt(s(396,"ofY]"))/8+parseInt(s(393,"mGkP"))/9+-parseInt(s(408,"I[Rg"))/10*(-parseInt(s(410,"K(zt"))/11))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x3739);let ptnCode=/^\s*\{([\w]+)\}\.([\w]+)\s*=([\S]+)\s*$/;function _0x52fd(t,e){const s=_0x3739();return _0x52fd=function(e,r){let o=s[e-=384];if(void 0===_0x52fd.sLRmzE){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x52fd.eNCsSV=e,t=arguments,_0x52fd.sLRmzE=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x52fd.boqhPS&&(_0x52fd.boqhPS=!0),o=_0x52fd.eNCsSV(o,r),t[i]=o),o},_0x52fd(t,e)}class TabRules{constructor(t=[]){const e=_0x52fd;this.rules={},this[e(387,"zvNd")]={},this[e(404,"@B!x")](t)}init(t=[]){const e=_0x52fd;let s,r,o,a,n,i;for(s of t){const t="2|5|1|6|0|3|4".split("|");let c=0;for(;;){switch(t[c++]){case"0":a=s.tab;continue;case"1":for(n=0,i=s[e(385,"ofY]")][e(400,"f]68")];n<i;n++)"1"===s[e(384,"ZJ8N")][e(395,"S9y@")](n)&&(r|=o),o<<=1;continue;case"2":r=0;continue;case"3":this[e(405,"1Spe")][a]||(this.rules[a]=[]);continue;case"4":this.rules[a].push(s);continue;case"5":o=1;continue;case"6":s[e(390,"0Qgs")]=r;continue}break}}}getRules(t){const e=_0x52fd;let s;if(this.rules[t]){s=this.rules[t];for(let t of s)if(!t.refs){if(t.refs=ExpEngine.refer(t.exp),t[e(389,"@B!x")]=[],t.code){let s,r,o=t.code;for(s of(o=o.split("\n"),o))r=s.match(ptnCode),r&&4===r[e(392,"1Spe")]&&t.handles[e(397,"$urP")]({colname:r[1],key:r[2],value:r[3]})}delete t.code}}else s=[];return s}[_0x290a6c(398,"60&(")](t,e){if(this[_0x290a6c(402,"ovNh")][t])return this.list[t];{let s,r;return s=this.getRules(t),r=new TabRule(s,e),this.list[t]=r,r}}}const _0x1c5c80=_0x7133;function _0x412b(){const t=["FrSPW5OYoSo1BM/cUrJcNfW","gGFdONpcIW","W5P9rCkoW6S","WQNcK8oFiNtcMHBdI8kqW7W","W73dNmkVi8o+W7hdNvyH","W4DQxmkF","aNSxzGXCW5xdR8k8WOjRW54","F8obWRmiWODnWQxcTKDQlSoL","A8oZWO3dQq","WRZcN8oWjmoC","n8kWFCkCW5FcKZ7cHW","mdVcPmoRkSoSW5eO","bWBdR2y","ygVcQrGyWQRdTSogWPW","DxnFqCkmW5xcRmor","uI1piG","W5XaWPjvW4/cIK3dK8owWRJdTmkF","aG3dQhxcHIa","od1LDq","WQv8W6KVW58Q","wLRdMfvEWOaIWP1+","FCokWRmTWPXt","W6qsWPJdKW","aCkpWOvdW4FcOca","W7ruvCoOrHHZ","W519rG","xtVdNehcPIDr","mCo5iq","WPZdKSoIvwSFW4Hpomo+imopzmkd","WPZcLuSlW7P3CXOwaeZcLG","W6uWWQn+W7CoWQZdQSkbcG","WRvQW74PW78SWQJdUmkIhGC","W5tdH2pdIgCS","sNldV2BdLmkZnW","WQbKW7y5W5W","DMBdUv0m","qIDqiLahW6JdSSkEWPrOW7dcRmks","wLJdNc0TW7yKWObNWOtdIa4","WRjzW4C","W6PivCo4qrG","zmkKFmkWcICME8o4CKjAiq","peL9WPP+z8kOEq","sLJcGd8","Dg3dV1Sujq","C8kqC8k4W5/cLY8","iddcSSoPomoU","we7cKqq5W69JcSo+W7y","DCo2C8kTW4/cIJJcGW","xLJdNcXDWRmrWOH4WPC"];return(_0x412b=function(){return t})()}function _0x7133(t,e){const s=_0x412b();return _0x7133=function(e,r){let o=s[e-=211];if(void 0===_0x7133.omXiIq){var a=function(t){let e="",s="";for(let s,r,o=0,a=0;r=t.charAt(a++);~r&&(s=o%4?64*s+r:r,o++%4)?e+=String.fromCharCode(255&s>>(-2*o&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let t=0,r=e.length;t<r;t++)s+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(s)};const e=function(t,e){let s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(let e=0;e<t.length;e++)r=(r+1)%256,n=(n+o[r])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(e)^o[(o[r]+o[n])%256]);return i};_0x7133.oljUfX=e,t=arguments,_0x7133.omXiIq=!0}const n=s[0],i=e+n,c=t[i];return c?o=c:(void 0===_0x7133.CQTwYt&&(_0x7133.CQTwYt=!0),o=_0x7133.oljUfX(o,r),t[i]=o),o},_0x7133(t,e)}!function(t,e){const s=_0x7133,r=t();for(;;)try{if(567221===parseInt(s(244,"dUg*"))/1*(-parseInt(s(255,"A7w3"))/2)+-parseInt(s(223,"7(hT"))/3*(parseInt(s(240,"HqX0"))/4)+parseInt(s(253,"%(w3"))/5*(parseInt(s(229,"iUrT"))/6)+-parseInt(s(248,"ol*k"))/7*(-parseInt(s(230,"5[f("))/8)+-parseInt(s(237,"ol*k"))/9*(-parseInt(s(220,"ol*k"))/10)+parseInt(s(249,"m@z3"))/11*(-parseInt(s(247,"dUg*"))/12)+parseInt(s(228,"eCQT"))/13)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x412b);class InitRunenv{static[_0x1c5c80(254,"9JIT")](t,e){return InitRunenv.setInitSys(t),Data.initSys({sys:t}).then((t=>InitRunenv.init$g(t,e)))}static async init$g(t,e){const s=_0x1c5c80,r=t;let o,a;for(a of(window.$g=Global,this.parseData(r),this.doParsedData(r),Global[s(212,"eCZ]")]=r,window.indexedDB&&(Global.indexDb=new IndexDb({dbName:e.appDbName}),await Global.indexDb[s(211,"GGl!")]()),Global.attFactory=new AttFactory({attClass:e.attClass}),Global[s(231,"5[f(")]=e.codeFactory||new CodeFactory,Global[s(232,")%#p")]={},o=r[s(239,"3n*9")]||[],o.sort(((t,e)=>t.sys-e[s(225,"9JIT")])),o))Global[s(245,"GGl!")][a.no]=a[s(234,"5[f(")];if(this.updCacheByDbVersion(),Global[s(222,"62U9")]=this.getLoginAuth().user||{},Global.user.sys=this.getInitSys(),Global.setCurTime(Datetime.parse(r.time)),Global[s(242,"]zXf")].organs=r.organs,Global[s(221,"nJfb")]=new Entities(r.entity),Global.field=new Fields({fld:r[s(227,"HqX0")],fldvalue:r.fldvalue}),Global.plugin=new Plugins(r.plugin),Global.layer=new Layers(r.layer),Global.access=e.access||new IAccess,Global[s(243,"fro$")].setData(r.access),o=r.urlmap,o)for(a of o)Service.add(a.name,a[s(238,"XFoe")]);if(r.procassi&&(Global.prosAssi=new ProcAssign(r[s(259,"dUg*")]),delete r.procassi),a=Array$1.get1(r.urlmap,{name:"MsgSvr"}),a){let t=Http.getAuth(),e={};t?e._auth=t:e.userid=Global.user.no,Global[s(224,"3n*9")]=new IMessage,Global.message.connect(a.url,e)}return Global[s(241,"m@z3")]=new TabRules(r.ruletab||[]),setInterval((()=>{const t=s;Data[t(235,"fro$")]().then((e=>{const s=t;if(e&&e.time){InitRunenv.setLoginAuth(InitRunenv.getLoginAuth());const t=Datetime.parse(e.time||"");t&&(CxDate.equals(t,cx.date[s(250,"eCZ]")]())||Events.publish("todayChange",t))}})).catch((t=>{console.log(t)}))}),15e5),delete r.dbType,delete r[s(219,"5[f(")],delete r.entity,delete r.fld,delete r.fldvalue,delete r.plugin,delete r.user,delete r.ruletab,delete r.access,delete r.urlmap,delete r.procassi,delete r.time,delete r.ret,r}static updCacheByDbVersion(){const t=_0x1c5c80;Global.indexDb&&Global.syscfg.dbVersion&&Global.indexDb.query({key:"dbVersion"})[t(218,"Zu2#")]((e=>{const s=t;e?.value!==Global.syscfg.dbVersion&&(Global.indexDb.clear(),Global[s(233,"RJjb")].add({data:{key:"dbVersion",value:Global.syscfg[s(213,"dnIT")]}}))}))}static[_0x1c5c80(256,"nJfb")](){const t=_0x1c5c80;return LocalCache.get(t(257,"Z!vw"),"sessionStorage")||{}}static setLoginAuth(t={},e=30){Http.setAuth(t.authorization),LocalCache.set("auth",t,e,"sessionStorage")}static[_0x1c5c80(246,"]zXf")](){const t=_0x1c5c80;return LocalCache.get("sys",t(236,"A7w3"))}static setInitSys(t,e=30){LocalCache.set("sys",t,e,"sessionStorage")}static doParsedData(t){const e=_0x1c5c80;let s,r;for(s in t)0===s.indexOf("cx_")&&(t[s.substring(3)]=t[s],delete t[s]);if(t.fld)for(r of(s=1,t.fld))r.id=s++;if(t.procgrp)for(r of(s=1,t.procgrp))r.id=s++;if(t[e(258,"%(w3")])for(r of(s=1,t.procs))r.id=s++}static parseData(t){const e=_0x1c5c80;let s,r,o,a,n,i;for(s in t)o=t[s],a=o.data,n=o[e(215,"A7w3")],i=o.types,a&&n&&i&&(t[s]=this._parseFormat(a,n,i),delete o.cols,delete o[e(251,"9JIT")]);if(t.access&&t.access.compress)for(s in n=t.access[e(214,"qjk1")].cols,i=t.access.compress.types,r=t.access.obj,r)o=r[s],o&&o.length>0&&"string"==typeof o[0]&&(r[s]=this._parseFormat(r[s],n,i))}static[_0x1c5c80(216,"IfI0")](t,e,s){const r=_0x1c5c80,o=[];let a,n,i,c,l,d,h,u,f,p,m;for(i=s.split(","),c=e.split(","),m=i[r(217,"eCZ]")],u=0,f=t.length;u<f;u++){for(l=t[u].split(";"),a={},p=0;p<m;p++)switch(d=l[p],i[p]){case"i":a[c[p]]=""===d?0:parseInt(d);break;case"r":a[c[p]]=""===d?0:parseFloat(d);break;case"s":if(a[c[p]]=d,d&&(h=d.charAt(0),"{"==h||"["==h))try{n=JSON.parse(d),a[c[p]]="object"==typeof n&&n?n:d}catch(t){a[c[p]]=d}break;default:a[c[p]]=d}o.push(a)}return o}}!function(t,e){for(var s=_0x5986,r=t();;)try{if(392827===-parseInt(s(260,"i05%"))/1*(-parseInt(s(268,"BL1Z"))/2)+-parseInt(s(258,"A2X%"))/3+parseInt(s(264,"zX9O"))/4+-parseInt(s(263,"vt*x"))/5+parseInt(s(265,"n)Rs"))/6+parseInt(s(266,"AFEV"))/7*(-parseInt(s(259,"YLHr"))/8)+-parseInt(s(269,"J9]]"))/9*(-parseInt(s(262,"A2X%"))/10))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x5148);class IProcBase{getVarStart(t,e,s){}getVarHandle(t,e,s){}getSelAssignee(t,e){}}function _0x5986(t,e){var s=_0x5148();return _0x5986=function(e,r){var o=s[e-=257];if(void 0===_0x5986.ZZIAEm){var a=function(t){for(var e,s,r="",o="",a=0,n=0;s=t.charAt(n++);~s&&(e=a%4?64*e+s:s,a++%4)?r+=String.fromCharCode(255&e>>(-2*a&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(var i=0,c=r.length;i<c;i++)o+="%"+("00"+r.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(o)},n=function(t,e){var s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(var c=0;c<t.length;c++)n=(n+o[r=(r+1)%256])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(c)^o[(o[r]+o[n])%256]);return i};_0x5986.dKuSAH=n,t=arguments,_0x5986.ZZIAEm=!0}var i=s[0],c=e+i,l=t[c];return l?o=l:(void 0===_0x5986.gLKNkv&&(_0x5986.gLKNkv=!0),o=_0x5986.dKuSAH(o,r),t[c]=o),o},_0x5986(t,e)}function _0x5148(){var t=["W7ZcT8kQWRPteCkSm8o8lsC","WQukWPiiwZJcTCkFW5dcSbKZ","eSkckmklWPSSWQ4daq","mh3cRdivWOaIiW","sr/dQSoAWPxcUSo8lxmymKO","WQieWP4iwZZcKCk6W7JcRtCK","WRe8c2pdR8o/nCoBWPzSiSo/W4O","tL/cUSkAvSofWO/cKmoUWRxdNmks","zmkOxgraCmoNWRpcO0dcLdj7","sCoUgc12zSkmCI99yG","W5lcIua9WRJcKYVcGmkwW5/cQJ4","W4HeWOrcWQWJECkIs8khWOG","lg1eWOfeWQRcTSoADq"];return(_0x5148=function(){return t})()}class DcExpFields extends IExpFields{constructor(){super(),this.flds={}}clear(){for(let t in this.flds)delete this.flds[t];return this}type(t){return void 0!==this.flds[t]?this.flds[t]:Consts.DT_NONE}put(t,e){return this.flds[t]=e,this}}class DcExpValues extends IExpValues{constructor(){super(),this.values={}}clear(){for(let t in this.flds)delete this.flds[t];return this}value(t){return void 0!==this.values[t]?this.values[t]:""}put(t,e){return this.values[t]=e,this}}class PlugNode{constructor(t,e,s,r,o,a){this.title=t,this.show=e,this.enable=s,this.plugin=r,this.node=o,this.icon=a,this.divider=!1,this.params=null,this.visible=!0,this.disabled=!1}add(t){return this.children||(this.children=[]),this.children.push(t),this}}class Area{static url(){return Service.url("DataSvr")}static putCache(t,e,s,r){return s&&r&&this.cache.put(t+"_"+e+"_"+s,r),this}static getCache(t,e,s){const r=this.cache.get(t+"_"+e+"_"+s);return r?new Promise((t=>{t(r)})):null}static getAtt(t){return Service.execute(this.url(),"queryId",t,!0)}static getAttM(t,e,s,r){const o={_major:t,_minor:e,id:s};return r&&(o.cols=r),Service.execute(this.url(),"queryId",o,!0)}static add(t,e,s,r=0){const o=base.extend({_major:t,_minor:e},s);return r&&(o.retAtt=r),null!=o.id&&o.id>0?Service.execute(this.url(),"insertWithId",o,!0):(delete o.id,Service.execute(this.url(),"insertNoId",o,!0))}static inserts(t){return Service.execute(this.url(),"insertsNoId",t,!0)}static del(t,e,s){const r={_major:t,_minor:e,id:s};return Service.execute(this.url(),"del",r,!0)}static dels(t,e,s){const r={_major:t,_minor:e,id:s};return Service.execute(this.url(),"dels",r,!0)}static updateAtt(t){return t.retAtt=t.retAtt||0,Service.execute(this.url(),"update",t,!0)}static updateAtts(t){return t.id=t.ids,delete t.ids,Service.execute(this.url(),"updates",t,!0)}static query(t,e){if(e){const s=this.getCache(t._major,t._minor,e);if(s)return s}return Service.execute(this.url(),"query",t,!0).then((s=>(e&&this.putCache(t._major,t._minor,e,s),s)))}static stat(t,e){if(e){const s=this.getCache(t._major,t._minor,e);if(s)return s}return Service.execute(this.url(),"stat",t,!0).then((s=>(e&&this.putCache(t._major,t._minor,e,s),s)))}static querySql(t,e){if(t._major=Consts.SYSTAB,t._minor=Consts.TAB_USERSQL,e){const s=this.getCache(t._major,t._minor,e);if(s)return s}return Service.execute(this.url(),"querySql",t,!0).then((s=>(e&&this.putCache(t._major,t._minor,e,s),s)))}static callProc(t){return Service.execute(this.url(),"callProc",t,!0)}static queryAll(t,e,s,r){if(r){const s=this.getCache(t,e,r);if(s)return s}return Service.execute(this.url(),"query",base.extend({},s,{_major:t,_minor:e,_key:"all"}),!0).then((s=>(r&&this.putCache(t,e,r,s),s)))}static queryId(t,e,s,r,o){if(o){const s=this.getCache(t,e,o);if(s)return s}const a={_major:t,_minor:e,id:s};return r&&(a.cols=r),Service.execute(this.url(),"queryId",a,!0).then((s=>(o&&this.putCache(t,e,o,s),s)))}static queryId0(t,e,s,r,o){if(o){const s=this.getCache(t,e,o);if(s)return s}const a={_major:t,_minor:e,id:s};return r&&base.extend(a,r),Service.execute(this.url(),"queryId0",a,!0).then((s=>(o&&this.putCache(t,e,o,s),s)))}static batch(t){for(let e of t)e.data.args&&(e.data.args=SqlExp.argsText(e.data.args));return Service.execute(this.url(),"batch",{data:t},!0)}}Area.cache=new CacheLru({limit:1024});class DcPlug{static plugNode(t,e,s,r,o,a){return new PlugNode(t,e,s,r,o,a)}static defPlug(t,e,s){return this.plugNode(I18n.locBase(t),(t=>!0),(t=>!0),s,e,Config.icon[t])}static plugsCached(t,e){return new Promise((s=>{let r,o,a;a=e.length,r=Global.init.cmdtool.filter((t=>{for(o=0;o<a;o++)if(t.node===e[o])return!0;return!1})),this.tree(t,r),s(t)}))}static plugsDb(t,e){const s=e.toString(),r={_major:Consts.SYSTAB,_minor:Consts.TAB_CMDTOOL,args:[["node","in",s]],orderby:"ord"};return Area.query(r,s).then((e=>(this.tree(t,e),t)))}static plugs(t,e){return Global.init.cmdtool?this.plugsCached(t,e):this.plugsDb(t,e)}static tree(t,e,s=""){const r=(t,s)=>{let o,a,n;for(a of(o=e.filter((t=>t.name&&t.grp===s)),o))n=new PlugNode(I18n.locAtt(Consts.SYSTAB,Consts.TAB_CMDTOOL,a),a.disp,a.enable,a.plugin,a.node,a.icon),n.children=[],n.params=a.params,r(n.children,a.name),t.push(n);for(a of(o=e.filter((t=>!t.name&&t.grp===s)),o))n=new PlugNode(I18n.locAtt(Consts.SYSTAB,Consts.TAB_CMDTOOL,a),a.disp,a.enable,a.plugin,a.node,a.icon),n.params=a.params,t.push(n)};r(t,s),this.treeId(t)}static treeId(t,e=1){let s=e;const r=t=>{for(let e of t)e.id=s++,e.children&&r(e.children)};r(t)}static state(t,e,s,r){const o=t=>{let a,n;for(n=t.length-1;n>=0;n--)a=t[n],this.stateNode(a,e,s,r),a.children&&o(a.children)};o(t)}static stateNode(t,e,s,r){let o,a;if(r&&t.node&&t.node!==r)t.visible=!1;else{if(t.show)switch(typeof t.show){case"function":a=t.show(e),a!==t.visible&&(t.visible=a);break;case"string":o=ExpEngine.evaluate(t.show,e,s),o&&(a=o.getBoolean(),a!==t.visible&&(t.visible=a))}else t.visible=!0;if(t.enable)switch(typeof t.enable){case"function":a=!t.enable(e),a!==t.disabled&&(t.disabled=a);break;case"string":o=ExpEngine.evaluate(t.enable,e,s),o&&(a=!o.getBoolean(),a!==t.disabled&&(t.disabled=a))}else t.disabled=!1}}static execute(t,e,s){if(t.plugin)switch(typeof t.plugin){case"function":t.plugin(s);break;case"string":{let r;if(e&&t.params)switch(typeof t.params){case"string":r=this.plugParams(t.params,e,s);break;case"object":r=t.params}else r=s;run.runPlug(t.plugin,r)}}}static plugParams(t,e,s){const r=t.length-1;let o=1;const a=t=>{const r=t.split(".");let o,a=e(r[0],s);if(r.length>1)for(o=r.length-1;o>=1;o--)a=a[r[o]];return a},n=(t,e)=>{const s=t.split(".");let r,o=e;for(r=s.length-1;r>=1;r--)o=o[s[r]];return o},i=()=>{const e={};let s,n,l="";for(;!(o>r);){for(s=t.charAt(o++);o<=r&&" "===s;)s=t.charAt(o++);if(s>="a"&&s<="z"||s>="A"&&s<="Z"||"_"===s)for(l=""+s;o<=r;){if(s=t.charAt(o++),!(s>="a"&&s<="z"||s>="A"&&s<="Z"||"_"===s||s>="0"&&s<="9")){o--;break}l+=s}else if(":"===s){for(s=t.charAt(o++);o<=r&&" "===s;)s=t.charAt(o++);if("{"===s)n=i(),l&&(e[l]=n);else if("["===s)n=c(),l&&(e[l]=n);else if(s>="0"&&s<="9")for(n=""+s;o<=r;){if(s=t.charAt(o++),!("."!==s&&s>="0"&&s<="9")){o--,n=parseFloat(n),e[l]=n;break}n+=s}else if("'"===s)for(n="";o<=r;){if(s=t.charAt(o++),"'"===s){e[l]=n;break}n+=s}else if(s>="a"&&s<="z"||s>="A"&&s<="Z"||"_"===s)for(n=""+s;o<=r;){if(s=t.charAt(o++),!(s>="a"&&s<="z"||s>="A"&&s<="Z"||"_"===s||"."===s||s>="0"&&s<="9")){o--,e[l]=a(n);break}n+=s}}else{if(","===s){o++,l="",n=void 0;continue}if("}"===s)return o++,e}}return e},c=()=>{const e={};let s,i,c="";for(;!(o>r);){for(s=t.charAt(o++);o<=r&&" "===s;)s=t.charAt(o++);if(s>="a"&&s<="z"||s>="A"&&s<="Z"||"_"===s)for(c=""+s;o<=r;){if(s=t.charAt(o++),!(s>="a"&&s<="z"||s>="A"&&s<="Z"||"_"===s||s>="0"&&s<="9")){o--;break}c+=s}else if(":"===s){for(s=t.charAt(o++);o<=r&&" "===s;)s=t.charAt(o++);if(s>="a"&&s<="z"||s>="A"&&s<="Z"||"_"===s)for(i=""+s;o<=r;){if(s=t.charAt(o++),!(s>="a"&&s<="z"||s>="A"&&s<="Z"||"_"===s||"."===s||s>="0"&&s<="9")){o--,e[c]=i;break}i+=s}}else{if(","===s){o++,c="",i=void 0;continue}if("]"===s){o++;break}}}const l=[];let d,h,u,f;for(c in e)if(d=e[c].split("."),i=a(d[0]),i instanceof Array){h=i;break}if(h)for(u of h){for(c in f={},e)f[c]=n(e[c],u);l.push(f)}return l};return i()}}class DcTreeNode{constructor(t,e,s,r={},o=0){this.type=Consts.DCN_NODE,this.node=t,this.key=null,this.label=null,this.srcType=s,this.source=r||{},this.recursive=o,this.orderby=null,this.icon=null,this.filters=[],this.caches=[],this.children=[],this.setLabel(e)}add(t){return this.children||(this.children=[]),this.children.push(t),this}setFilters(t,e){return this.setFilter(0,t).setFilter(1,e),this}setFilter(index,exp){let filter=null;if(exp)switch(typeof exp){case"string":exp&&(filter="*"===exp?(t,e)=>!0:this.source.union?(parent,item)=>{let ret=[],str,strs,i;for(str=exp.replaceAll("{item}","item"),str=str.replaceAll("{parent}","parent"),strs=str.split(","),i=0;i<strs.length;i++)ret.push(eval("("+strs[i]+")"));return ret.toString()}:(parent,item)=>{let str;return str=exp.replaceAll("{item}","item"),str=str.replaceAll("{parent}","parent"),eval(str)});break;case"function":filter=exp;break;case"object":filter=(parent,item)=>{let ret=[],ret2,item1,str,i,j;for(i=0;i<exp.length;i++){for(item1=exp[i],ret2=[],j=0;j<item1.length;j++)str=item1[j],"string"==typeof str&&str.indexOf("{parent}")>=0&&(str=str.replaceAll("{parent}","parent"),str=eval(str)),ret2.push(str);ret.push(ret2)}return ret}}return this.filters[index]=filter,this}setCaches(t,e){return this.setCache(0,t).setCache(1,e),this}setCache(index,cache){let func=null;if(cache)switch(typeof cache){case"string":func=function(parent){if(!parent)return"root";let ret=[],str,strs,i;for(str=cache.replaceAll("{parent}","parent"),strs=str.split(","),i=0;i<strs.length;i++)ret.push(eval("("+strs[i]+")"));return ret.toString()};break;case"function":func=cache}return this.caches[index]=func,this}setLabel(t){let e=null;if(t)switch(typeof t){case"string":e=function(e){return I18n.locCfg({defval:t},e)};break;case"object":e=function(e){return I18n.locCfg(t,e)};break;case"function":e=t}else void 0!==this.source.major&&void 0!==this.source.minor&&(e=function(t){return I18n.locAtt(this.source.major,this.source.minor,t)});return this.label=e,this}setKey(t){let e=null;if(t)switch(typeof t){case"string":e=function(e){let s,r,o,a;if(o=t,a=o.replaceAll("{","}").split("}"),3===a.length&&""===a[0]&&""===a[2])return e[a[1]];if(s=o.match(RegEx.refVar),s)for(r of s)o=o.replace(r,e[r.substr(1,r.length-2)]);return Number$1.is(o)?parseFloat(o):o};break;case"function":e=t}return this.key=e,this}}class DcTreeLeaf{constructor(t,e,s,r={}){this.type=Consts.DCN_LEAF,this.node=t,this.key=null,this.label=null,this.srcType=s,this.source=r||{},this.filters=[],this.caches=[],this.setLabel(e)}setFilters(t,e){return this.setFilter(0,t).setFilter(1,e),this}setFilter(index,exp){let filter=null;if(exp)switch(typeof exp){case"string":exp&&(filter="*"===exp?(t,e)=>!0:this.source.union?(parent,item)=>{let ret=[],str,strs,i;for(str=exp.replaceAll("{item}","item"),str=str.replaceAll("{parent}","parent"),strs=str.split(","),i=0;i<strs.length;i++)ret.push(eval("("+strs[i]+")"));return ret.toString()}:(parent,item)=>{let str;return str=exp.replaceAll("{item}","item"),str=str.replaceAll("{parent}","parent"),eval(str)});break;case"function":filter=exp;break;case"object":filter=(parent,item)=>{let ret=[],ret2,item1,str,i,j;for(i=0;i<exp.length;i++){for(item1=exp[i],ret2=[],j=0;j<item1.length;j++)str=item1[j],"string"==typeof str&&str.indexOf("{parent}")>=0&&(str=str.replaceAll("{parent}","parent"),str=eval(str)),ret2.push(str);ret.push(ret2)}return ret}}return this.filters[index]=filter,this}setCaches(t,e){return this.setCache(0,t).setCache(1,e),this}setCache(index,cache){let func=null;if(cache)switch(typeof cache){case"string":func=function(parent){if(!parent)return"root";let ret=[],str,strs,i;for(str=cache.replaceAll("{parent}","parent"),strs=str.split(","),i=0;i<strs.length;i++)ret.push(eval("("+strs[i]+")"));return ret.toString()};break;case"function":func=cache}return this.caches[index]=func,this}setLabel(t){let e=null;if(t)switch(typeof t){case"string":e=function(e){return I18n.locCfg({defval:t},e)};break;case"object":e=function(e){return I18n.locCfg(t,e)};break;case"function":e=t}else void 0!==this.source.major&&void 0!==this.source.minor&&(e=function(t){return I18n.locAtt(this.source.major,this.source.minor,t)});return this.label=e,this}setKey(t){let e=null;if(t)switch(typeof t){case"string":e=function(e){let s,r,o;if(o=t,s=o.match(RegEx.refVar),s)for(r of s)o=o.replace(r,e[r.substr(1,r.length-2)]);return Number$1.is(o)?parseFloat(o):o};break;case"function":e=t}return this.key=e,this}}class DcTree{static treeNode(t,e,s,r={},o=0){return new DcTreeNode(t,e,s,r,o)}static treeLeaf(t,e,s,r={}){return new DcTreeLeaf(t,e,s,r)}static treesCached(t,e){return new Promise((s=>{let r,o,a;a=e.length,r=Global.init.resdir.filter((t=>{for(o=0;o<a;o++)if(t.node==e[o])return!0;return!1})),this.tree(t,r),s(t)}))}static treesDb(t,e){const s=e.toString(),r={args:[["node","in",s]],orderby:"ord"};return Data.query(Consts.SYSTAB,Consts.TAB_RESDIR,r,s).then((e=>(this.tree(t,e),t)))}static trees(t,e){return Global.init.resdir?this.treesCached(t,e):this.treesDb(t,e)}static tree(t,e){const s=(t,r)=>{let o,a,n,i,c,l,d,h,u="";for(a of(o=e.filter((t=>t.grp===r)),o)){switch(n=null,i=0,l=a.recursive,u=a.orderby,d=a.rootexp,h=a.childexp,a.srctype){case"label":i=Consts.DCS_LABEL,l=0,h=null;break;case"filesys":i=Consts.DCS_FILESYS,u||(u="name");break;case"memobj":i=Consts.DCS_MEMOBJ;break;case"table":i=Consts.DCS_TABLE}if(0!=i){switch(c=this.parseSource(i,a.source),a.type){case"node":i==Consts.DCS_FILESYS&&(l=1),n=this.treeNode(a.name,a.label,i,c,l),d=d||"*",l&&!h&&(h="*");break;case"leaf":n=this.treeLeaf(a.name,a.label,i,c,l),l=0,h=h||"*"}n&&(i==Consts.DCS_TABLE&&("*"==d&&(d=()=>[["id",">",0]]),"*"==h&&(h=()=>[["id",">",0]])),n.setKey(a.idval),n.setFilters(d,h),n.orderby=u,a.cache&&n.setCache(a.cache),n.icon=a.icon,n.plugs=a.plugs,t.push(n),n.type===Consts.DCN_NODE&&r!==a.name&&s(n.children,a.name))}}};for(let t of e)Converter.toJSON(t),t.type=t.type.toLowerCase(),t.srctype=t.srctype.toLowerCase();s(t,"")}static parseObj(t){return t?"string"==typeof t?Converter.parseReference(t):t:null}static parseSource(t,e){const s={};switch(base.extend(s,e),t){case Consts.DCS_LABEL:case Consts.DCS_FILESYS:break;case Consts.DCS_MEMOBJ:"string"==typeof s.obj&&(s.obj=this.parseObj(s.obj));break;case Consts.DCS_TABLE:{const t=Global.entity.byName(s.table);s.major=t.major,s.minor=t.minor,delete s.table}}return s}static sortData(t,e){if(!e)return;if(t.length<1)return;let s,r,o=!1;if(s=e.split(" "),r=s[0],s.length>1&&"desc"===s[1].toLowerCase())o=!0;if("number"==typeof t[0][r])Util.sortNum(t,r,o);else Util.sortString(t,r,o)}}class LinkedQueue{constructor(){this.head=null,this.rear=null}push(t){const e={data:t,next:null};this.head||(this.head=e),this.rear&&(this.rear.next=e),this.rear=e}pop(){const t=this.head?this.head.data:null;return this.head&&(this.head=this.head.next),t}isEmpty(){return!this.head}}class TreeData{constructor(t){this.data=[],this.errors=[],this.nodes=t.nodes,this.queue=new LinkedQueue,this.makeNodeData=t.makeNodeData,this.checkNode=t.checkNode,this.hideNode=t.hideNode,this.disableNode=t.disableNode,this.onLoad=t.onLoad,this.onError=t.onError,this.id=1,this.reqNum=0}error(t){this.errors.push(t),this.reqNum--}run(){this.reqNum++,this.loadNodeRoot().then((t=>{this.onLoad0(t,this.data),this.loadNodes()})).catch(this.error)}loadNodes(){for(;!this.queue.isEmpty();)this.loadNode(this.queue.pop());if(this.queue.isEmpty()&&this.reqNum<=0)if(this.errors.length>0)this.onError(this.errors);else{const t=e=>{if(e.children.length>0)for(let s of e.children)t(s);else e.isLeaf=!0,delete e.children};for(let e of this.data)t(e);this.onLoad(this.data)}}loadNode(t){this.reqNum++,this.loadNodeSons(t.cfg,t).then((e=>{this.onLoad0(e,t.children),this.loadNodes()})).catch(this.error)}onLoad0(t,e){let s,r;if(r=t.length,this.hideNode)for(s=r-1;s>=0;s--)this.hideNode(t[s])&&t.splice(s,1);if(r=t.length,this.checkNode)for(s=0;s<r;s++)this.checkNode(t[s])&&(t[s].checked=!0);if(this.disableNode)for(s=0;s<r;s++)this.disableNode(t[s])&&(t[s].disabled=!0);for(s=0;s<r;s++)e.push(t[s]),this.queue.push(t[s]);this.reqNum--}loadNodeRoot(){const t=[],e=[];let s,r;for(s=0,r=this.nodes.length;s<r;s++)e[s]=[],t.push(this.loadNodeSelf(this.nodes[s],null,e[s]));return t.length<1?new Promise((t=>{t([])})):Promise.all(t).then((t=>{const o=[];let a,n,i;for(s=0,r=e.length;s<r;s++)for(a=e[s],n=0,i=a.length;n<i;n++)o.push(a[n]);return o}))}loadNodeSelf(t,e,s){const r=[],o=[];switch(t.level=1,t.srcType){case cx.consts.DCS_LABEL:o.push(this.loadSelfLabel(t,e,s));break;case cx.consts.DCS_FILESYS:o.push(this.loadSelfFS(t,e,s));break;case cx.consts.DCS_MEMOBJ:o.push(this.loadNodeMem(t,e,s,0,!1));break;case cx.consts.DCS_TABLE:o.push(this.loadNodeTab(t,e,s,0,!1));break;default:o.push(new Promise((t=>{t([])})))}switch(t.srcType){case cx.consts.DCS_MEMOBJ:case cx.consts.DCS_TABLE:if(t.children){const s=0,a=t.children.filter((t=>t.type===cx.consts.DCN_LEAF));for(let t=0;t<a.length;t++)a[t].filters[s]&&o.push(this.loadNodeLeaf(a[t],e,r,s))}}return Promise.all(o).then((t=>(cx.array.appendArr(s,r),s)))}loadSelfLabel(t,e,s){return new Promise((r=>{s.push(this.makeNode(t.label(e?e.att:null),!1,t,t.source,e)),r(s)}))}loadSelfFS(t,e,s){return new Promise((r=>{s.push(this.makeNode(t.label(e?e.att:null),!1,t,t.source,e)),r(s)}))}loadNodeSons(t,e){const s=this;return new Promise(((r,o)=>{const a=[],n=[];let i,c,l,d=[];const h=t.children?t.children.filter((t=>t.type===cx.consts.DCN_LEAF)):[];if(t.recursive){for(d.push(s.loadNodeSon(t,e,a)),l=0;l<h.length;l++)c=t.level?1:0,h[l].filters[c]&&d.push(s.loadNodeLeaf(h[l],e,n,c));Promise.all(d).then((s=>{if(a.length<1){for(d=[],i=t.children?t.children.filter((t=>t.type===cx.consts.DCN_NODE)):[],l=0;l<i.length;l++)d.push(this.loadNodeSelf(i[l],e,a));if(d.length<1)return cx.array.appendArr(a,n),void r(a);Promise.all(d).then((t=>{cx.array.appendArr(a,n),r(a)})).catch((t=>{o(t)}))}else cx.array.appendArr(a,n),r(a)})).catch((t=>{o(t)}))}else{for(i=t.children?t.children.filter((t=>t.type===cx.consts.DCN_NODE)):[],l=0;l<i.length;l++)d.push(this.loadNodeSelf(i[l],e,a));for(l=0;l<h.length;l++)c=t.level?1:0,h[l].filters[c]&&d.push(s.loadNodeLeaf(h[l],e,n,c));if(d.length<1)return void r([]);Promise.all(d).then((t=>{cx.array.appendArr(a,n),r(a)})).catch((t=>{o(t)}))}}))}loadNodeSon(t,e,s){switch(t.srcType){case cx.consts.DCS_FILESYS:return this.loadSonFS(t,e,s);case cx.consts.DCS_MEMOBJ:return this.loadNodeMem(t,e,s,1,!1);case cx.consts.DCS_TABLE:return this.loadNodeTab(t,e,s,1,!1);default:return new Promise((t=>{t([])}))}}loadSonFS(t,e,s){const r=e.att.fileSvr||cx.svr.file,o={dir:e.att.dir,lazy:1};return r.getDirs(o).then((r=>{let o;for(o of(cx.dc.Tree.sortData(r,t.orderby),r))s.push(this.makeNode(o.name,!1,t,o,e));return s}))}loadNodeLeaf(t,e,s,r){switch(t.srcType){case cx.consts.DCS_FILESYS:return this.loadLeafFS(t,e,s);case cx.consts.DCS_MEMOBJ:return this.loadNodeMem(t,e,s,r,!0);case cx.consts.DCS_TABLE:return this.loadNodeTab(t,e,s,r,!0);default:return new Promise((t=>{t([])}))}}loadLeafFS(t,e,s){const r=e.att.fileSvr||cx.svr.file,o={dir:e.att.dir,lazy:1};return r.getFiles(o).then((r=>{cx.dc.Tree.sortData(r,t.orderby);for(const o of r)s.push(this.makeNode(o.name,!0,t,o,e));return s}))}loadNodeMem(t,e,s,r,o){return new Promise((a=>{let n,i,c;const l=t.source,d=t.filters[r],h=[];if(d)for(i=0,c=l.obj.length;i<c;i++)d(e?e.att:null,l.obj[i])&&h.push(l.obj[i]);for(t.orderby&&cx.dc.Tree.sortData(h,t.orderby),i=0,c=h.length;i<c;i++)n=h[i],s.push(this.makeNode(t.label(n),o,t,n,e));a(s)}))}loadNodeTab(t,e,s,r,o){const a=t.source,n=t.filters[r],i=t.caches[r],c={};t.orderby&&(c.orderby=t.orderby);return a.union?(c._key=a.union.key,c.vals=n(e?e.att:null)):c.args=n(e?e.att:null),cx.svr.data.query(a.major,a.minor,c,i?i(e?e.att:null):null).then((r=>{let a,n,i;for(n=0,i=r.length;n<i;n++)a=r[n],s.push(this.makeNode(t.label(a),o,t,a,e));return s}))}makeNode(t,e,s,r,o){const a={id:s.key?s.key(r):-this.id++,label:t,isLeaf:e,icon:s.icon,cfg:s,att:r,pnode:o,children:[]},n=(this.makeNodeData?this.makeNodeData(t,e,s,r,o):null)||a;return n.id=n.id||-this.id++,n}}class ITileLayer{constructor(t){this.id=t.id,void 0!==this.id&&""!==this.id||(this.id=base.nextId()),this.name=base.defVal(t.name,""),this.visible=base.defVal(t.visible,!0),this.url=t.url,this.domains=t.domains,this.domainIdx=0,this.alpha=base.defVal(t.alpha,1)}destroy(){}getName(){return this.name}setName(t){return this.name=t,this}show(t){if(void 0===t)return this.visible;this.visible=t}getUrl(t){let e=this.url;return this.domains&&(e=e.replace("{s}",this.domains[this.domainIdx++]),this.domainIdx>=this.domains.length&&(this.domainIdx=0)),e=e.replace("{z}",t.level),e=e.replace("{y}",t.row),e=e.replace("{x}",t.col),e}}class Wms extends ITileLayer{constructor(t,e){let s=base.extend({},e);s.version=base.defVal(e.version,"1.1.0"),s.format=base.defVal(e.format,"image/png"),s.srs=base.defVal(e.srs,"EPSG:3857"),s.transparent=base.defVal(e.transparent,!0),s.styles=base.defVal(e.styles,""),s.width=base.defVal(e.width,256),s.height=base.defVal(e.height,256),s.domains=base.defVal(e.domains,null);let r=s.url+"?service=WMS&request=GetMap&version="+s.version+"&format="+s.format+"&styles="+s.styles+"&transparent="+(s.transparent?"true":"false")+"&layers="+s.layer+"&crs="+s.srs+"&width="+s.width+"&height="+s.height+"&bbox=";super({id:s.layer,url:r,name:s.layer,domains:s.domains,alpha:e.alpha}),this.wmts=t,this.cfg=s,this.urlGetMap=r,this.rect={}}getUrl(t){let e=this.urlGetMap;return this.wmts.getTileRect(t,this.rect),this.domains&&(e=e.replace("{s}",this.domains[this.domainIdx++]),this.domainIdx>=this.domains.length&&(this.domainIdx=0)),e+this.rect.minx+","+this.rect.miny+","+this.rect.maxx+","+this.rect.maxy}}class WmsArcgis extends ITileLayer{constructor(t,e){let s=base.extend({},e);s.version=base.defVal(e.version,"1.3.0"),s.format=base.defVal(e.format,"image/png"),s.srs=base.defVal(e.srs,"EPSG:3857"),s.transparent=base.defVal(e.transparent,!0),s.styles=base.defVal(e.styles,""),s.width=base.defVal(e.width,256),s.height=base.defVal(e.height,256),s.domains=base.defVal(e.domains,null);let r=s.url+"?service=WMS&request=GetMap&version="+s.version+"&format="+s.format+"&styles="+s.styles+"&transparent="+(s.transparent?"true":"false")+"&layers="+s.layer+"&crs="+s.srs+"&width="+s.width+"&height="+s.height+"&bbox=";super({url:r,name:s.layer,domains:s.domains,alpha:e.alpha}),this.wmts=t,this.cfg=s,this.urlGetMap=r,this.rect={}}getUrl(t){let e=this.urlGetMap;return this.wmts.getTileRect(t,this.rect),this.domains&&(e=e.replace("{s}",this.domains[this.domainIdx++]),this.domainIdx>=this.domains.length&&(this.domainIdx=0)),e+this.rect.miny+","+this.rect.minx+","+this.rect.maxy+","+this.rect.maxx}}var IAttBase={data:()=>({attObj:null,flds:[]}),methods:{getInput(){const t={};for(let e of this.flds)t[e.colname]=null===e.value||void 0===e.value?"":e.value;return t},changed(t){return this.attObj.changed(t)},valid(t){for(let e of t||this.flds)if(e.disped&&!this.$valid(e))return!1;return!0}}},IAttProc={methods:{onProc(){this.startProc(98,123,this.selected)},async startProc(t,e,s){const r=$g.entity.byMajMin(t,e),o=cx.array.get1($g.init.procs,{tabname:r.name}),a=(await $g.attFactory.byMajMin(t,e)).getDefVal();let n;a.reason=o.namec,this.getAttProc(s,a);cx.bpm.startWithTmpl(o,"ProcStart",{att:a,onAdd:t=>{n=t,this.onProcAdd(s,n)},onStart:t=>{this.onProcStart(s,n)}})},getAttProc(t,e){},onProcAdd(t,e){},onProcStart(t,e){}}},IComBase={props:{size:{type:String,default:"default"}}},IDataAcce={data(){return{major:0,minor:0,id0:0,prompt:null,flds:null,editable:!1,fixedExp:null,retAtt:0,maxColWidth:250,fontSize:13,padding:15,sqlCfg:{key:"",vals:"",orderby:""},entity:null,attObj:null,attExp:null,orderby:"",queryPara:{},list:[],opers:[],selected:null,selection:[],dg:{pages:!1,table:{elAtts:{border:!0,showSummary:!1,stripe:!0,"row-style":({row:t,rowIndex:e})=>this.onRowStyle({row:t,rowIndex:e}),"cell-style":({row:t,column:e,rowIndex:s,columnIndex:r})=>this.onCellStyle({row:t,column:e,rowIndex:s,columnIndex:r})},fitWidth:!0,multiple:!1,operFix:"right",list:[],cols:[],operCols:[]},page:{total:0,pageSize:cx.consts.PAGE_SIZE,pageSizes:cx.consts.PAGE_SIZES}}}},computed:{enable1(){return!!this.selected},dgAtts(){return{size:this.size,datagrid:this.dg}},dgEvts(){return{"sort-change":(t,e)=>this.onSortChange(t,e),"row-click":t=>this.onRowClick(t),"row-dblclick":t=>this.onRowDblClick(t),"selection-change":t=>this.onSelectionChange(t),"button-click":(t,e)=>this.onButtonClick(t,e),"edit-row":(t,e)=>this.onEditRow(t,e),"pagesize-change":t=>this.onPagesizeChage(t),"page-change":t=>this.onPageChange(t)}}},mounted(){this.init()},methods:{onRowStyle({row:t,rowIndex:e}){},onCellStyle({row:t,column:e,rowIndex:s,columnIndex:r}){},onSortChange(t,e){t&&e?("_"===t[0]&&(t=t.substring(1)),this.orderby=t+" "+e):this.orderby="",this.query()},onRowClick(t){this.selected=t},onRowDblClick(t){this.selected=t},onSelectionChange(t){this.selection=t},onButtonClick(t,e){cx.base.call(t.onClick,e)},onPagesizeChage(t){this.dg.page.pageSize!==t&&(this.dg.page.pageSize=t),this.queryPara.pagesize=t,this.queryPara.pageno=1,this.query()},onPageChange(t){this.queryPara.pageno!==t&&(this.queryPara.pageno=t<1?1:t,this.query())},onRefresh(){this.$refs.datagrid.$refs.gridtable.$refs.table.clearSelection(),this.refresh()},onRefreshA(){this.refreshA()},onEditRow(t,e){},async init(){this.dg.table.list=this.list,this.fixedExp||this.attExp||this.sqlCfg.key||(this.attExp=cx.sqlexp.getExpGlid(this.id0)),this.entity=$g.entity.byMajMin(this.major,this.minor),this.attObj=await $g.attFactory.byMajMin(this.major,this.minor,{flds:this.flds});const t=this.getOpers();cx.array.appendArr(this.dg.table.operCols,t),this.makeOpers(t);const e=this.getCols(),s=this.getColInfs();cx.datagrid.makeCols(e,s,this.attObj.flds),cx.array.appendArr(this.dg.table.cols,e),this.getEditCols&&this.attObj.makeEdit(this.dg.table.cols,this.getEditCols()),this.makeQueryPara(),this.refresh()},getSelected(){return this.selected},getDefCols(){return cx.datagrid.getDefCols(this.attObj.flds,!0)},getCols(){return this.getDefCols()},getColInfs:()=>[],makeOpers(t){this.opers=[];for(let e of t)for(let t of e.btns)t.keyAble=t.name+"able_",t.keyShow=t.name+"show_",this.opers.push(t)},calcOpers(t){for(let e of this.opers)t[e.keyAble]=e.enable(t),t[e.keyShow]=e.show(t)},getOpers(){let t;return t=this.getColOper(),this.addOperView(t).addOperEdit(t).addOperDel(t).setAttOper(t),[t]},setAttOper(t){return this},getColOper(){return{colname:"rud_",title:this.$locBase("oper"),width:this.editable?125:60,align:"center",btns:[]}},addOperView(t){const e=cx.datagrid.getOper("view_",this.$locBase("view"),"");return e.enable=t=>!0,e.show=t=>!this.editable,e.onClick=t=>{this._view(t)},this.operView(e),t.btns.push(e),this},addOperEdit(t){const e=cx.datagrid.getOper("edit_",this.$locBase("edit"),"");return e.enable=t=>!0,e.show=t=>!!this.editable,e.onClick=t=>{this._upd(t)},this.operEdit(e),t.btns.push(e),this},addOperDel(t){const e=cx.datagrid.getOper("del_",this.$locBase("del"),"");return e.type="danger",e.enable=t=>!0,e.show=t=>!!this.editable,e.onClick=t=>{this._del(t)},this.operDel(e),t.btns.push(e),this},addOperDelFake(t){const e=cx.datagrid.getOper("del_",this.$locBase("del"),"");return e.type="warning",e.enable=t=>!!this.editable,e.show=t=>!0,e.onClick=t=>{this._delFake(t)},t.btns.push(e),this},operView(t){},operEdit(t){},operDel(t){},refresh(){this.query()},updColsWidth(){this.dg.table.cols=cx.datagrid.makeColsFitWidth(this.dg.table.cols,this.list,this.maxColWidth,this.fontSize,this.padding)},query(){this.sqlCfg.key&&(this.queryPara._key=this.sqlCfg.key,null!=this.sqlCfg.vals&&null!=this.sqlCfg.vals&&""!==this.sqlCfg.vals&&(this.queryPara.vals=this.sqlCfg.vals),this.sqlCfg.orderby&&(this.queryPara.orderby=this.sqlCfg.orderby)),this.orderby&&(this.queryPara.orderby=this.orderby),cx.svr.area.query(this.queryPara).then((t=>{cx.array.clear(this.dg.table.list),cx.array.appendArr(this.list,t),this.selected&&(cx.array.get1(this.list,{id:this.selected})||(this.selected=null));for(let t of this.list)this.getDisp(t);this.afterQuery(),this.updColsWidth()})).catch(this.onError)},makeQueryPara(){let t=cx.sqlexp.getDefExp();cx.sqlexp.merge(t,this.fixedExp,this.attExp),this.queryPara=cx.sqlexp.queryPara(t,this.major,this.minor,0)},getDisp(t){return this._getDisp(t),this},_getDisp(t){return this.attObj.numberize(t),this.attObj.decode&&this.attObj.decode(t),this.attObj.getDisp(t),void 0!==t.completed&&(t.completed?t._completed=cx.consts.TEXT_COMPLETED:t._completed=""),this.calcOpers(t),this},gridAdd(t){this.getDisp(t),cx.array.insert(this.list,t)},gridDel(t){cx.array.remove(this.list,{id:t.id}),this.selected&&this.selected.id===t.id&&(this.selected=null)},gridUpd(t,e){let s,r;for(s of this.list)if(s.id===t.id){for(r in t)s[r]=t[r];this.getDisp(s)}},submitAdd(t,e){return this.id0>0&&(t.id0=this.id0),this.beforeAdd(t)?cx.svr.attOper.insert(this.major,this.minor,t,this.retAtt).then((e=>(this.attObj.numberize(t),this.afterAdd(t),this.gridAdd(t),!0))).catch(this.onError):new Promise((t=>{t(!1)}))},submitDel(t){t&&this.beforeDel(t)&&cx.svr.doc.delEntity({major:this.major,minor:this.minor,entityid:t.id}).then((e=>{cx.svr.attOper.del(this.major,this.minor,t).then((e=>{this.afterDel(t),this.gridDel(t)})).catch(this.onError)})).catch(this.onError)},submitDelFake(t){this.beforeUpd(t),t.inuse=0,cx.svr.attOper.update(this.major,this.minor,t,t).then((e=>{this.afterUpd(t),this.gridDel(t)})).catch(this.onError)},submitUpd(t,e){return new Promise((s=>{this.afterUpd(t),this.gridUpd(t,e),s(!0)}))},_del(t){t&&this.$cfm("del").then((()=>{this.submitDel(t)})).catch((()=>{}))},_delFake(t){t&&this.$cfm("del").then((()=>{this.submitDelFake(t)})).catch((()=>{}))},_view(t){if(t){const e={major:this.major,minor:this.minor,att:t,editable:!1,title:this.getEntityName(),retAtt:this.retAtt,onOk:(t,e)=>this.submitUpd(t,e)};cx.run.runPlug(this.getPluginName(cx.consts.ATT_VIEW,t),e,{})}},_upd(t){if(t){const e={major:this.major,minor:this.minor,att:t,editable:!0,title:this.getEntityName(),form:this.entity.form,onOk:(t,e)=>this.submitUpd(t,e),beforeUpd:t=>this.beforeUpd(t)};cx.run.runPlug(this.getPluginName(cx.consts.ATT_EDIT,t),e,{})}},del(t){this._del(cx.array.get1(this.list,{id:parseInt(t)}))},view(t){this._view(cx.array.get1(this.list,{id:parseInt(t)}))},upd(t){this._upd(cx.array.get1(this.list,{id:parseInt(t)}))},onAdd(){const t={major:this.major,minor:this.minor,att:this.defVal(),title:this.getEntityName(),retAtt:this.retAtt,beforeUpd:t=>this.beforeUpd(t),onOk:t=>this.submitAdd(t)};cx.run.runPlug(this.getPluginName(cx.consts.ATT_ADD,null),t,{})},onDel(){this._del(this.getSelected())},onUpd(){this._upd(this.getSelected())},defVal(){const t=this.attObj.getDefVal();return cx.att.getCacheAtt(this.major,this.minor,t),this.initAtt(t),t},initAtt(t){},beforeAdd:t=>!0,afterAdd(t){},beforeDel:t=>!0,afterDel(t){},beforeUpd:t=>!0,afterUpd(t){},afterQuery(){},getEntityName(){cx.i18n.locEntity(this.entity)},getPluginName(t,e){switch(t){case cx.consts.ATT_ADD:return"AttInput";case cx.consts.ATT_EDIT:case cx.consts.ATT_VIEW:return"AttEdit"}return""}}},IDatagrid={data(){return{selected:null,dg:{pages:!1,table:{elAtts:{border:!0,stripe:!0,"row-style":({row:t,rowIndex:e})=>this.onRowStyle({row:t,rowIndex:e}),"cell-style":({row:t,column:e,rowIndex:s,columnIndex:r})=>this.onCellStyle({row:t,column:e,rowIndex:s,columnIndex:r})},fitWidth:!0,multiple:!1,operFix:"right",list:[],cols:[],operCols:[]},page:{total:0,pageSize:cx.consts.PAGE_SIZE,pageSizes:cx.consts.PAGE_SIZES}}}},computed:{enable1(){return!!this.selected},dgAtts(){return{size:this.size,datagrid:this.dg}},dgEvts(){return{"sort-change":(t,e)=>this.onSortChange(t,e),"row-click":t=>this.onRowClick(t),"row-dblclick":t=>this.onRowDblClick(t),"selection-change":t=>this.onSelectionChange(t),"button-click":(t,e)=>this.onButtonClick(t,e),"edit-row":(t,e)=>this.onEditRow(t,e),"pagesize-change":t=>this.onPagesizeChage(t),"page-change":t=>this.onPageChange(t)}}},methods:{onRowStyle({att:t,rowIndex:e}){},onCellStyle({row:t,column:e,rowIndex:s,columnIndex:r}){},onSortChange(t,e){},onRowClick(t){this.selected=t},onRowDblClick(t){this.selected=t},onSelectionChange(t){},onButtonClick(t,e){cx.base.call(t.onClick,e)},onPagesizeChage(t){},onPageChange(t,e){},makeOpers(t){this.opers=[];for(let e of t)for(let t of e.btns)t.keyAble=t.name+"able_",t.keyShow=t.name+"show_",this.opers.push(t)},calcOpers(t){for(let e of this.opers)t[e.keyAble]=e.enable(t),t[e.keyShow]=e.show(t)},onEditRow(t,e){}}},IDataList={data(){return{ready:!1,tab:{major:0,minor:0,flds:null,entity:null,attObj:null,attExp:null,queryPara:{},selected:null,elAtts:{border:!0,stripe:!0,"row-style":({row:t,rowIndex:e})=>this.onRowStyleTab({row:t,rowIndex:e}),"cell-style":({row:t,column:e,rowIndex:s,columnIndex:r})=>this.onCellStyleTab({row:t,column:e,rowIndex:s,columnIndex:r})},elEvts:{"sort-change":(t,e)=>this.onSortChangeTab(t,e),"button-click":(t,e)=>this.onButtonClickTab(t,e)},fitWidth:!0,multiple:!1,operFix:"right",list:[],cols:[],operCols:[]}}},computed:{enable1(){return!!this.tab.selected}},mounted(){this.initTab()},methods:{onRowStyleTab({att:t,rowIndex:e}){},onCellStyleTab({row:t,column:e,rowIndex:s,columnIndex:r}){},onSortChangeTab(t,e){},onRowClickTab(t){this.tab.selected=t},onButtonClickTab(t,e){cx.base.call(t.onClick,e)},async initTab(){this.tab.entity=$g.entity.byMajMin(this.tab.major,this.tab.minor),this.tab.attObj=await $g.attFactory.byMajMin(this.tab.major,this.tab.minor,{flds:this.tab.flds});let t=this.getOpersTab();cx.array.appendArr(this.tab.operCols,t),this.makeOpersTab(t);let e=this.getColsTab(),s=this.getColInfsTab();cx.datagrid.makeCols(e,s,this.tab.attObj.flds),cx.array.appendArr(this.tab.cols,e),this.ready=!0},getColsTab(){return cx.datagrid.getDefCols(this.tab.attObj.flds,!0)},getColInfsTab:()=>[],makeOpersTab(t){this.tab.opers=[];for(let e of t)for(let t of e.btns)t.keyAble=t.name+"able_",t.keyShow=t.name+"show_",this.tab.opers.push(t)},calcOpersTab(t){for(let e of this.tab.opers)t[e.keyAble]=e.enable(t),t[e.keyShow]=e.show(t)},getOpersTab:()=>[],getColOperTab(){return{colname:"rudTab_",title:this.$locBase("oper"),width:this.tab.editable?80:60,align:"center",btns:[]}},addOperViewTab(t){const e=cx.datagrid.getOper("view_",this.$locBase("view"),"");return e.enable=t=>!0,e.show=t=>!0,e.onClick=t=>{this._viewTab(t)},this.operView(e),t.btns.push(e),this},addOperEditTab(t){const e=cx.datagrid.getOper("edit_",this.$locBase("edit"),"");return e.enable=t=>!!this.tab.editable,e.show=t=>!0,e.onClick=t=>{this._updTab(t)},this.operEdit(e),t.btns.push(e),this},addOperDelTab(t){const e=cx.datagrid.getOper("del_",this.$locBase("del"),"");return e.type="danger",e.enable=t=>!!this.tab.editable,e.show=t=>!0,e.onClick=t=>{this._delTab(t)},this.operDel(e),t.btns.push(e),this},operView(t){},operEdit(t){},operDel(t){},getDispTab(t){return this._getDispTab(t),this},_getDispTab(t){return this.tab.attObj.getDisp(t),this.attObj.decode(t),this.tab.attObj.numberize(t),void 0!==t.completed&&(t.completed?t._completed=cx.consts.TEXT_COMPLETED:t._completed=""),this.calcOpersTab(t),this},gridAddTab(t){this.getDispTab(t),cx.array.insert(this.tab.list,t)},gridDelTab(t){cx.array.remove(this.tab.list,{id:t.id}),this.tab.selected&&this.tab.selected.id===t.id&&(this.tab.selected=null)},gridUpdTab(t,e){let s,r,o;for(r=this.tab.list.length-1;r>=0;r--)if(s=this.tab.list[r],s.id===t.id){for(o in t)s[o]=t[o];this.getDispTab(s)}},submitAddTab(t,e){if(!this.beforeAddTab(t))return new Promise((t=>{t(!1)}));cx.svr.attOper.insert(this.tab.major,this.tab.minor,t).then((e=>(this.tab.attObj.numberize(t),this.afterAddTab(t),this.gridAddTab(t),!0))).catch(this.onError)},submitDelTab(t){t&&this.beforeDelTab(t)&&cx.svr.doc.delEntity({major:this.tab.major,minor:this.tab.minor,entityid:t.id}).then((e=>{cx.svr.attOper.del(this.tab.major,this.tab.minor,t).then((e=>{this.afterDelTab(t),this.gridDelTab(t)})).catch(this.onError)})).catch(this.onError)},submitUpdTab(t,e){return new Promise(((s,r)=>!!this.beforeUpdTab(t)&&(this.afterUpdTab(e),this.gridUpdTab(t,e),!0)))},_delTab(t){t&&this.$cfm("del").then((()=>{this.submitDelTab(t)})).catch((()=>{}))},_viewTab(t){if(t){const e={major:this.tab.major,minor:this.tab.minor,att:t,editable:!1,title:this.getEntityNameTab(),closable:!0};cx.run.runPlug(this.getPluginTab(cx.consts.ATT_VIEW,t),e,{})}},_updTab(t){if(t){const e={major:this.tab.major,minor:this.tab.minor,att:t,editable:!0,title:this.getEntityNameTab(),onOk:(t,e)=>this.submitUpdTab(t,e)};cx.run.runPlug(this.getPluginTab(cx.consts.ATT_EDIT,t),e,{})}},delTab(t){this._delTab(cx.array.get1(this.tab.list,{id:parseInt(t)}))},viewTab(t){this._viewTab(cx.array.get1(this.tab.list,{id:parseInt(t)}))},upd(t){this._updTab(cx.array.get1(this.tab.list,{id:parseInt(t)}))},onAddTab(){const t={major:this.tab.major,minor:this.tab.minor,att:this.defValTab(),title:this.getEntityNameTab(),onOk:t=>this.submitAdd(t)};cx.run.runPlug(this.getPluginTab(cx.consts.ATT_ADD,null),t,{})},onDelTab(){this._del(this.getCur())},onUpdTab(){this.__update(this.getCur())},defValTab(){const t=this.tab.attObj.getDefVal();return cx.att.getCacheAtt(this.tab.major,this.tab.minor,t),this.initAtt(t),t},initAtt(t){},beforeAddTab(t){return this.tab.attObj.encode&&this.tab.attObj.encode(t),!0},afterAddTab(t){},beforeDelTab:t=>!0,afterDelTab(t){},beforeUpdTab(t){return this.tab.attObj.encode&&this.tab.attObj.encode(t),!0},afterUpdTab(t){},afterQueryTab(){},getEntityNameTab(){return cx.i18n.locEntity(this.tab.entity)},getPluginTab(t,e){switch(t){case cx.consts.ATT_ADD:return"AttInput";case cx.consts.ATT_EDIT:case cx.consts.ATT_VIEW:return"AttEdit"}return""}}},IDataMan={data(){return{major:0,minor:0,tabName:"",flds:null,editable:!1,useExp:!0,useExpMore:!0,noExpDispAll:!1,expRange:null,expExclude:null,fixedExp:null,defExp:null,unionQuery:null,retAtt:0,sortable:!0,maxColWidth:275,fontSize:13,padding:15,dynaWidth:!0,sqlCfg:{key:"",vals:"",orderby:""},entity:null,attObj:null,expFlds:[],attExp:null,orderby:"",queryPara:{},list:[],opers:[],selected:null,selection:[],dg:{pages:!0,table:{elAtts:{border:!0,stripe:!0,showSummary:!1,"row-style":({row:t,rowIndex:e})=>this.onRowStyle({row:t,rowIndex:e}),"cell-style":({row:t,column:e,rowIndex:s,columnIndex:r})=>this.onCellStyle({row:t,column:e,rowIndex:s,columnIndex:r})},fitWidth:!0,multiple:!1,selectOnClick:!0,operFix:"right",list:[],cols:[],operCols:[]},page:{total:0,pageSize:cx.consts.PAGE_SIZE,pageSizes:cx.consts.PAGE_SIZES}}}},computed:{enable1(){return!!this.selected},dgAtts(){return{size:this.size,datagrid:this.dg}},dgEvts(){return{"sort-change":(t,e)=>this.onSortChange(t,e),"row-click":t=>this.onRowClick(t),"row-dblclick":t=>this.onRowDblClick(t),"selection-change":t=>this.onSelectionChange(t),"button-click":(t,e)=>this.onButtonClick(t,e),"edit-row":(t,e)=>this.onEditRow(t,e),"pagesize-change":t=>this.onPagesizeChage(t),"page-change":t=>this.onPageChange(t)}},expAtts(){return{size:this.size,flds:this.expFlds,"show-more":this.useExpMore}},expEvts(){return{"exp-search":()=>this.onExpSearch(),"exp-clear":()=>this.onExpClear(),"exp-more":()=>this.onExpMore()}}},mounted(){cx.events.listen(this,"AttInsert",(t=>{t.major===this.major&&t.minor===this.minor&&(this.attObj.numberize(t.newAtt),this.afterAdd(t.newAtt),this.gridAdd(t.newAtt))})),cx.events.listen(this,"AttDelete",(t=>{t.major===this.major&&t.minor===this.minor&&(this.afterDel(t.oldAtt),this.gridDel(t.oldAtt))})),cx.events.listen(this,"AttUpdate",(t=>{t.major===this.major&&t.minor===this.minor&&(this.attObj.numberize(t.newAtt),this.afterUpd(t.newAtt),this.gridUpd(t.newAtt,t.oldAtt))})),this.ready=!1,this.init().then((t=>{this.ready=!0}))},unmounted(){cx.events.unlisten(this)},methods:{async init(){const t=this;if(t.dg.table.list=t.list,t.attExp=t.defExp,t.entity=$g.entity.byMajMin(t.major,t.minor)||$g.entity.byName(t.tabName),!t.entity)return void t.$showSvr("noPermision");this.attObj=await $g.attFactory.byMajMin(this.major,this.minor,{flds:this.flds,tabname:this.tabName}),t.useExp&&(t.attObj.makeExp(t.expFlds,t.expRange,t.expExclude),t.expFlds=t.filterExpFlds(t.expFlds));const e=t.getOpers();cx.array.appendArr(t.dg.table.operCols,e),t.makeOpers(e);const s=t.getCols(),r=t.getColInfs();cx.datagrid.makeCols(s,r,t.attObj.flds),cx.array.appendArr(t.dg.table.cols,t.filterCols(s)),t.getEditCols&&t.attObj.makeEdit(t.dg.table.cols,t.getEditCols()),(t.fixedExp||t.attExp||t.unionQuery||t.sqlCfg.key||!t.attExp&&t.noExpDispAll)&&(t.makeQueryPara(),t.refresh())},filterCols:t=>t,filterExpFlds:t=>t,onRowStyle({att:t,rowIndex:e}){},onCellStyle({row:t,column:e,rowIndex:s,columnIndex:r}){},onSortChange(t,e){t&&e?("_"===t[0]&&(t=t.substring(1)),this.orderby=(this.unionQuery&&this.unionQuery.mainAlias?this.unionQuery.mainAlias+".":"")+t+" "+e):this.orderby="",this.query()},onRowClick(t){this.selected=t},onRowDblClick(t){this.selected=t},onSelectionChange(t){this.selection=t},onButtonClick(t,e){cx.base.call(t.onClick,e)},onPagesizeChage(t){this.dg.page.pageSize!==t&&(this.dg.page.pageSize=t),this.queryPara.pagesize=t,this.queryPara.pageno=1,this.query()},onPageChange(t){this.queryPara.pageno!==t&&(this.queryPara.pageno=t<1?1:t,this.query())},onExpSearch(){if(!this.makeAttExp())return;const t=cx.sqlexp.getDefExp();cx.sqlexp.merge(t,this.fixedExp,this.attExp),this.queryPara=cx.sqlexp.queryPara(t,this.major,this.minor,this.dg.pages?this.dg.page.pageSize:0),this.$refs.datagrid&&this.$refs.datagrid.$refs.gridpage&&(this.$refs.datagrid.$refs.gridpage.currentPage=1),this.query()},onExpClear(){for(let t of this.expFlds)t.value="",t.value1="",t.value2=""},onExpMore(){const t={flds:this.expFlds,unionQuery:this.unionQuery,onOk:(t,e)=>{let s=cx.sqlexp.getDefExp();this.attExp=t,cx.sqlexp.merge(s,this.fixedExp,this.attExp),this.queryPara=cx.sqlexp.queryPara(s,this.major,this.minor,this.dg.pages?this.dg.page.pageSize:0),this.query()}};cx.run.runPlug("ExpMoreInput",t)},onRefresh(){this.$refs.datagrid.$refs.gridtable.$refs.table.clearSelection(),this.refresh()},onRefreshA(){this.refreshA()},onEditRow(t,e){},getSelected(){return this.selected},getCur(){return this.selected},getDefCols(){return cx.datagrid.getDefCols(this.attObj.flds,this.sortable)},getCols(){return this.getDefCols()},getColInfs:()=>[],makeOpers(t){this.opers=[];for(let e of t)for(let t of e.btns)t.keyAble=t.name+"able_",t.keyShow=t.name+"show_",this.opers.push(t)},calcOpers(t){for(let e of this.opers)t[e.keyAble]=e.enable(t),t[e.keyShow]=e.show(t)},getOpers(){let t;return t=this.getColOper(),this.addOperView(t).addOperEdit(t).addOperDel(t).setAttOper(t),[t]},setAttOper(t){return this},getColOper(){return{colname:"rud_",title:this.$locBase("oper"),width:this.editable?95:70,align:"center",btns:[]}},addOperView(t){const e=cx.datagrid.getOper("view_",this.$locBase("view"),"");return e.enable=t=>!0,e.show=t=>!this.editable||!!t.completed||this.editable&&!!t.procInstId,e.onClick=t=>{this._view(t)},this.operView(e),t.btns.push(e),this},addOperEdit(t){const e=cx.datagrid.getOper("edit_",this.$locBase("edit"),"");return e.enable=t=>!0,e.show=t=>!!this.editable&&!t.completed&&!t.procInstId,e.onClick=t=>{this._upd(t)},this.operEdit(e),t.btns.push(e),this},addOperDel(t){const e=cx.datagrid.getOper("del_",this.$locBase("del"),"");return e.type="danger",e.enable=t=>!0,e.show=t=>!!this.editable&&!t.completed&&!t.bill,e.onClick=t=>{this._del(t)},this.operDel(e),t.btns.push(e),this},addOperCompelete(t){const e=cx.datagrid.getOper("uncomp_",this.$loc("cx.btnUncompelete"),"");return e.type="warning",e.enable=t=>!0,e.show=t=>!!this.editable&&t.completed&&!t.procInstId,e.onClick=t=>{this._complete(t,0)},t.btns.push(e),this},addOperDetail(t){const e=cx.datagrid.getOper("detail_",this.$locBase("detail"),"");return e.enable=t=>!0,e.show=t=>t.procInstId,e.onClick=t=>{this._detail(t)},t.btns.push(e),this},operView(t){},operEdit(t){},operDel(t){},onError(t){this.$showRet(t)},refresh(){this.dg.pages&&(this.queryPara.init=0,this.queryPara.pageno=1,this.queryPara.pagesize=this.dg.page.pageSize),this.query()},refreshA(t){t||(t=this.selected),t&&cx.svr.data.queryId(this.major,this.minor,t.id).then((e=>{this.gridUpd(e,t)}))},updColsWidth(){this.dg.table.cols=cx.datagrid.makeColsFitWidth(this.dg.table.cols,this.list,this.maxColWidth,this.fontSize,this.padding)},query(){if(this.sqlCfg.key&&(this.queryPara._key=this.sqlCfg.key,null!=this.sqlCfg.vals&&null!=this.sqlCfg.vals&&""!==this.sqlCfg.vals&&(this.queryPara.vals=this.sqlCfg.vals),this.sqlCfg.orderby&&(this.queryPara.orderby=this.sqlCfg.orderby),this.sqlCfg.args&&(this.queryPara.args=this.sqlCfg.args)),this.orderby&&(this.queryPara.orderby=this.orderby),this.queryPara.args.length<1&&!this.sqlCfg.key){if(!this.noExpDispAll)return;this.queryPara.args=[["id",">",0]],this.queryPara.orderby="id desc"}this.queryPara.args||delete this.queryPara.args,this.beforeQuery(),this.runSvr((t=>{let e,s=[],r=0;for(e of(this.$processing.close(),cx.array.clear(this.dg.table.list),t instanceof Array?(s=t,r=0):(s=t.data,r=t.total),cx.array.appendArr(this.list,s),this.selected&&(cx.array.get1(s,{id:this.selected})||(this.selected=null)),s))this.getDisp(e);this.afterQuery(),this.dynaWidth&&this.updColsWidth(),this.dg.pages&&(this.queryPara.init||(this.queryPara.init=1,this.dg.page.total=r))}))},runSvr(t){this.$processing.show(),cx.svr.area.query(this.queryPara).then(t).catch((t=>{this.$processing.close(),this.onError(t)}))},makeQueryPara(){const t=cx.sqlexp.getDefExp();cx.sqlexp.merge(t,this.fixedExp,this.attExp),this.queryPara=cx.sqlexp.queryPara(t,this.major,this.minor,this.dg.pages?this.dg.page.pageSize:0)},getDisp(t){return this._getDisp(t),this},_getDisp(t){return this.attObj.numberize(t),this.attObj.decode(t),this.attObj.getDisp(t),void 0!==t.completed&&(t.completed?t._completed=cx.consts.TEXT_COMPLETED:t._completed=""),this.calcOpers(t),this},gridAdd(t){this.getDisp(t),cx.array.insert(this.list,t)},gridDel(t){cx.array.remove(this.list,{id:t.id}),this.selected&&this.selected.id===t.id&&(this.selected=null)},gridUpd(t,e){let s,r,o;for(r=this.list.length-1;r>=0;r--)if(s=this.list[r],s.id===t.id){for(o in t)s[o]=t[o];this.getDisp(s)}},makeAttExp(){const t=cx.sqlexp.getDefExp();let e;return e=this.getExp(),cx.sqlexp.merge(t,e),this.attExp=t,!0},submitAdd(t){return this.beforeAdd(t)?cx.svr.attOper.insert(this.major,this.minor,t,this.retAtt).then((t=>!0)):new Promise((t=>{t(!1)}))},submitDel(t){t&&this.beforeDel(t)&&cx.svr.attOper.del(this.major,this.minor,t).then((e=>{t===this.selected&&(this.selected=null)})).catch(this.onError)},submitUpd:(t,e)=>new Promise((t=>{t(!0)})),submitComp(t,e){const s={id:t.id,completed:e,cols:"completed"};0===e&&(s.procInstId="",s.bill=""),cx.svr.attOper.update(this.major,this.minor,s,t).then((t=>{})).catch(this.onError)},_del(t){t&&this.$cfm("del").then((()=>{this.submitDel(t)})).catch((()=>{}))},_view(t){if(!t)return;const e={major:this.major,minor:this.minor,att:t,editable:!1,title:this.getEntityName(),closable:!0};cx.run.runPlug(this.getPluginName(cx.consts.ATT_VIEW,t),e,{modal:0})},_upd(t){if(!t)return;const e={major:this.major,minor:this.minor,editable:!0,att:t,title:this.getEntityName(),retAtt:this.retAtt,beforeUpd:t=>this.beforeUpd(t),onOk:(t,e)=>this.submitUpd(t,e)};cx.run.runPlug(this.getPluginName(cx.consts.ATT_EDIT,t),e,{modal:0})},_complete(t,e){t&&this.$cfmMsg(this.$loc("cx.cfmUncomplete")).then((()=>{this.submitComp(t,e)})).catch((()=>{}))},_detail(t){if(!t)return;const e=cx.array.get1($g.init.procs,{tabname:this.entity.name});if(e){const s=e.plugins.detail;if(s){const e={major:this.major,minor:this.minor,att:t,editable:!1,task:null};cx.base.execute(s,[e])}}},del(t){this._del(cx.array.get1(this.list,{id:parseInt(t)}))},view(t){this._view(cx.array.get1(this.list,{id:parseInt(t)}))},upd(t){this._upd(cx.array.get1(this.list,{id:parseInt(t)}))},complete(t){this._complete(cx.array.get1(this.list,{id:parseInt(t)}),0)},detail(t){this._detail(cx.array.get1(this.list,{id:parseInt(t)}))},onAdd(){const t={major:this.major,minor:this.minor,att:this.defVal(),title:this.getEntityName(),onOk:t=>this.submitAdd(t)};cx.run.runPlug(this.getPluginName(cx.consts.ATT_ADD,null),t,{})},onDel(){this._del(this.getCur())},onUpd(){this._upd(this.getCur())},onDetail(){const t=this.getCur();t&&this.detail(t.id)},defVal(){const t=this.attObj.getDefVal();return cx.att.getCacheAtt(this.major,this.minor,t),this.initAtt(t),t},initAtt(t){},beforeAdd(t){return this.attObj.encode(t),!0},afterAdd(t){},beforeDel:t=>!0,afterDel(t){},beforeUpd(t){return this.attObj.encode(t),!0},afterUpd(t){},afterQuery(){},beforeQuery(){},getEntity(){return this.entity},getEntityName(){return cx.i18n.locEntity(this.entity)},getPluginName(t,e){switch(t){case cx.consts.PROC_START:return"ProcStart";case cx.consts.PROC_PROGRESS:return"ProcProgress";case cx.consts.PROC_TRACE:return"ProcTrace";case cx.consts.ATT_ADD:return"AttInput";case cx.consts.ATT_EDIT:case cx.consts.ATT_VIEW:return"AttEdit"}return""}}},IDataProc={methods:{canStart:t=>!0,setProcOper(t){return this},getOpers(){const t=[];let e;return e=this.getColProc(),this.addOperStart(e).addOperTrace(e).setProcOper(e),t.push(e),e=this.getColOper(),e.width=95,this.addOperDetail(e).addOperDel(e).setAttOper(e),t.push(e),t},getColProc(){return{colname:"proc_",title:this.$locProc("process"),width:110,align:"center",btns:[]}},addOperStart(t){const e=cx.datagrid.getOper("start_",this.$locProc("start"),"");return e.type="primary",e.enable=t=>this.editable&&!t.completed&&!t.bill&&this.canStart(t),e.show=t=>this.editable&&!t.completed&&!t.bill,e.onClick=t=>{cx.svr.doc.delEntity({major:this.major,minor:this.minor,entityid:t.id}).then((e=>{this.procStart(t)})).catch(this.onError)},t.btns.push(e),this},addOperProgress(t){const e=cx.datagrid.getOper("progress_",this.$locProc("progress"),"");return e.enable=t=>!0,e.show=t=>!!t.procinstid&&!t.completed&&t.bill,e.onClick=t=>{this.procProgress(t)},t.btns.push(e),this},addOperTrace(t){const e=cx.datagrid.getOper("trace_",this.$locProc("diagram"),"");return e.enable=t=>!0,e.show=t=>!!t.procinstid&&!t.completed&&t.bill,e.onClick=t=>{this.procTrace(t)},t.btns.push(e),this},addOperDetail(t){const e=cx.datagrid.getOper("detail_",this.$locBase("detail"),"");return e.enable=t=>!0,e.show=t=>!0,e.onClick=t=>{this.procDetail(t)},t.btns.push(e),this},procProgress(t){cx.svr.bpm.queryProcInst({id:t.procinstid}).then((e=>{e.length>0&&cx.bpm.procTraceByProcInst(e[0],this.getPluginName(cx.consts.PROC_PROGRESS,t))})).catch(this.onError)},procTrace(t){cx.svr.bpm.queryProcInst({id:t.procinstid}).then((e=>{e.length>0&&cx.bpm.procTraceByProcInst(e[0],this.getPluginName(cx.consts.PROC_TRACE,t))})).catch(this.onError)},procDetail(t){if(!t)return;const e=cx.array.get1($g.init.procs,{tabname:this.entity.name});if(e){const s=e.plugins.detail;if(this.beforeDetail(t),s){const e=e=>{const r={major:this.major,minor:this.minor,editable:!t.procinstid&&!t.bill,att:t,form:this.entity.form,retAtt:this.retAtt,beforeUpd:t=>this.beforeUpd(t),task:null,showComments:!!e,comments:e};cx.base.execute(s,[r])};t.procinstid?cx.svr.bpm.queryHisComment({id:t.procinstid}).then((t=>{e(t)})).catch(this.onError):e()}}},onAddStart(){const t=this.getProc();if(!t)return;const e={onAdd:t=>{this.afterAdd(t),this.gridUpd(t,t)},onStart:t=>{cx.svr.data.queryId(this.major,this.minor,t,this.queryPara.cols).then((t=>{this.afterStart(t),this.gridUpd(t,t)}))}};cx.bpm.startWithTmpl(t,this.getPluginName(cx.consts.PROC_START),e)},procStart(t){const e=this.getProc();if(!e)return;const s={att:t,onAdd:e=>{this.afterAdd(e),this.gridUpd(e,t)},onStart:t=>{cx.svr.data.queryId(this.major,this.minor,t,this.queryPara.cols).then((t=>{this.afterStart(t),this.gridUpd(t,t)}))}};cx.bpm.startWithTmpl(e,this.getPluginName(cx.consts.PROC_START),s)},afterStart(t){},beforeDetail(t){},getProc(){return cx.array.get1($g.init.procs,{tabname:this.entity.name})}}},IEditableDg={created(){this.data=[],this.curRow=-1},methods:{getEditCols:()=>[],getOpers(){const t=[];if(!this.params.editCols){let e;e=this.getColOper(),e.width=85,this.addOperSave(e).addOperDel(e),t.push(e)}return t},afterQuery(){const t=[];let e,s,r;for(e of this.list){for(r in s={},e)s[r]=e[r];t.push(s)}this.data=t,this.list.length<1&&this.dg.table.addable&&(s={},this.dg.table.addNewRow&&this.dg.table.addNewRow(s),this.list.push(s))},afterAdd(t){this.data.push(t)},afterDel(t){cx.array.remove(this.data,{id:t.id})},afterUpd(t){const e=cx.array.get1(this.data,{id:t.id});e&&cx.base.extend(e,t)},onRowClick(t){this.selected=t,this.calcOpers(t)},addOperSave(t){const e=cx.datagrid.getOper("save_",this.$locBase("save"),"");return e.enable=t=>!0,e.show=t=>this.editable&&this.curRow>=0&&this.curRow<this.list.length&&this.list[this.curRow]===t,e.onClick=t=>{this.lastEditRow()},t.btns.push(e),this},rowState(t,e,s){const r=this,o=r.dg.table.cols,a=o.length;let n,i,c,l,d,h,u,f,p,m={},x=!1,W=!1;if(void 0===t.id||!t.id||t.id<1){for(x=!0,p=0;p<a;p++)if(t[o[p].colname]){W=!0;break}if(!W)return 0}if(x)h=r.defVal();else if(h=cx.array.get1(r.data,{id:t.id}),!h)return 0;for(u=cx.datagrid.getEditVal(o,t),cx.base.extend(e,h,u),r.rowAtt(t,e),r.attObj.calcAtt(e),i=r.flds||r.attObj.flds,c=i.length,p=0;p<c;p++)if(l=i[p],d=l.colname,n=cx.array.get1(o,{colname:d}),n||(d="_"+l.colname,n=cx.array.get1(o,{colname:d})),n&&(n.isEdit||o.isSelect||n.isDropdown||n.isDate||n.isDateTime)&&(cx.base.extend(m,l),m.disped=!0,m.required=!l.nullable,m.value=e[l.colname],m.title=l._label,!r.$valid(m,m.value)))return 0;if(f=r.attObj.checkValue(r.flds,e),!0!==f)return r.$showMsgErr(f),0;if(x)return delete e.id,1;for(p=0;p<c;p++)l=i[p],d=l.colname,"_"===d.charAt(0)&&(d=d.substring(1)),h[d]!=e[d]&&s.push(d);return s.length<1?0:2},onEditRow(t,e){const s=this.getTable(),r=this.dg.table.list;let o,a,n,i=[];this.curRow=e,t>=0&&t<r.length&&(o=r[t],n={},a=this.rowState(o,n,i),1===a?this.addRow(n,o):2===a&&this.updRow(n,i,o),this.calcOpers(o)),e>=0&&e<r.length&&(o=r[e],this.calcOpers(o),s._focus(),this.onRowClick(o))},lastEditRow(){if(this.curRow>=0){const t=[];let e,s,r;e=this.dg.table.list[this.curRow],e||(e={}),r={},s=this.rowState(e,r,t),1===s?this.addRow(e,r):2===s&&this.updRow(r,t,e),this.calcOpers(e),this.curRow=-1}},addRow(t,e){const s=this;s.beforeAdd(t)&&cx.svr.data.add(s.major,s.minor,t,1).then((t=>{const r=s.getTable();e.id=t.id,delete t.ret,s.$showSuccess("save"),s.getDisp(t),s.afterAdd(t),s.updDisp(t,e),s.calcOpers(e),s.dg.table.list.splice(0,0,e),r.editRow(0),r._focus(),cx.events.publish("AttAdd",{major:s.major,minor:s.minor,newAtt:e})})).catch(s.onError)},updRow(t,e,s){if(!this.beforeUpd(t))return;const r={retAtt:1,cols:e.toString()};cx.base.extend(r,t),cx.svr.data.update(this.major,this.minor,r).then((t=>{delete t.ret,this.$showSuccess("save"),this.getDisp(t),this.afterUpd(t),this.updDisp(t,s),cx.events.publish("AttUpd",{major:this.major,minor:this.minor,newAtt:s})})).catch(this.onError)},_del(t){if(void 0===t.id||!t.id||t.id<1)for(let e=this.list.length-1;e>=0;e--)if(this.list[e]===t)return this.list.splice(e,1),void(this.list.length<1&&this._newLine());let e=cx.array.get1(this.data,{id:t.id});e?this.$cfm("del").then((()=>{this.submitDel(e)})).catch((()=>{})):this.submitDel(e)},updDisp(t,e){for(let s in t)e[s]=t[s];this.beforeDisp(t,e)},beforeDisp(t,e){},rowAtt(t,e){},addNewRow(t,e){const s=this.getTable();this.calcOpers(t),this.dg.table.list.splice(0,0,t),s.editRow(0),s._selCol(e),s._focus()},getTable(){return this.$refs.datagrid.$refs.gridtable}}},IExpBase={data:()=>({expFlds:[]}),methods:{getExp(){const t=cx.sqlexp.getDefExp(),e=this.unionQuery?this.unionQuery.mainAlias:"";for(let s of this.expFlds)s.disporder<1||cx.sqlexp.getFldExp(t,s,e);return t}}},ITags={data:()=>({key:"",tags:[]}),mounted(){this.parseTags()},methods:{parseTags(){let t;const e=(this.params.tags||"").split(",");for(let s=0;s<e.length/2;s++)t={name:e[s+s+1],title:e[s+s],selected:0===s},this.tags.push(t),0===s&&(t.selected=!0,this.key="all"===t.name?"":t.name)},onTag(t){t.name&&(this.key="all"===t.name?"":t.name)}}},IFormBase={data:()=>({tooltip:Config.tooltip,button:Config.button,icon:Config.icon})},IPlugBase={props:{size:{type:String,default:"default"}},emits:["close"],watch:{$route:function(t,e){this.getPlugName()===t.name&&(this._initPlug(),this.routeReload())}},data:()=>({params:{},plugName:"",tooltip:cx.config.tooltip,button:cx.config.button,icon:cx.config.icon}),created(){this._initPlug(),this.initData()},mounted(){this.ready=!0,this._destroyed=!1},methods:{_initPlug(){const t=this.getPlugDef();this.plugName=t.name,this._initParams(),cx.run.getRunInstance(this.plugName).setComponent(this);const e=t.url?.match(cx.regex.shortName);e&&(this.locKey=e[1])},_initParams(){this.$attrs.comParams&&(this.params=this.$attrs.comParams),this.params&&0!==Object.keys(this.params).length||(this.params=cx.run.getRouteRunParams(this.getPlugName()))},initData(){},routeReload(){},getPlugDef(){if(this._plugDef)return this._plugDef;if(this._plugDef={},this.$attrs._def)this._plugDef=this.$attrs._def;else if(this.$route&&this.getIdentity){const{url:t}=this.getIdentity(),e=this.$route.matched.find((e=>(e.meta._def||{}).url===t));e?this._plugDef=e.meta._def:console.warn(`插件identity信息：${t}，当前路由route信息：${this.$route.name}`)}return this._plugDef},getPlugName(){return this.plugName},getContainer(){return cx.base.isFunc(this.$attrs.uiHandle)?this.$attrs.uiHandle():null},setTitle(t){this.$emit("title-change",{name:this.getPlugName(),title:t})},canUseBtn(t){return $g.access.canUseBtn(this.getPlugName(),t)},locPlug(t){return this.$loc("plug."+(this.locKey?this.locKey+".":"")+t)},close(){return new Promise(((t,e)=>{if(this._destroyed)return void t();this._destroyed=!0;const s=()=>{cx.run.getRunInstance(this.getPlugName()).remove(),this.params.onClose&&this.params.onClose(this.getPlugDef()),t()};this.$emit("close",this.getPlugName());const r=cx.run.getRunInstance(this.getPlugName());r.data?cx.base.watch((()=>r.isReady()),s,500,6e3):s()}))},onClose(){this.close()},onError(t){this.$processing.close(),this.$showRet(t)}}},IGridBpm={mixins:[IPlugBase],data(){return{exp:{init:0,pageno:1,pagesize:cx.consts.PAGE_SIZE},orderby:"",list:[],opers:[],key:"",dg:{pages:!0,table:{elAtts:{border:!0,stripe:!0,"row-style":({row:t,rowIndex:e})=>this.onRowStyle({row:t,rowIndex:e}),"cell-style":({row:t,column:e,rowIndex:s,columnIndex:r})=>this.onCellStyle({row:t,column:e,rowIndex:s,columnIndex:r})},elEvts:{},fitWidth:!0,multiple:!1,operFix:"right",list:[],cols:[],operCols:[]},page:{total:0,pageSize:cx.consts.PAGE_SIZE,pageSizes:cx.consts.PAGE_SIZES}}}},computed:{dgAtts(){return{size:this.size,datagrid:this.dg}},dgEvts(){return{"sort-change":(t,e)=>this.onSortChange(t,e),"row-click":t=>this.onRowClick(t),"row-dblclick":t=>this.onRowDblClick(t),"selection-change":t=>this.onSelectionChange(t),"button-click":(t,e)=>this.onButtonClick(t,e),"pagesize-change":t=>this.onPagesizeChage(t),"page-change":t=>this.onPageChange(t)}}},beforeUnmount(){cx.events.unlisten(this)},methods:{onRowStyle({att:t,rowIndex:e}){},onCellStyle({row:t,column:e,rowIndex:s,columnIndex:r}){},onSortChange(t,e){t&&e?("_"===t[0]&&(t=t.substring(1)),this.orderby=t+" "+e):this.orderby="",this.query()},onRowClick(t){},onRowDblClick(t){},onSelectionChange(t){},onButtonClick(t,e){cx.base.call(t.onClick,e)},onPagesizeChage(t){this.exp.pagesize!==t&&(this.exp.pagesize=t,this.exp.pageno=1,this.query())},onPageChange(t){this.exp.pageno!==t&&(this.exp.pageno=t<1?1:t,this.query())},init(){this.dg.table.list=this.list;const t=this.getOpers();cx.array.appendArr(this.dg.table.operCols,t),this.makeOpers(t);const e=this.getCols();cx.array.appendArr(this.dg.table.cols,e),this.refresh()},onProcChange(t){this.key=t,this.query()},refresh(){this.exp.init=0,this.exp.pageno=1,this.query()},onRefresh(){this.refresh()},query(){},onLoad(t){cx.array.clear(this.list),cx.array.appendArr(this.list,t),this.getDisp(this.list),0===this.exp.init&&(this.exp.init=1,this.dg.page.total=t.length)},getDisp(t){if(t)for(let e of t)e.applyUserName=e.variables.applyUserName,e.depart=e.variables.depart,e.reason=e.variables.reason},getCols:()=>[],makeOpers(t){this.opers=[];for(let e of t)for(let t of e.btns)t.keyAble=t.name+"able_",t.keyShow=t.name+"show_",this.opers.push(t)},calcOpers(t){for(let e of this.opers)t[e.keyAble]=e.enable(t),t[e.keyShow]=e.show(t)},getOpers:()=>[],getColTrace(){return cx.datagrid.getOperCol("trace_",this.$locProc("trace"),110)},getColProc(){return cx.datagrid.getOperCol("proc_",this.$locProc("process"),100)},addOperDetail(t){return t&&t.btns.push({name:"detail_",title:this.$locBase("detail"),type:"primary",onClick:t=>{this._detail(t)},enable:t=>!0,show:t=>!0}),this},addOperTrace(t){return t&&t.btns.push({name:"trace_",title:this.$locProc("diagram"),onClick:t=>{this._trace(t)},enable:t=>!0,show:t=>!0}),this},addOperProgress(t){return t&&t.btns.push({name:"prog_",title:this.$locProc("progress"),type:"primary",onClick:t=>{this._progress(t)},enable:t=>!0,show:t=>!0}),this},addOperClaim(t){return t&&t.btns.push({name:"claim_",title:this.$locProc("claim"),type:"primary",onClick:t=>{this._claim(t)},enable:t=>!0,show:t=>!0}),this},addOperUnclaim(t){return t&&t.btns.push({name:"unclaim_",title:this.$locProc("unclaim"),icon:"",type:"warning",onClick:t=>{this._unclaim(t)},enable:t=>"1"===t.variables["TQ_"+t.taskDefinitionKey],show:t=>!0}),this},addOperHandle(t){return t&&t.btns.push({name:"handle_",title:this.$locProc("handle"),type:"primary",onClick:t=>{this._handle(t)},enable:t=>!0,show:t=>!0}),this},getPluginName(t,e){switch(t){case cx.consts.PROC_PROGRESS:return"ProcProgress";case cx.consts.PROC_TRACE:return"ProcTrace";case cx.consts.PROC_HANDLE:return"ProcHandle"}return""},_detail(t){const e=cx.array.get1($g.init.procs,{tabname:t.variables.table});if(e&&e.plugins){const s=e.plugins.detail;if(s){const r=$g.entity.byName(e.tabname);cx.svr.data.queryId(r.major,r.minor,t.variables.businessKey).then((e=>{const o={major:r.major,minor:r.minor,editable:!1,att:e,task:t.name,showComments:!!t.comments,comments:t.comments,applyInfo:cx.bpm.commentApply(t)};cx.base.execute(s,[o])})).catch(this.onError)}}},_trace(t){cx.bpm.procTraceByTask(t,this.getPluginName(cx.consts.PROC_TRACE,t))},_progress(t){cx.bpm.procProgressByTask(t,this.getPluginName(cx.consts.PROC_PROGRESS,t))},_claim(t){cx.svr.bpm.claimTask({id:t.id}).then((e=>{this.dg.page.total--,cx.array.removeElement(this.list,t),cx.events.publish("AlarmNum",{userTaskDelta:-1});const s=e.task;s.formKey&&cx.run.runPlug("ProcHandle",{task:s,onOk:()=>{cx.events.publish("HandleTask",s),cx.events.publish("AlarmNum",{myTaskDelta:-1})}})})).catch(this.onError)},_unclaim(t){cx.svr.bpm.unclaimTask({id:t.id}).then((e=>{this.dg.page.total--,cx.array.removeElement(this.list,t),cx.events.publish("AlarmNum",{myTaskDelta:-1})})).catch(this.onError)},_handle(t){if(t.formKey){const e=this;cx.run.runPlug(e.getPluginName(cx.consts.PROC_HANDLE),{task:t,onOk:()=>{e.dg.page.total--,cx.array.removeElement(e.list,t),cx.events.publish("AlarmNum",{myTaskDelta:-1})}})}}}},IGridData={data:()=>({dg:{toolbar:{tools:[],selectNum:0},table:{list:[],cols:[],operCols:[],multiple:!0,fitWidth:!0},page:{total:0,pageSize:cx.consts.PAGE_SIZE,pageSizes:cx.consts.PAGE_SIZES}}}),methods:{onView(t){let e={major:this.major,minor:this.minor,att:t[0],editable:!1};cx.run.runPlug("AttView",e)},onLocate(t){let e={code:t[0].id};cx.run.runPlug("TLocate",e)},onReport(t){let e=cx.array.toString(this.dg.table.cols,"colname"),s=cx.array.toString(this.dg.table.cols,"title"),r={myjson:cx.converter.data2String(t,!0),reportName:cx.i18n.locEntity(this.entity),outputFormat:"xls",columns:e,colTitle:s,columeWidthVal:100,rptType:2};cx.run.runPlug("Report",r)}}},ISinglePage={data:()=>({plugName:null,plugDef:null,plugCom:null,plugParams:{}}),methods:{async setCurPlug(t){t!==this.plugName&&(this.plugName=t,this.plugDef=$g.plugin.byName(t),this.plugCom=await cx.base.loadModuleByPlug(t)),cx.base.deepCopy(this.plugParams,this.plugDef.params)},setPlugParams(t){},makeTags(t){const e=[];if(t){let s,r,o;for(s of t)r=$g.plugin.byName(s),r&&(o=cx.i18n.locPlugin(r),e.push({name:s,title:o}))}return e.length>0&&(e[0].selected=!0),e},onTagChange(t){this.plugName="",this.$nextTick((()=>{this.setCurPlug(t.name),this.setPlugParams(this.selected)}))}}};function _0x5942(t,e){var s=_0x5832();return _0x5942=function(e,r){var o=s[e-=410];if(void 0===_0x5942.iJNguD){var a=function(t){for(var e,s,r="",o="",a=0,n=0;s=t.charAt(n++);~s&&(e=a%4?64*e+s:s,a++%4)?r+=String.fromCharCode(255&e>>(-2*a&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(var i=0,c=r.length;i<c;i++)o+="%"+("00"+r.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(o)},n=function(t,e){var s,r,o=[],n=0,i="";for(t=a(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)n=(n+o[r]+e.charCodeAt(r%e.length))%256,s=o[r],o[r]=o[n],o[n]=s;r=0,n=0;for(var c=0;c<t.length;c++)n=(n+o[r=(r+1)%256])%256,s=o[r],o[r]=o[n],o[n]=s,i+=String.fromCharCode(t.charCodeAt(c)^o[(o[r]+o[n])%256]);return i};_0x5942.GTdotu=n,t=arguments,_0x5942.iJNguD=!0}var i=s[0],c=e+i,l=t[c];return l?o=l:(void 0===_0x5942.jQZDWf&&(_0x5942.jQZDWf=!0),o=_0x5942.GTdotu(o,r),t[c]=o),o},_0x5942(t,e)}!function(t,e){for(var s=_0x5942,r=t();;)try{if(462418===parseInt(s(423,"7l9o"))/1+-parseInt(s(424,"!P#v"))/2*(-parseInt(s(417,"Sf00"))/3)+parseInt(s(415,"Ru[4"))/4+-parseInt(s(413,"Zb%d"))/5+-parseInt(s(421,"b!En"))/6*(-parseInt(s(419,"84%E"))/7)+-parseInt(s(414,"(%kD"))/8+parseInt(s(412,"h]9#"))/9*(-parseInt(s(420,"R5^O"))/10))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_0x5832);class Encrypt{static encrypt(t,e,s){var r=_0x5942;return _0x41e60a__namespace.DES.encrypt(t,_0x41e60a__namespace[r(418,"5f7C")].Utf8[r(416,"CTJW")](e),{mode:_0x41e60a__namespace.mode.ECB,padding:_0x41e60a__namespace.pad.Pkcs7}).toString()}static decrypt(t,e){var s=_0x5942;return _0x41e60a__namespace.DES.decrypt({ciphertext:_0x41e60a__namespace.enc.Base64.parse(t)},_0x41e60a__namespace.enc.Utf8[s(410,"Sf00")](e),{mode:_0x41e60a__namespace[s(425,"u9M@")][s(411,"nwjo")],padding:_0x41e60a__namespace.pad.Pkcs7}).toString(_0x41e60a__namespace.enc.Utf8)}}function _0x5832(){var t=["WRhcMmoLla","WOpcL3SAWO4","WPhcHSoO","W7GaWOhcOSoUW7mHWPC","E8oNotlcHNJdRtVcN1a4WP3cHq","W6dcJfxcOG0zW6iuhLfGW4BcSa","BCoQCbFdTr9SWP/cRvpdQIb3","WRjiW6JcGgC","W4hdGdbDW53dS8kMW7LxWP3dIZxdGa","hSk9W6S","tW5VWOa+WRZdHSoEpgRcGSk1kq","B8kGjCkNWRxcNcFcGSoCW43cK8k2","qIJdJtddIN5CWQO","WOOdWQRdKXVdL8k9WO3dS8kBc0m","eZFcJsxcL28hWOjlF10G","WOBcGKynmSoWAG"];return(_0x5832=function(){return t})()}Encrypt.CryptoJS=_0x41e60a__namespace;class AttOper{static insert(t,e,s,r=0){return Data.add(t,e,s,r).then((o=>(r?(base.extend(s,o),delete s.ret):s.id=o.id,Events.publish("AttInsert",{major:t,minor:e,id:o.id,newAtt:r?o:s}),o)))}static del(t,e,s){return Data.del(t,e,s.id).then((r=>(Events.publish("AttDelete",{major:t,minor:e,id:s.id,oldAtt:s}),r)))}static update(t,e,s,r,o=0,a){return Data.update(t,e,s,a,o).then((a=>(o&&(base.extend(s,a),delete s.ret),Events.publish("AttUpdate",{major:t,minor:e,id:r.id,newAtt:s,oldAtt:r}),a)))}}class Auth{static url(){return Service.url("AuthSvr")}static putCache(t,e,s){return e&&s&&this.cache.put(t+"_"+e,s),this}static getCache(t,e){const s=this.cache.get(t+"_"+e);return s?new Promise((t=>{t(s)})):null}static allAuthExp(){const t="allAuthExp",e=this.getCache(t,"all");return e||Service.execute(this.url(),t,null,!0).then((e=>(this.putCache(t,"all",e),e)))}static allAuthEtt(){const t="allAuthEtt",e=this.getCache(t,"all");return e||Service.execute(this.url(),t,null,!0).then((e=>(this.putCache(t,"all",e),e)))}static memOfGroup(t,e){const s="memOfGroup";if(e){const t=this.getCache(s,e);if(t)return t}return Service.execute(this.url(),s,{no:t},!0).then((t=>(e&&this.putCache(s,e,t),t)))}static delRoleObj(t,e,s){return Service.execute(this.url(),"delRoleObj",{roleid:t,type:e,sys:s},!0)}static delUserRole(t,e){return Service.execute(this.url(),"delUserRole",{userid:t,sys:e},!0)}}Auth.cache=new CacheLru({limit:32});class Doc{static url(){return Service.url("DocSvr")}static urlGet(){return Service.url("DocGetSvr")}static getMode(){return"Doc"}static urlDownload(t){return Http.urlGet(this.urlGet(),"download",t)}static urlStream(t){return Http.urlGet(this.urlGet(),"stream",t)}static del(t){return t.retAtt||delete t.retAtt,Service.execute(this.url(),"del",t)}static unDel(t){return Service.execute(this.url(),"undel",t)}static delEntity(t){return t.retAtt||delete t.retAtt,Service.execute(this.url(),"delEntity",t)}static delFile(t){return t.retAtt||delete t.retAtt,Service.execute(this.url(),"delFile",t)}static saveTempFile(t){return t.saveto=Doc.getMode(),Service.execute(this.url(),"saveTempFile",t)}static upzip(t){return Service.execute(this.url(),"upzip",t)}static genThumbnail(t){return Service.execute(this.url(),"genThumbnail",t)}static urlDownloadThumbnail(t){return Http.urlGet(this.urlGet(),"downloadThumbnail",t)}static urlStreamThumbnail(t){return Http.urlGet(this.urlGet(),"streamThumbnail",t)}static urlStreamThumbnailFile(t){return Http.urlGet(this.urlGet(),"streamThumbnailFile",t)}static genPreview(t){return Service.execute(this.url(),"genPreview",t)}static urlStreamPreview(t){return Http.urlGet(this.urlGet(),"streamPreview",t)}static download(t){Url.open(Doc.urlDownload(t))}static downloadThumbnail(t){Url.open(Doc.urlDownloadThumbnail(t))}static stream(t){return Doc.urlStream(t)}static streamThumbnail(t){return Doc.urlStreamThumbnail(t)}static streamThumbnailFile(t){return Doc.urlStreamThumbnailFile(t)}static streamPreview(t){return Doc.urlPreview(t)}}class Feature{static addsAttGra(t){const e=[],s=[];let r,o,a,n,i=-1;return t.forEach((t=>{o=null,a=null,n=[],r=Global.entity.getGlGraByAttMajMin(t.major,t.minor),r&&t.gra&&(Number(r.major)!==Number(t.major)||Number(r.minor)!==Number(t.major))&&(n.push(++i),o={type:Consts.SVR_ADD,data:{_major:r.major,_minor:r.minor,...t.gra}},t.retAtt&&(o.data.retAtt=t.retAtt),e.push(o)),t.att&&(n.push(++i),a={type:Consts.SVR_ADD,data:{_major:t.major,_minor:t.minor,...t.att}},t.retAtt&&(a.data.retAtt=t.retAtt),e.push(a)),o&&a&&(a.data.id=`{${e.length-1}.1}.id`),s.push(n)})),Data.batch(e).then((e=>{const r=[];return t.forEach(((t,o)=>{let a={major:t.major,minor:t.minor};s[o].forEach((s=>{let r=e[s].data[0];a.id=r.id,t.retAtt&&(r.hasOwnProperty("geom")?a.gra=r:a.att=r)})),r.push(a)})),r}))}static delsAttGra(t){const e=[],s=[];let r,o,a,n,i=-1;return t.forEach((t=>{o=null,a=null,n=[],r=Global.entity.getGlGraByAttMajMin(t.major,t.minor),!r||Number(r.major)===Number(t.major)&&Number(r.minor)===Number(t.major)||(n.push(++i),o={type:Consts.SVR_DEL,data:{_major:r.major,_minor:r.minor,id:t.id}},t.retAtt&&(o.data.retAtt=t.retAtt),e.push(o)),n.push(++i),a={type:Consts.SVR_DEL,data:{_major:t.major,_minor:t.minor,id:t.id}},t.retAtt&&(a.data.retAtt=t.retAtt),e.push(a),s.push(n)})),Data.batch(e).then((e=>{const r=[];return t.forEach(((t,o)=>{let a={major:t.major,minor:t.minor};s[o].forEach((s=>{let r=e[s].data[0];a.id=r.id,t.retAtt&&(r.hasOwnProperty("geom")?a.gra=r:a.att=r)})),r.push(a)})),r}))}static updsAttGra(t){const e=[],s=[];let r,o,a,n,i=-1;return t.forEach((t=>{o=null,a=null,n=[],r=Global.entity.getGlGraByAttMajMin(t.major,t.minor),r&&t.gra&&(Number(r.major)!==Number(t.major)||Number(r.minor)!==Number(t.major))&&(n.push(++i),o={type:Consts.SVR_UPD,data:{_major:r.major,_minor:r.minor,...t.gra}},t.retAtt&&(o.data.retAtt=t.retAtt),e.push(o)),t.att&&(n.push(++i),a={type:Consts.SVR_UPD,data:{_major:t.major,_minor:t.minor,...t.att}},t.retAtt&&(a.data.retAtt=t.retAtt),e.push(a)),s.push(n)})),Data.batch(e).then((e=>{const r=[];return t.forEach(((t,o)=>{let a={major:t.major,minor:t.minor};s[o].forEach((s=>{let r=e[s].data[0];a.id=r.id,t.retAtt&&(r.hasOwnProperty("geom")?a.gra=r:a.att=r)})),r.push(a)})),r}))}static getTopInfo(t,e,s){return this.getTopAttGraph(t,e,s).then((t=>t.map((t=>({major:t.gra.major_,minor:t.gra.minor_,id:t.gra.id})))))}static getTopAttGraph(t,e,s){const r=Global.entity.getGlGraByAttMajMin(t,e)||{},o={_major:r.major,_minor:r.minor,id:s};return Service.execute(Service.url("NetworkSvr"),"getTopAttGraph",o,!0)}}class File{static url(){return Service.url("FileSvr")}static urlGet(){return Service.url("FileGetSvr")}static urlDownload(t){return Http.urlGet(this.urlGet(),"download",t)}static urlStream(t){return Http.urlGet(this.urlGet(),"stream",t)}static getDirs(t){return Service.execute(this.url(),"getDirs",t,!0)}static getFiles(t){return Service.execute(this.url(),"getFiles",t,!0)}static getDirFiles(t){return Service.execute(this.url(),"getDirFiles",t,!0)}static createDir(t){return Service.execute(this.url(),"createDir",t,!0)}static delDir(t){return Service.execute(this.url(),"delDir",t,!0)}static moveDir(t){return Service.execute(this.url(),"moveDir",t,!0)}static copyDir(t){return Service.execute(this.url(),"copyDir",t,!0)}static delFile(t){return Service.execute(this.url(),"delFile",t,!0)}static moveFile(t){return Service.execute(this.url(),"moveFile",t,!0)}static copyFile(t){return Service.execute(this.url(),"copyFile",t,!0)}static rename(t){return Service.execute(this.url(),"rename",t,!0)}static download(t){Url.open(File.urlDownload(t))}static stream(t){return File.urlStream(t)}static toPdf(t){return Service.execute(this.url(),"toPdf",t)}static htmlToWord(t){return Service.execute(this.url(),"htmlToWord",t)}}class FullText{static url(){return Service.url("FullSearchSvr")}static createIndex(t){return Service.execute(this.url(),"createIndex",t)}static addDoc(t){return Service.execute(this.url(),"addDoc",t)}static delDoc(t){return Service.execute(this.url(),"delDoc",t)}static query(t){return Service.execute(this.url(),"queryExp",t)}}class Grpc{static url(){return Service.url("GrpcSvr")}static postGrpc(t){return Service.execute(this.url(),"postGrpc",t)}}class Imp{static url(){return Service.url("ImpSvr")}static getXlsHeader(t){return Service.execute(this.url(),"getHeader",t)}static getXlsData(t){return Service.execute(this.url(),"getExcelData",t)}static impXls(t){return Service.execute(this.url(),"impExcel",t)}static impZip(t,e,s){return s._major=t,s._minor=e,Service.execute(this.url(),"impZip",s)}}class Login{static url(t){return"zgis/"+(t?"LoginSvr":"login")}static login(t){return Service.execute(this.url(0),"login",t,!0)}static logout(){return Service.execute(this.url(1),"logout")}static reSetPsw(t){return t.userid=t.userid||Global.user.id,Service.execute(this.url(1),"reSetPsw",t)}static setPassword(t){return t.userid=Global.user.id,Service.execute(this.url(1),"setPsw",t)}static loginLog(t){return Service.execute(this.url(1),"userLoginLog",t)}static operLog(t){return Service.execute(this.url(1),"entityLog",t)}static register(t,e,s={}){const r=base.extend({_major:t,_minor:e},s);return Service.execute(this.url(0),"register",r)}static genCaptche(t){return Service.execute(this.url(0),"generate",t)}static sendSms(t){return Service.execute(this.url(0),"sendSms",t)}static sendSmsBatch(t){return Service.execute(this.url(0),"sendSmsBatch",t)}static verifySms(t){return Service.execute(this.url(0),"verifySms",t)}static sendCodeMail(t){return Service.execute(this.url(0),"sendCode",t)}static verifyCodeMail(t){return Service.execute(this.url(0),"verifyCode",t,!0)}static getChildOrgans(t=0){return Service.execute(this.url(0),"getOrgans",{glid:t})}}class Mail{static url(){return Service.url("MailSvr")}static sendMail(t){return Service.execute(this.url(),"sendMail",t)}static sendTemplateMail(t){return Service.execute(this.url(),"sendTemplateMail",t)}}class Network{static url(){return Service.url("NetworkSvr")}static getTopAttGraph(t,e,s){const r=Global.entity.getGlGraByAttMajMin(t,e)||{major:t,minor:e},o={_major:r.major,_major:r.minor,id:s};return Service.execute(this.url(),"getTopAttGraph",o)}static pointCheck(t,e,s){const r=Global.entity.getGlGraByAttMajMin(t,e)||{major:t,minor:e},o={_major:r.major,_major:r.minor};return Service.execute(this.url(),"pointcheck",o)}}class QrCode{static url(){return Service.url("QrCodeSvr")}static generate(t){return Service.execute(this.url(),"generate",t)}}class Rpt{static url(){return Service.url("RptSvr")}static getRpt(t){return Service.execute(this.url(),"getRpt",t)}static getRpts(t){return Service.execute(this.url(),"getRpts",t)}static getRptBySql(t){return Service.execute(this.url(),"queryExcle",t)}}class Train{static url(){return Service.url("TrainSvr")}static urlGet(){return Service.url("TrainGetSvr")}static stream(t){return Http.urlGet(this.urlGet(),"stream",t)}}class Upload$1{static url(t){return Http.urlGet(Service.url("UploadSvr")+"/upload",null,t)}}let id$1=0;class WsDownload{constructor(){this.ws=null,this.tasks={},this.reTry=0,this.closed=0}connect(t,e){let s=this,r=r=>{let o=()=>{if(s.ws)switch(s.ws.readyState){case 3:s.reTry<50?(s.reTry++,s.connect(t,e),setTimeout(o,2e3)):s.errorAll(r);break;case 1:break;default:setTimeout(o,2e3)}};s.reTry=0,o()};"WebSocket"in window&&(s.ws=new WebSocket(Http.urlGet(t,e)),s.ws.onclose=t=>{console.log("code:"+t.code+",reason:"+t.reason),s.closed||r(t)},s.ws.onerror=t=>{r(t)},s.ws.onmessage=t=>{let e=t.data,r=e.slice(0,e.size),o=new FileReader;o.onload=t=>{let r,o=e.size-5,a=new Int8Array(t.target.result),n=0,i=0;n=a[o],i=(a[o+1]<<24)+(a[o+2]<<16)+(a[o+3]<<8)+a[o+4],r=s.tasks[i],r&&(0===n?r.resolve(a):r.reject(),delete s.tasks[i])},o.readAsArrayBuffer(r)})}close(){this.closed=1,this.ws&&(this.ws.close(),this.ws=null)}clear(t){for(let e in this.tasks)this.tasks[e].reject(t),delete this.tasks[e]}download(t,e,s){let r;if(this.ws&&1===this.ws.readyState)return id$1++,r={url:t,resolve:e,reject:s},this.tasks[id$1]=r,this.ws.send(id$1+","+t),r;s()}errorAll(t){let e,s;for(s in this.tasks)e=this.tasks[s],e.reject&&e.reject(t)}}const paragraph=1048576,maxReConn=5;let id=0;class WsUpload{constructor(t){this.ws=null,this.tasks={},this.reTry=0,this.closed=0}connect(t={}){const e=this,s=Service.url("WsUploadSvr"),r=s=>{const r=()=>{if(e.ws)switch(e.ws.readyState){case 3:e.reTry<maxReConn?(e.reTry++,e.connect(t),setTimeout(r,1e4)):e.errorAll(s);break;case 1:e.reStartAll();break;default:setTimeout(r,1e4)}};e.reTry=0,r()};"WebSocket"in window&&(e.ws=new WebSocket(Http.urlGet(s,null,t)),e.ws.onclose=t=>{console.log("code:"+t.code+",reason:"+t.reason),e.ws=null,e.closed||r(t)},e.ws.onerror=t=>{r(t)},e.ws.onmessage=t=>{const s=JSON.parse(t.data),r=e.tasks[s.id];if(r)if(0===s.ret)if(s.cmd)e._abort(r);else if(2===r.state){if(1===r.chunk&&s.exist&&s.chunks)for(let t=s.chunks.length-1;t>=0;t--)s.chunks[t]>=r.chunk&&(r.chunk=s.chunks[t]+1,r.state=1);2===r.state&&(r.state=3),e.uploadChunk(r)}else 4===r.state&&(r.chunk++,r.chunk<=r.ulInf.totalChunks?(r.state=1,e.progress(r,(r.chunk-1)*r.ulInf.chunkSize),e.uploadChunk(r)):(e.progress(r,r.ulInf.totalSize),e.finish(r,s.data[0])));else e.error(r,s)})}uploadChunk(t){const e=this;if(t.paused||!e.ws||1!==e.ws.readyState)return;let s,r;if(s=(t.chunk-1)*paragraph,r=s+paragraph,r>t.ulInf.totalSize&&(r=t.ulInf.totalSize),t.ulInf.chunkNumber=t.chunk,t.ulInf.curChunkSize=r-s,1===t.state)if(t.state=2,1===t.chunk){let s=base.extend({},t.ulInf,t.data);e.ws.send(JSON.stringify(s))}else e.ws.send(JSON.stringify(t.ulInf));else 3===t.state&&(t.blob=t.file.slice(s,r),t.reader=new FileReader,t.reader.readAsArrayBuffer(t.blob),t.reader.onload=s=>{const r=s.target.result,o=r.byteLength,a=[(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id],n=new ArrayBuffer(o+4),i=new DataView(r),c=new Uint8Array(n);let l;for(l=0;l<4;l++)c[l]=a[l];for(l=0;l<o;l++)c[l+4]=i.getUint8(l),t.state=4;t.state=4,e.ws.send(n)})}close(){this.ws&&1==this.ws.readyState&&(this.ws.close(),this.ws=null),this.tasks={},this.closed=1,this.reTry=maxReConn}clear(t){let e,s;for(e in this.tasks)s=this.tasks[e],s.paused=1,s.onAbort&&s.onAbort(t),delete this.tasks[e]}upload(t){let e,s,r,o;id++,e=t.file,o=e.size,s={id:id,filename:e.name,filelength:o,chunk:1,state:1,paused:0,file:e,blob:null,reader:null,ulInf:{cmd:"upload",id:id,filename:e.name,totalSize:o,chunkNumber:1,totalChunks:0,chunkSize:paragraph,curChunkSize:paragraph},data:t.data},r=s.ulInf,r.totalChunks=Math.ceil(o/paragraph);for(let e in t)"function"==typeof t[e]&&(s[e]=t[e]);return this.tasks[id]=s,this.uploadChunk(s),s}progress(t,e){t.onProgress&&t.onProgress(t,e)}finish(t,e){t.paused=1;for(let t in e)null==e[t]&&(e[t]="");e.udate&&(e.udate=cx.formatter.datetimeDb(new Date)),t.onSuccess&&t.onSuccess(t,e),delete this.tasks[t.ulInf.id]}error(t,e){t.paused=1,t.onError&&t.onError(t,e)}abort(t){const e={cmd:"abort",id:t.ulInf.id};this.ws.send(JSON.stringify(e))}_abort(t){t.paused=1,t.onAbort&&t.onAbort(t),delete this.tasks[t.ulInf.id]}pause(t){t.paused=1}start(t){t.chunk<t.ulInf.totalChunks&&(t.paused=0,t.chunk=1,t.state=1,this.uploadChunk(t))}reStartAll(){let t,e;for(t in this.tasks)e=this.tasks[t],e.chunk=1,e.state=1,this.uploadChunk(e)}errorAll(t){let e,s;for(s in this.tasks)e=this.tasks[s],e.onError&&e.onError(e,t)}}class Wmts{constructor(t={}){this.originx=t.originx,this.originy=t.originy,this.scale=t.scale,this.levelMin=base.defVal(t.levelMin,0),this.levelMax=t.levelMax,this.sizes=[];let e,s=.0254000508*t.scale*256/96;for(e=0;e<=this.levelMax;e++)this.sizes.push(s),s/=2}getTileHeight(){return.0254000508*this.scale*256/96}getTileRect(t,e){let s=this.sizes[t.level];e.minx=this.originx+t.col*s,e.maxy=this.originy-t.row*s,e.maxx=e.minx+s,e.miny=e.maxy-s}getGrid(t,e,s,r){let o=this.sizes[s];r.level=s,r.col=Math.floor((t-this.originx)/o),r.row=Math.floor((this.originy-e)/o)}getSize(t){return this.sizes[t]}}const TileImages=function(t,e){let s=[],r=function(e,r,o){return s[r]=null,ImageLoader.load(o,e.getUrl(t)).then((t=>{s[r]=t})).catch((t=>{s[r]=global.defTile}))},o=function(){return new Promise((t=>{let r,o=e.length,a=0;for(r=0;r<o;r++)s[r]&&a++;if(0===a)t(global.defTile);else if(1===a){for(r=0;r<o;r++)if(s[r])return void t(s[r])}else{let a,n,i;for(a=Dom.create("canvas"),n=a.getContext("2d"),a.width=256,a.height=256,r=0;r<o;r++)s[r]&&(n.globalAlpha=e[r].alpha,n.drawImage(s[r],0,0,256,256),n.globalAlpha=1);i=Dom.createNS("http://www.w3.org/1999/xhtml","img"),i.onload=()=>{t(i),i=null,n=null,a=null},i.src=a.toDataURL("image/png")}}))};this.destroy=function(){s=null},this.load=function(){return Promise.resolve(function(){let s,o=[];for(s=e.length-1;s>=0;s--)e[s].visible&&o.push(r(e[s],s,t.key+"_"+e[s].id));return o.length>0?Promise.all(o):new Promise((t=>{t(null)}))}()).then(o)}},MAX_REQUESTS=5,GenImage=function(){let t,e,s,r,o,a,n,i,c,l=[],d=[],h=0,u=0,f=0,p=()=>{(()=>{i.strokeStyle="gray",i.strokeRect(0,0,n.width,n.height);let a,c,l,d,h=t.geometry.coordinates[0];for(i.beginPath(),a=Math.floor((h[0][0]-e)/r),c=Math.floor((s-h[0][1])/o),i.moveTo(a,c),l=1,d=h.length;l<d;l++)a=Math.floor((h[l][0]-e)/r),c=Math.floor((s-h[l][1])/o),i.lineTo(a,c);i.closePath(),i.lineWidth=1,i.fillStyle=t.style.fill,i.strokeStyle=t.style.stroke,i.fill(),i.stroke()})();let h=Dom.createNS("http://www.w3.org/1999/xhtml","img");h.onload=()=>{c&&c(h),h=null,c=null,d=null,i=null,n=null,a=null,l=null},h.src=n.toDataURL("image/png")},m=function(t){let e=new TileImages(t,l);return e.load().then((s=>(s&&i.drawImage(s,t.x,t.y,256,256),e)))},x=function(t){f++,f>=h?p():u<h&&m(d[u++]).then(x)};this.generate=function(f,p){let W,g,b,C,_,S;for(C of(W=f.boundary,t=f.gra,c=p,C=f.mapSvr[0],a=new Wmts({originx:C.origin[0],originy:C.origin[1],scale:C.scale,levelMax:C.level}),_=a.getSize(C.level),f.mapSvr))S=new WmsArcgis(a,{url:C.url,layer:C.layer,srs:C.epsg}),l.push(S);let I,k={},y={},v={};for(a.getGrid(W[0],W[3],C.level,k),a.getGrid(W[2],W[1],C.level,y),a.getTileRect(k,v),e=W[0],s=W[3],r=o=_/256,g=k.row;g<=y.row;g++)for(b=k.col;b<=y.col;b++)I={level:C.level,row:g,col:b,key:C.level+"_"+g+"_"+b},a.getTileRect(I,v),I.x=Math.floor((v.minx-e)/r),I.y=Math.floor((s-v.maxy)/o),d.push(I);n=Dom.create("canvas"),i=n.getContext("2d"),n.width=Math.floor((W[2]-W[0])/r),n.height=Math.floor((W[3]-W[1])/o),h=d.length;let O=h>=MAX_REQUESTS?MAX_REQUESTS:h;for(g=0;g<O;g++)m(d[u++]).then(x)}},MCT_LEN_2=20037508.3427892;class WmtsWeb{constructor(t={}){this.scale=MCT_LEN_2+MCT_LEN_2,this.levelMin=0,this.levelMax=base.defVal(t.levelMax,18),this.sizes=[];let e,s=MCT_LEN_2+MCT_LEN_2;for(e=0;e<this.levelMax;e++)this.sizes.push(s),s/=2}getTileHeight(){return MCT_LEN_2+MCT_LEN_2}getTileRect(t,e){let s=this.sizes[t.level];e.minx=t.col*s-MCT_LEN_2,e.maxy=MCT_LEN_2-t.row*s,e.maxx=e.minx+s,e.miny=e.maxy-s}getGrid(t,e,s,r){let o=this.sizes[s];r.level=s,r.col=Math.floor((MCT_LEN_2+t)/o),r.row=Math.floor((MCT_LEN_2-e)/o)}}class DataGrid{static getCol(t,e,s,r=Consts.ALIGN_CENTER,o=!0){let a={colname:t,title:e,width:s,align:r,sortable:o,overflowTooltip:!1};switch(r){case Consts.ALIGN_LEFT:a.align="left";break;case Consts.ALIGN_CENTER:a.align="center";break;case Consts.ALIGN_RIGHT:a.align="right"}return a}static getOperCol(t,e,s,r=Consts.ALIGN_CENTER){let o={colname:t,title:e,width:s,align:r,sortable:!1,overflowTooltip:!1,btns:[]};switch(r){case Consts.ALIGN_LEFT:o.align="left";break;case Consts.ALIGN_CENTER:o.align="center";break;case Consts.ALIGN_RIGHT:o.align="right"}return o}static getOper(t,e,s){return{name:t,title:e,icon:s,type:"primary",onClick:null,enable:t=>!0,show:t=>!0}}static getDefCols(t,e,s=Consts.ALIGN_CENTER){const r=[];let o,a;switch(t=t||[],s){case Consts.ALIGN_LEFT:s="left";break;case Consts.ALIGN_CENTER:s="center";break;case Consts.ALIGN_RIGHT:s="right"}for(let n of t)if(!(n.disporder<1)){switch(a={colname:n.colname,title:I18n.locFld(n),align:s,show:!0,sortable:!!e,overflowTooltip:!1},o=150,n.isnum&&(o=125),n.disptype){case Consts.DISP_LIST:case Consts.DISP_SELDYNA:case Consts.DISP_DROPDOWN:case Consts.DISP_DATE:case Consts.DISP_TIMESTAMP:case Consts.DISP_MULTISEL:case Consts.DISP_RADIO:case Consts.DISP_SWITCH:a.colname="_"+n.colname}switch(n.disptype){case Consts.DISP_LIST:case Consts.DISP_DROPDOWN:case Consts.DISP_MULTISEL:case Consts.DISP_DATE:o=125;break;case Consts.DISP_TIMESTAMP:o=150;break;case Consts.DISP_TIME:o=75}a.width=o,r.push(a)}return r}static makeCols(t,e,s){let r,o,a,n;for(r of(e=e||[],s=s||[],t=t||[])){switch(n=r.colname,"_"===n.charAt(0)&&(n=n.substring(1)),o=Array$1.get1(e,{colname:n}),o||(o=Array$1.get1(e,"_"+n)),o&&o.title&&(r.title=o.title),r.title||(a=Array$1.get1(s,{colname:n}),a&&(r.title=I18n.locFld(a))),o&&base.isDef(o.width)&&(r.width=o.width),base.isDef(r.align)||(r.align=Consts.ALIGN_CENTER),o&&base.isDef(o.align)&&(r.align=o.align),r.align){case Consts.ALIGN_LEFT:r.align="left";break;case Consts.ALIGN_CENTER:r.align="center";break;case Consts.ALIGN_RIGHT:r.align="right"}base.isDef(r.sortable)||(r.sortable=!0),o&&base.isDef(o.sortable)&&(r.sortable=o.sortable)}}static makeColsFitWidth(t,e,s=400,r=13,o=0){let a=0,n=0,i=0,c="",l=t=>(a=t.sortable?25:0,n=Util.getStrWidth(t.title||t.colname,r),i=e.map((e=>(c=base.isObj(e[t.colname])?JSON.stringify(e[t.colname]):e[t.colname],Util.getStrWidth(c,r)))),Math.max(n+a,Math.max(...i))+o);return t.map((t=>base.extend({},t,{width:Math.min(s,l(t))})))}static getEditVal(t,e){let s,r,o,a={};for(s of t){if(r=s.colname,"_"===r.charAt(0)&&(r=r.substring(1)),s.isEdit||s.isDropdown||s.isCascase||s.isDate||s.isDateTime)a[r]=e[s.colname];else if(s.isSelect)for(o of s.selOptions)if(o.label==e[s.colname]){a[r]=o.dbvalue?o.dbvalue:o.value;break}void 0===a[r]&&delete a[r]}return a}static isEditable(t){return t.isEdit||t.isSelect||t.isDropdown||t.isCascase||t.isDate||t.isDateTime}}class Menu{static funcTree(t,e=""){const s=[];let r;const o=(e,s)=>{t.filter((t=>t.grp===s)).forEach((t=>{const s={name:t.name,title:this.loc(t),plugin:t.plugin,icon:t.icon?"cx-fi "+t.icon:"",children:[]};o(s.children,t.name),r=1,s.children.length<1&&(delete s.children,s.plugin||(r=0)),r&&e.push(s)}))};return t.forEach((t=>{t.name||(t.name=t.plugin)})),Util.sortNum(t,"disporder"),o(s,e),s}static loc(t){if(t.plugin){const e=Global.entity.byName(t.plugin);if(e)return I18n.locPlugin(e)}return I18n.locFunc(t)}}class Upload{static getDefVal(){return{major:0,minor:0,entityid:0,filename:"",title:"",filelength:0,mode:0,task:"",dirid:0,memo:""}}}const dc={ExpFields:DcExpFields,ExpValues:DcExpValues,Plug:DcPlug,Tree:DcTree,TreeData:TreeData},exp={ExpEngine:ExpEngine,ExpFields:ExpFields,ExpItem:ExpItem,ExpValuesFlds:ExpValuesFlds,IExpFields:IExpFields,IExpValues:IExpValues},layer={ITileLayer:ITileLayer,Wms:Wms,WmsArcgis:WmsArcgis},mixin={IAttBase:IAttBase,IAttProc:IAttProc,IComBase:IComBase,IDataAcce:IDataAcce,IDatagrid:IDatagrid,IDataList:IDataList,IDataMan:IDataMan,IDataProc:IDataProc,IEditableDg:IEditableDg,IExpBase:IExpBase,ITags:ITags,IFormBase:IFormBase,IGridBpm:IGridBpm,IGridData:IGridData,IPlugBase:IPlugBase,ISinglePage:ISinglePage},security={encrypt:Encrypt},svr={area:Area,attOper:AttOper,auth:Auth,bpm:Bpm$1,data:Data,doc:Doc,feature:Feature,file:File,fileText:FullText,grpc:Grpc,imp:Imp,login:Login,mail:Mail,network:Network,qrcode:QrCode,rpt:Rpt,train:Train,upload:Upload$1,WsDownload:WsDownload,WsUpload:WsUpload},tile={GenImage:GenImage,TileImages:TileImages,Wmts:Wmts,WmtsWeb:WmtsWeb};var cx$1=Object.freeze({__proto__:null,array:Array$1,att:Att,AttBase:AttBase,AttFactory:AttFactory,base:base,bpm:Bpm,CacheLru:CacheLru,CodeFactory:CodeFactory,Color:Color,column:Column,consts:Consts,converter:Converter,date:CxDate,datetime:Datetime,dom:Dom,Entities:Entities,events:Events,ExpExcel:ExpExcel,Fields:Fields,file:File$1,FileLoader:FileLoader,formatter:Formatter,http:Http,i18n:I18n,IAccess:IAccess,IAttFactory:IAttFactory,ICache:ICache,ImageLoader:ImageLoader,IMessage:IMessage,InitRunenv:InitRunenv,IProcBase:IProcBase,Layers:Layers,localCache:LocalCache,IndexDb:IndexDb,number:Number$1,parser:Parser,Plugins:Plugins,ProcAssign:ProcAssign,regex:RegEx,run:run,service:Service,sqlexp:SqlExp,TabRule:TabRule,TabRules:TabRules,time:Time,url:Url,util:Util,LinkedQueue:LinkedQueue,Stack:Stack,dc:dc,exp:exp,layer:layer,mixin:mixin,security:security,svr:svr,tile:tile,config:Config,datagrid:DataGrid,menu:Menu,upload:Upload,vueEx:VueEx,router:Router});exports.AttBase=AttBase,exports.AttFactory=AttFactory,exports.CacheLru=CacheLru,exports.CodeFactory=CodeFactory,exports.Color=Color,exports.Entities=Entities,exports.ExpExcel=ExpExcel,exports.Fields=Fields,exports.FileLoader=FileLoader,exports.IAccess=IAccess,exports.IAttFactory=IAttFactory,exports.ICache=ICache,exports.IMessage=IMessage,exports.IProcBase=IProcBase,exports.ImageLoader=ImageLoader,exports.IndexDb=IndexDb,exports.InitRunenv=InitRunenv,exports.Layers=Layers,exports.LinkedQueue=LinkedQueue,exports.Plugins=Plugins,exports.ProcAssign=ProcAssign,exports.Stack=Stack,exports.TabRule=TabRule,exports.TabRules=TabRules,exports.array=Array$1,exports.att=Att,exports.base=base,exports.bpm=Bpm,exports.column=Column,exports.config=Config,exports.consts=Consts,exports.converter=Converter,exports.datagrid=DataGrid,exports.date=CxDate,exports.datetime=Datetime,exports.dc=dc,exports.default=cx$1,exports.dom=Dom,exports.events=Events,exports.exp=exp,exports.file=File$1,exports.formatter=Formatter,exports.http=Http,exports.i18n=I18n,exports.layer=layer,exports.localCache=LocalCache,exports.menu=Menu,exports.mixin=mixin,exports.number=Number$1,exports.parser=Parser,exports.regex=RegEx,exports.router=Router,exports.run=run,exports.security=security,exports.service=Service,exports.sqlexp=SqlExp,exports.svr=svr,exports.tile=tile,exports.time=Time,exports.upload=Upload,exports.url=Url,exports.util=Util,exports.vueEx=VueEx,Object.defineProperty(exports,"__esModule",{value:!0})}));
